(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{317:function(t,e,r){var content=r(323);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("3dd52918",content,!0,{sourceMap:!1})},318:function(t,e,r){"use strict";var n=r(307),o=(r(309),r(74),r(75),r(50),r(25),r(111),r(311),r(305)),l=r(306),c=r(308),h=r.n(c),m=function(){function t(){Object(o.a)(this,t),this.cnt=0,this.map=new Map}return Object(l.a)(t,[{key:"add",value:function(t){return this.map.has(t)||this.map.set(t,this.cnt++),this.map.get(t)}},{key:"get",value:function(t){return h.a.strictEqual(this.map.has(t),!0,"should add before"),this.map.get(t)}},{key:"changeId",value:function(t,e){var r=!0,n=!1,o=void 0;try{for(var l,c=this.map.keys()[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;this.map.get(h)===t&&this.map.set(h,e)}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}}},{key:"reSetId",value:function(){var t=this,e=new Set(Object(n.a)(this.map.keys()).map(function(e){return t.map.get(e)})),r=0,o=!0,l=!1,c=void 0;try{for(var h,m=e[Symbol.iterator]();!(o=(h=m.next()).done);o=!0){var d=h.value;this.changeId(d,r++)}}catch(t){l=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(l)throw c}}this.cnt=r}},{key:"disjoint",value:function(t,e){if(this.map.has(t)&&this.map.has(e)){var r=this.get(t),n=this.get(e);return this.changeId(n,r),r}if(this.map.has(t))return this.map.set(e,this.get(t)),this.get(t);if(this.map.has(e))return this.map.set(t,this.get(e)),this.get(e);var o=this.add(t);return this.map.set(e,o),o}},{key:"del",value:function(t){this.map.delete(t)}},{key:"print",value:function(){var t=this,e=Object(n.a)(this.map.keys()).sort(function(a,b){return t.map.get(a)-t.map.get(b)}),r=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var m=c.value;console.log(m.getString(),this.map.get(m))}}catch(t){o=!0,l=t}finally{try{r||null==h.return||h.return()}finally{if(o)throw l}}}}]),t}();e.a=m},320:function(t,e,r){var content=r(331);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("71d073f9",content,!0,{sourceMap:!1})},321:function(t,e,r){"use strict";r(318);var n=["#f44336","#ab47bc","#7986cb","#81d4fa","#b2dfdb","#827717","#ff8f00","#e64a19","#757575","#e53935","#9c27b0","#5c6bc0","#4fc3f7","#80cbc4","#dcedc8","#ff6f00","#d84315","#616161","#d32f2f","#8e24aa","#3f51b5","#29b6f6","#4db6ac","#c5e1a5","#fff9c4","#fff3e0","#bf360c","#424242","#c62828","#7b1fa2","#3949ab","#03a9f4","#26a69a","#aed581","#fff59d","#ffe0b2","#efebe9","#212121","#b71c1c","#6a1b9a","#303f9f","#039be5","#009688","#9ccc65","#fff176","#ffcc80","#d7ccc8","#eceff1","#fce4ec","#4a148c","#283593","#0288d1","#00897b","#8bc34a","#ffee58","#ffb74d","#bcaaa4","#cfd8dc","#f8bbd0","#ede7f6","#1a237e","#0277bd","#00796b","#7cb342","#ffeb3b","#ffa726","#a1887f","#b0bec5","#f48fb1","#d1c4e9","#e3f2fd","#01579b","#00695c","#689f38","#fdd835","#ff9800","#8d6e63","#90a4ae","#f06292","#b39ddb","#bbdefb","#e0f7fa","#004d40","#558b2f","#fbc02d","#fb8c00","#795548","#78909c","#ec407a","#9575cd","#90caf9","#b2ebf2","#e8f5e9","#33691e","#f9a825","#f57c00","#6d4c41","#607d8b","#e91e63","#7e57c2","#64b5f6","#80deea","#c8e6c9","#f9fbe7","#f57f17","#ef6c00","#5d4037","#546e7a","#d81b60","#673ab7","#42a5f5","#4dd0e1","#a5d6a7","#f0f4c3","#fff8e1","#e65100","#4e342e","#455a64","#c2185b","#5e35b1","#2196f3","#26c6da","#81c784","#e6ee9c","#ffecb3","#fbe9e7","#3e2723","#37474f","#ad1457","#512da8","#1e88e5","#00bcd4","#66bb6a","#dce775","#ffe082","#ffccbc","#fafafa","#263238"],o={props:["productions","disjointSet","title"],data:function(){return{}},methods:{getColor:function(t){if(!this.disjointSet)return"";var e=this.disjointSet.get(t);return n[e]}},computed:{orderedProductions:function(){var t=this;return this.disjointSet?this.productions.sort(function(a,b){return t.disjointSet.get(a)-t.disjointSet.get(b)}):this.productions}}},l=(r(322),r(11)),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"highlight-production"},[r("h3",[t._v(t._s(t.title))]),t._v(" "),t._l(t.orderedProductions,function(e,n){return r("div",{key:n,staticClass:"production",style:"color: "+t.getColor(e)+";"},[t._v(t._s(e.getString()))])})],2)},[],!1,null,"02c6ae84",null);e.a=component.exports},322:function(t,e,r){"use strict";var n=r(317);r.n(n).a},323:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".highlight-production[data-v-02c6ae84]{height:100%;width:100%;display:flex;align-items:center;flex-direction:column}.highlight-production .title[data-v-02c6ae84]{font-size:28px}.highlight-production .production[data-v-02c6ae84]{border-radius:5px;font-size:30px;padding:5px 10px;margin:2px}.highlight-production .production[data-v-02c6ae84]:hover{background-color:#b2d4f7;color:#fff!important;cursor:pointer}.highlight-production .production.active[data-v-02c6ae84]{background-color:#66aef7}",""])},325:function(t,e,r){"use strict";var n=r(116),o=(r(76),r(307)),l=(r(74),r(75),r(50),r(305)),c=r(306),h=r(318),m=function(){function t(e){Object(l.a)(this,t),this.grammar=e}return Object(c.a)(t,[{key:"getInitContext",value:function(){var t=new h.a,e=!0,r=!1,n=void 0;try{for(var o,l=this.grammar.getProductions()[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c=o.value;t.add(c)}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}return{newGrammar:this.grammar.clone(),disjointSet:t}}},{key:"getCommonPrefix",value:function(t){var e=t.reduce(function(a,b){var t=b.length;return a>t?a:t},0);function r(t,e){var r=[],n=!0,o=!1,l=void 0;try{for(var c,h=t[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){var body=c.value;if(!(body.length<e.length)){for(var m=!0,i=0;i<e.length;i++)if(body[i]!==e[i]){m=!1;break}m&&r.push(body)}}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return r}for(var n=[],l=[],i=1;i<=e;i++){var c=!1,h=!0,m=!1,d=void 0;try{for(var f,v=t[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var body=f.value;if(!(body.length<i)&&(l=r(t,n=body.slice(0,i))).length>1){c=!0;break}}}catch(t){m=!0,d=t}finally{try{h||null==v.return||v.return()}finally{if(m)throw d}}if(c)break}if(0===l.length)return[[],[]];for(var y=l[0],S=n.length;S<y.length;S++){var w=y[S],_=[].concat(Object(o.a)(n),[w]),x=r(l,_);if(x.length!==l.length)break;l=x,n=_}return[n,l]}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var r,l,c,h,m,d,f,v,y,head,S,w,_,x,k,T,C,P,F,I,L,R,j,body,E,G,A,$,D,z,O,B,H,N,M,K,X,Y,W,V,J,U,Q,Z,tt;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.newGrammar,l=e.disjointSet,c=!1,h=r.getNonterminals(),m=!0,d=!1,f=void 0,t.prev=6,v=h[Symbol.iterator]();case 8:if(m=(y=v.next()).done){t.next=99;break}if(head=y.value,S=r.getDerivations(head),w=S.map(function(t){return t.getBody()}),_=this.getCommonPrefix(w),x=Object(n.a)(_,2),k=x[0],!((T=x[1]).length<2)){t.next=15;break}return t.abrupt("continue",96);case 15:for(C=r.getSignUnusedAlias(head),P=r.addProduction(head,[].concat(Object(o.a)(k),[C])),F=!0,I=!1,L=void 0,t.prev=20,R=T[Symbol.iterator]();!(F=(j=R.next()).done);F=!0)body=j.value,r.deleteProduction(head,body);t.next=28;break;case 24:t.prev=24,t.t0=t.catch(20),I=!0,L=t.t0;case 28:t.prev=28,t.prev=29,F||null==R.return||R.return();case 31:if(t.prev=31,!I){t.next=34;break}throw L;case 34:return t.finish(31);case 35:return t.finish(28);case 36:E=null,G=!0,A=!1,$=void 0,t.prev=40,D=T[Symbol.iterator]();case 42:if(G=(z=D.next()).done){t.next=78;break}O=z.value,0===(B=O.slice(k.length)).length&&B.push(r.getEmptySign()),H=r.addProduction(C,Object(o.a)(B)),N=!0,M=!1,K=void 0,t.prev=50,X=S[Symbol.iterator]();case 52:if(N=(Y=X.next()).done){t.next=60;break}if(!(W=Y.value).isSameOf(head,O)){t.next=57;break}return l.disjoint(W,H),t.abrupt("break",60);case 57:N=!0,t.next=52;break;case 60:t.next=66;break;case 62:t.prev=62,t.t1=t.catch(50),M=!0,K=t.t1;case 66:t.prev=66,t.prev=67,N||null==X.return||X.return();case 69:if(t.prev=69,!M){t.next=72;break}throw K;case 72:return t.finish(69);case 73:return t.finish(66);case 74:null!==E?l.disjoint(E,H):E=H;case 75:G=!0,t.next=42;break;case 78:t.next=84;break;case 80:t.prev=80,t.t2=t.catch(40),A=!0,$=t.t2;case 84:t.prev=84,t.prev=85,G||null==D.return||D.return();case 87:if(t.prev=87,!A){t.next=90;break}throw $;case 90:return t.finish(87);case 91:return t.finish(84);case 92:return l.disjoint(E,P),t.next=95,{};case 95:c=!0;case 96:m=!0,t.next=8;break;case 99:t.next=105;break;case 101:t.prev=101,t.t3=t.catch(6),d=!0,f=t.t3;case 105:t.prev=105,t.prev=106,m||null==v.return||v.return();case 108:if(t.prev=108,!d){t.next=111;break}throw f;case 111:return t.finish(108);case 112:return t.finish(105);case 113:if(!1!==c){t.next=134;break}for(V=!0,J=!1,U=void 0,t.prev=117,Q=r.getProductions()[Symbol.iterator]();!(V=(Z=Q.next()).done);V=!0)tt=Z.value,l.add(tt);t.next=125;break;case 121:t.prev=121,t.t4=t.catch(117),J=!0,U=t.t4;case 125:t.prev=125,t.prev=126,V||null==Q.return||Q.return();case 128:if(t.prev=128,!J){t.next=131;break}throw U;case 131:return t.finish(128);case 132:return t.finish(125);case 133:l.reSetId();case 134:return t.abrupt("return",[!c,{newGrammar:r,disjointSet:l}]);case 135:case"end":return t.stop()}},t,this,[[6,101,105,113],[20,24,28,36],[29,,31,35],[40,80,84,92],[50,62,66,74],[67,,69,73],[85,,87,91],[106,,108,112],[117,121,125,133],[126,,128,132]])})},{key:"getCurResult",value:function(t){return{newGrammar:t.newGrammar,disjointSet:t.disjointSet}}},{key:"getResultFromContext",value:function(){}},{key:"runEpoch",value:function(t){var e=this.epoch(t),r=null;do{r=e.next()}while(!1===r.done);return r.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return console.log(t[1]),t[1].disjointSet.print(),this.getCurResult(t[1])}}]),t}();e.a=m},327:function(t,e,r){"use strict";var n=r(307),o=(r(25),r(111),r(309),r(74),r(75),r(50),r(313),r(305)),l=r(306),c=r(112),h=r(308),m=r.n(h),d=function(){function t(e){Object(o.a)(this,t),Object(c.a)(this,"productions",Array.of()),Object(c.a)(this,"isLL1Label",!0),this.grammar=e.clone()}return Object(l.a)(t,[{key:"isLL1",value:function(){var t=this.grammar.getEmptySign(),e=this.grammar.getNonterminals();m()(e.length,"文法没有非终止符号");var r=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var d=c.value,head=d,f=this.grammar.getDerivations(d);if(f.length>0){var v=!0,y=!1,S=new Set(this.grammar.getSignFirstSet(head)),w=new Set(this.grammar.getSignFollowSet(head)),_=Object(n.a)(this.intersection(S,w));S.has(t)&&(y=!0,_.length>0&&(this.isLL1Label=!1,v=!1));var x=!0,k=[],T=[],C=[],P=!0,F=!1,I=void 0;try{for(var L,R=f[Symbol.iterator]();!(P=(L=R.next()).done);P=!0){var j=L.value,E={production:j,bodyFirstSet:this.grammar.getProductionBodyFirstSet(j)};C.push(this.grammar.getProductionBodyFirstSet(j)),k.push(E)}}catch(t){F=!0,I=t}finally{try{P||null==R.return||R.return()}finally{if(F)throw I}}if((C=Object(n.a)(this.findProductionBodyFirstSetIntersectionNotEmpty(C))).length>0){x=!1,this.isLL1Label=!1;var G=!0,A=!1,$=void 0;try{for(var D,z=C[Symbol.iterator]();!(G=(D=z.next()).done);G=!0)for(var O=D.value,i=1;i<O.length;i++){var B=[k[O[0]].production];B.push(k[O[i]].production),T.push([].concat(B))}}catch(t){A=!0,$=t}finally{try{G||null==z.return||z.return()}finally{if(A)throw $}}}var H={head:head,sameHeadProductions:f,firstFollowIntersectionIsEmpty:v,headFirstSetHasEmpty:y,headFirstSet:Object(n.a)(S),headFollowSet:Object(n.a)(w),firstFollowIntersection:_,bodyFirstSetIntersectionIsEmpty:x,productionBodyFirstSets:k,bodyFirstSetIntersectionNoEmptyProduction:T};this.productions.push(H)}}}catch(t){o=!0,l=t}finally{try{r||null==h.return||h.return()}finally{if(o)throw l}}return{isLL1:this.isLL1Label,productions:this.productions}}},{key:"findProductionBodyFirstSetIntersectionNotEmpty",value:function(t){for(var e=Array.of(),i=0;i<t.length;i++){for(var r=new Set,o=0;o<t[i].length;o++)for(var l=i+1;l<t.length;l++)for(var c=0;c<t[l].length;c++)t[i][o]===t[l][c]&&(r.add(i),r.add(l));0!==r.size&&e.push(Object(n.a)(r))}return e}},{key:"intersection",value:function(t,e){var r=new Set,n=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){var m=c.value;t.has(m)&&r.add(m)}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return r}},{key:"genErrorNotice",value:function(t,e){var r="",n=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){r+="First("+t[c.value].getBodyString()+") "}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return r}}]),t}();e.a=function(t){return new d(t).isLL1()}},330:function(t,e,r){"use strict";var n=r(320);r.n(n).a},331:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".all[data-v-476fc3a8]{display:flex;flex-direction:row;justify-content:space-around}.all .first[data-v-476fc3a8]{flex:0 1 auto;margin-top:20px}.all .first .top[data-v-476fc3a8]{margin-top:10px}.all .first .top h3[data-v-476fc3a8]{margin-top:10px;text-align:center}.all .first .bottom[data-v-476fc3a8]{margin-top:20px}.all .first .bottom h3[data-v-476fc3a8]{margin-top:10px;text-align:center}.all .fourth[data-v-476fc3a8],.all .second[data-v-476fc3a8],.all .thrid[data-v-476fc3a8]{margin-top:20px;flex:0 1 auto}.all .button[data-v-476fc3a8]{display:flex;flex-flow:row wrap;justify-content:center}",""])},333:function(t,e,r){"use strict";var n=r(307),o=(r(313),r(305)),l=r(306),c=r(112),h=r(308),m=r.n(h),d=r(310),f=function(){function t(e,r){if(Object(o.a)(this,t),Object(c.a)(this,"productions",Array.of()),Object(c.a)(this,"startSymbol",void 0),Object(c.a)(this,"G",new d.a),m()(e.length,"前端传来的文法规则为空"),this.productions=Object(n.a)(e),void 0===r){var l=this.G.getSign(this.productions[0][0].symbol,this.productions[0][0].type);this.startSymbol=l}else this.startSymbol=this.G.getSign(r);this.setGrammar()}return Object(l.a)(t,[{key:"setGrammar",value:function(){this.setProductions(),this.setStartSign()}},{key:"setStartSign",value:function(){this.G.setStartSign(this.startSymbol)}},{key:"setProductions",value:function(){for(var head,i=0;i<this.productions.length;i++){head=this.G.getSign(this.productions[i][0].symbol,this.productions[i][0].type);for(var t=1;t<this.productions[i].length;t++){for(var body=Array.of(),e=0;e<this.productions[i][t].length;e++)body.push(this.G.getSign(this.productions[i][t][e].symbol,this.productions[i][t][e].type));this.G.addProduction(head,body)}}}},{key:"getGrammar",value:function(){return this.G}}]),t}();e.a=function(t,e){return new f(t,e).getGrammar()}},334:function(t,e,r){var content=r(354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("82a27d32",content,!0,{sourceMap:!1})},335:function(t,e,r){var content=r(356);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("040a8803",content,!0,{sourceMap:!1})},336:function(t,e,r){var content=r(358);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("576c245e",content,!0,{sourceMap:!1})},337:function(t,e,r){var content=r(360);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("2cb46bec",content,!0,{sourceMap:!1})},338:function(t,e,r){var content=r(362);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("1f9866c2",content,!0,{sourceMap:!1})},339:function(t,e,r){var content=r(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("2fc8917d",content,!0,{sourceMap:!1})},340:function(t,e,r){var content=r(366);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("22979ba2",content,!0,{sourceMap:!1})},341:function(t,e,r){var content=r(368);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("0f893e30",content,!0,{sourceMap:!1})},342:function(t,e,r){var content=r(370);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("5c893611",content,!0,{sourceMap:!1})},343:function(t,e,r){var content=r(372);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("7c758318",content,!0,{sourceMap:!1})},344:function(t,e,r){var content=r(374);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("3f838d15",content,!0,{sourceMap:!1})},345:function(t,e,r){"use strict";r(74),r(75),r(50);var n=r(326),o=r(321),l=r(310),c=r(318),h=r(314),m={layout:"grammar",components:{HighlightProduction:o.a},data:function(){return{grammar:new l.a,ELR:null,immedationRecursionProductions:null,hasImmedationRecursionProduction:!1,indirectRecursionProductions:[],indirectRecursionDisjointSet:"",hasIndirectRecursionProduction:!1,grammarProductions:null,EEGProductions:null,ECGProductions:null,ELRGProductions:null,buttonMessage:"完成",second:!1,thrid:!1,fourth:!1,titleMessage:""}},methods:{allDone:function(){return this.hasIndirectRecursionProduction?!!(this.second&&this.thrid&&this.fourth)&&(this.$message("消除左递归完成"),!0):!this.hasImmedationRecursionProduction||!(this.second||this.thrid||!this.fourth)&&(this.$message("消除左递归完成"),!0)},eliminateImmedationRecursion:function(){this.second=!1,this.thrid=!1,this.fourth=!0,this.titleMessage="消除立即左递归后的文法"},eliminateEmptyProductions:function(){this.second=!0},eliminateCycles:function(){this.second=!0,this.thrid=!0},eliminateLeftRecursion:function(){this.second=!0,this.thrid=!0,this.fourth=!0,this.titleMessage="消除左递归后的文法"},changeButton:function(){"完成"!==this.buttonMessage||this.$eventbus.$emit("FinishEliminateLeftRecursion")},setGrammar:function(t){this.grammar=t,this.ELR=new n.a(this.grammar),this.immedationRecursionProductions=this.ELR.immedationRecursion,this.grammarProductions=this.grammar.getProductions(),this.EEGProductions=this.ELR.eliminatingEmptyGrammar.getProductions(),this.ECGProductions=this.ELR.eliminatingCyclesGrammar.getProductions(),this.ELRGProductions=this.ELR.eliminateLeftRecursionGrammar.getProductions(),this.indirectRecursionProductions=[];var e=new c.a,r=!0,o=!1,l=void 0;try{for(var m,d=this.ELR.indirectRecursion[Symbol.iterator]();!(r=(m=d.next()).done);r=!0){var f=m.value,v=new h.a(f[0].getHead(),f[0].getBody());this.indirectRecursionProductions.push(v),e.add(v);for(var i=1;i<f.length;i++){var y=new h.a(f[i].getHead(),f[i].getBody());this.indirectRecursionProductions.push(y),e.add(y),e.disjoint(v,y)}}}catch(t){o=!0,l=t}finally{try{r||null==d.return||d.return()}finally{if(o)throw l}}this.indirectRecursionDisjointSet=e,e.print(),this.immedationRecursionProductions.length>0&&(this.hasImmedationRecursionProduction=!0),this.indirectRecursionProductions.length>0&&(this.hasIndirectRecursionProduction=!0)}},_test:function(){var t=new l.a,e=t.getSign("E","Nonterminal"),r=t.getSign("T","Nonterminal"),o=t.getSign("F","Nonterminal"),m=t.getSign("+","Terminal"),d=t.getSign("*","Terminal"),f=t.getSign("id","Terminal"),v=t.getSign("(","Terminal"),y=t.getSign(")","Terminal"),S=t.getSign("G","Nonterminal"),w=t.getEmptySign();t.setStartSign(e),t.addProduction(e,[r]),t.addProduction(e,[e,m,r]),t.addProduction(r,[o]),t.addProduction(r,[r,d,o]),t.addProduction(o,[v,e,y]),t.addProduction(o,[f]),t.addProduction(o,[e]),t.addProduction(r,[S,e]),t.addProduction(S,[f]),t.addProduction(S,[w]),this.grammar=t,this.ELR=new n.a(this.grammar),this.immedationRecursionProductions=this.ELR.immedationRecursion,this.grammarProductions=this.grammar.getProductions(),this.EEGProductions=this.ELR.eliminatingEmptyGrammar.getProductions(),this.ECGProductions=this.ELR.eliminatingCyclesGrammar.getProductions(),this.ELRGProductions=this.ELR.eliminateLeftRecursionGrammar.getProductions();var _=new c.a,x=!0,k=!1,T=void 0;try{for(var C,P=this.ELR.indirectRecursion[Symbol.iterator]();!(x=(C=P.next()).done);x=!0){var F=C.value,I=new h.a(F[0].getHead(),F[0].getBody());this.indirectRecursionProductions.push(I),_.add(I);for(var i=1;i<F.length;i++){var L=new h.a(F[i].getHead(),F[i].getBody());this.indirectRecursionProductions.push(L),_.disjoint(I,L)}}}catch(t){k=!0,T=t}finally{try{x||null==P.return||P.return()}finally{if(k)throw T}}this.indirectRecursionDisjointSet=_,this.immedationRecursionProductions.length>0&&(this.hasImmedationRecursionProduction=!0),this.indirectRecursionProductions.length>0&&(this.hasIndirectRecursionProduction=!0),this.changeButton(),this.changeButton(),this.changeButton(),this.changeButton()}},d=(r(330),r(11)),component=Object(d.a)(m,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"all"},[r("div",{staticClass:"first"},[r("div",{staticClass:"button"},[t.hasImmedationRecursionProduction&&!t.hasIndirectRecursionProduction?r("div",[t.allDone()?t._e():r("el-button",{attrs:{type:"success"},on:{click:t.eliminateImmedationRecursion}},[t._v("消除立即左递归")])],1):t.hasIndirectRecursionProduction?r("div",[t.allDone()?t._e():r("el-button",{attrs:{type:"success"},on:{click:t.eliminateEmptyProductions}},[t._v("消除 ε 产生式")])],1):t._e()]),t._v(" "),t.hasImmedationRecursionProduction||t.hasIndirectRecursionProduction?r("div",[r("div",{staticClass:"top"},[r("HighlightProduction",{attrs:{productions:t.immedationRecursionProductions,title:"当前文法中的立即左递归"}}),t._v(" "),t.hasImmedationRecursionProduction?t._e():r("h3",[t._v("无")])],1),t._v(" "),r("div",{staticClass:"bottom"},[r("HighlightProduction",{attrs:{disjointSet:t.indirectRecursionDisjointSet,productions:t.indirectRecursionProductions,title:"当前文法中的间接左递归和环"}}),t._v(" "),t.hasIndirectRecursionProduction?t._e():r("h3",[t._v("无")])],1)]):r("div",[r("h2",[t._v("当前文法中无左递归")])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.second,expression:"second"}],staticClass:"second"},[r("div",{staticClass:"button"},[t.allDone()?t._e():r("el-button",{attrs:{type:"warning"},on:{click:t.eliminateCycles}},[t._v("消除环")])],1),t._v(" "),r("div",{staticStyle:{"margin-top":"10px"}},[r("HighlightProduction",{attrs:{productions:t.EEGProductions,title:"消除ε产生式后的文法"}})],1)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.thrid,expression:"thrid"}],staticClass:"thrid"},[r("div",{staticClass:"button"},[t.allDone()?t._e():r("el-button",{attrs:{type:"info"},on:{click:t.eliminateLeftRecursion}},[t._v("消除左递归")])],1),t._v(" "),r("div",{staticStyle:{"margin-top":"10px"}},[r("HighlightProduction",{attrs:{productions:t.ECGProductions,title:"消除环后的文法"}})],1)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.fourth,expression:"fourth"}],staticClass:"fourth"},[r("div",{staticStyle:{"margin-top":"10px"}},[r("HighlightProduction",{attrs:{productions:t.ELRGProductions,title:t.titleMessage}})],1)])])},[],!1,null,"476fc3a8",null);e.a=component.exports},353:function(t,e,r){"use strict";var n=r(334);r.n(n).a},354:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".userinput[data-v-2e48f5e7]{display:flex;flex-direction:column;position:relative;align-items:center;justify-content:space-around}.userinput .top[data-v-2e48f5e7]{width:90%}.userinput .top .notice[data-v-2e48f5e7]{font-size:15px;font-family:Arial;color:#b4b7b9;display:flex;flex-direction:row;justify-content:space-around}.userinput .medium[data-v-2e48f5e7]{width:90%}.userinput .medium .table[data-v-2e48f5e7]{padding:4px}.userinput .medium .table .tag[data-v-2e48f5e7]{margin-top:2px;margin-bottom:2px;width:60px;overflow-x:auto;overflow-y:hidden}.userinput .medium .table .tag[data-v-2e48f5e7]:hover{cursor:pointer}.userinput .medium .table .tag[data-v-2e48f5e7]::-webkit-scrollbar{height:4px}.userinput .medium .table .tag[data-v-2e48f5e7]::-webkit-scrollbar-track{background-color:rgba(64,158,255,.1);border-radius:0}.userinput .medium .table .tag[data-v-2e48f5e7]::-webkit-scrollbar-thumb{background-color:#409eff;border-radius:2px}.userinput .medium .bottom[data-v-2e48f5e7]{margin-top:10px}.userinput .medium .bottom .symbol[data-v-2e48f5e7]{width:30%}.userinput .medium .bottom .addSymbolButton[data-v-2e48f5e7]{width:20%}.userinput .down[data-v-2e48f5e7]{margin-top:10px;width:90%}.userinput .down .input[data-v-2e48f5e7]{width:100%}",""])},355:function(t,e,r){"use strict";var n=r(335);r.n(n).a},356:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".elf .tips h2[data-v-04f60118]{text-align:center}.elf .main[data-v-04f60118]{display:flex}",""])},357:function(t,e,r){"use strict";var n=r(336);r.n(n).a},358:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".grammar-indicator[data-v-095a4446]{height:100%;width:100%;display:flex;align-items:center;flex-direction:column}.grammar-indicator .title[data-v-095a4446]{font-size:28px}.grammar-indicator .grammar[data-v-095a4446]{border-radius:5px;font-size:24px;padding:5px 10px;margin:2px}.grammar-indicator .grammar[data-v-095a4446]:hover{background-color:#b2d4f7;cursor:pointer}.grammar-indicator .grammar.active[data-v-095a4446]{background-color:#66aef7}",""])},359:function(t,e,r){"use strict";var n=r(337);r.n(n).a},360:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".tag[data-v-4ba4eb2a]{font-size:20px}",""])},361:function(t,e,r){"use strict";var n=r(338);r.n(n).a},362:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".grammar[data-v-6571a02e]{display:flex;flex-direction:column;margin-left:30px;width:90%}.grammar .symbolTable[data-v-6571a02e]{width:100%;margin:2px}.grammar .symbolTable .tag[data-v-6571a02e]{margin-top:2px;margin-bottom:2px;width:50px;overflow-x:auto;overflow-y:hidden}.grammar .symbolTable .tag[data-v-6571a02e]:hover{cursor:default}.grammar .symbolTable .tag[data-v-6571a02e]::-webkit-scrollbar{height:4px}.grammar .symbolTable .tag[data-v-6571a02e]::-webkit-scrollbar-track{background-color:rgba(64,158,255,.1);border-radius:0}.grammar .symbolTable .tag[data-v-6571a02e]::-webkit-scrollbar-thumb{background-color:#409eff;border-radius:2px}.grammar .productionTable[data-v-6571a02e]{width:100%;margin:2px}.grammar .productionTable .tag[data-v-6571a02e]{font-size:20px;margin:5px}",""])},363:function(t,e,r){"use strict";var n=r(339);r.n(n).a},364:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".first-set[data-v-0f75a5e3]{flex-flow:row nowrap}.first-set[data-v-0f75a5e3],.first-set .left[data-v-0f75a5e3]{display:flex;align-items:stretch}.first-set .left[data-v-0f75a5e3]{width:50%;margin-top:10px;flex-flow:column nowrap}.first-set .left .top[data-v-0f75a5e3]{text-align:center;flex:1 1 auto;margin:15px;height:40%}.first-set .left .down[data-v-0f75a5e3]{flex:1 1 auto;height:60%;margin:15px}.first-set .left .down .step[data-v-0f75a5e3]{border-radius:4px;padding:5px}.first-set .left .down .step .firstSet[data-v-0f75a5e3],.first-set .left .down .step .production[data-v-0f75a5e3],.first-set .left .down .step .symbol[data-v-0f75a5e3]{margin:2px 7px 2px 0;font-size:16px}.first-set .left .down .step.active[data-v-0f75a5e3]{background-color:rgba(252,217,21,.603)}.first-set .right[data-v-0f75a5e3]{width:50%;margin-top:10px}.first-set .right .button[data-v-0f75a5e3]{margin-top:10px}",""])},365:function(t,e,r){"use strict";var n=r(340);r.n(n).a},366:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".highlight-text{font-size:20px;padding:5px}.highlight-text-item{display:inline-block;background-color:rgba(64,158,255,.1);padding:0 10px;line-height:20px;font-size:16px;color:#409eff;border-radius:4px;box-sizing:border-box;border:1px solid rgba(64,158,255,.2);font-weight:700;margin:0 5px;word-break:break-all;word-wrap:break-word}.cell-heighlight{color:#f56c6c;background-color:rgba(245,108,108,.1);border-color:rgba(245,108,108,.2)}",""])},367:function(t,e,r){"use strict";var n=r(341);r.n(n).a},368:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,"[dir=ltr] .ppt .h3[data-v-2afb90dc]{margin-left:0}[dir=ltr] .ppt .h3[data-v-2afb90dc],[dir=rtl] .ppt .h3[data-v-2afb90dc]{margin-right:0}[dir=rtl] .ppt .h3[data-v-2afb90dc]{margin-left:0}.ppt .h3[data-v-2afb90dc]{display:block;font-size:1.17em;margin-top:1em;margin-bottom:1em;font-weight:700;border-radius:5px}[dir=ltr] .ppt .h2[data-v-2afb90dc]{margin-left:0}[dir=ltr] .ppt .h2[data-v-2afb90dc],[dir=rtl] .ppt .h2[data-v-2afb90dc]{margin-right:0}[dir=rtl] .ppt .h2[data-v-2afb90dc]{margin-left:0}.ppt .h2[data-v-2afb90dc]{display:block;font-size:1.5em;margin-top:.83em;margin-bottom:.83em;font-weight:700;border-radius:5px}.ppt .algorithm[data-v-2afb90dc]{display:flex;font-weight:700}.ppt .algorithm .left[data-v-2afb90dc]{width:50%;max-width:50%;padding-right:20px}.ppt .algorithm .left .step-desc[data-v-2afb90dc]{min-height:200px}.ppt .algorithm .right[data-v-2afb90dc]{width:50%;max-width:50%;position:relative}.ppt .algorithm .title[data-v-2afb90dc]{font-size:30px;text-align:center}.ppt .algorithm .step.active[data-v-2afb90dc]{background-color:rgba(252,217,21,.603)}",""])},369:function(t,e,r){"use strict";var n=r(342);r.n(n).a},370:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".isLL1[data-v-4422f5fa]{display:flex;flex-direction:column;justify-content:space-around;align-items:center}.isLL1 .top[data-v-4422f5fa]{margin:20px}.isLL1 .down[data-v-4422f5fa],.isLL1 .top[data-v-4422f5fa]{text-align:center;width:100%}.isLL1 .down[data-v-4422f5fa]{margin-top:20px;display:flex;flex-flow:row nowrap;align-items:stretch}.isLL1 .down .left[data-v-4422f5fa]{flex:1 1 auto;width:40%;margin:10px}.isLL1 .down .left .left-table[data-v-4422f5fa]{width:80%;margin:10px auto;text-align:center}.isLL1 .down .left .left-table .left-table-expand[data-v-4422f5fa]{font-size:0}.isLL1 .down .left .left-table .left-table-label[data-v-4422f5fa]{width:90px;color:#99a9bf;font-size:16px}.isLL1 .down .right[data-v-4422f5fa]{flex:1 1 auto;width:40%;margin:10px}.isLL1 .down .right .right-table[data-v-4422f5fa]{width:80%;margin:10px auto;text-align:center}.isLL1 .down .right .right-table .right-table-expand[data-v-4422f5fa]{font-size:0}.isLL1 .down .right .right-table .right-table-label[data-v-4422f5fa]{width:90px;color:#99a9bf;font-size:16px}.isLL1 .down .firstSet[data-v-4422f5fa],.isLL1 .down .production[data-v-4422f5fa],.isLL1 .down .symbol[data-v-4422f5fa]{margin:2px;font-size:16px}.isLL1 .down .errorProduction[data-v-4422f5fa]{color:red}.isLL1 .down .grammar[data-v-4422f5fa]{border-radius:5px;font-size:30px;padding:5px 10px;margin:2px}.isLL1 .down .grammar[data-v-4422f5fa]:hover{background-color:#b2d4f7;cursor:pointer}.isLL1 .down .grammar.active[data-v-4422f5fa]{background-color:#66aef7}",""])},371:function(t,e,r){"use strict";var n=r(343);r.n(n).a},372:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,".analysis[data-v-6f5847b9]{width:90%;margin:5px auto}.analysis .up[data-v-6f5847b9]{display:flex;width:100%;height:350px}.analysis .up .active[data-v-6f5847b9]{background-color:rgba(252,217,21,.603)}.analysis .up .user-input[data-v-6f5847b9]{height:50%;width:29%}.analysis .up .PPT[data-v-6f5847b9]{height:100px;width:70%;margin-left:10px}.analysis .up *[data-v-6f5847b9]{margin-bottom:15px}.analysis .down[data-v-6f5847b9]{width:90%;position:relative;margin-top:30px}",""])},373:function(t,e,r){"use strict";var n=r(344);r.n(n).a},374:function(t,e,r){(t.exports=r(26)(!1)).push([t.i,"[dir=ltr] .ppt .h3[data-v-1e9af2d2]{margin-left:0}[dir=ltr] .ppt .h3[data-v-1e9af2d2],[dir=rtl] .ppt .h3[data-v-1e9af2d2]{margin-right:0}[dir=rtl] .ppt .h3[data-v-1e9af2d2]{margin-left:0}.ppt .h3[data-v-1e9af2d2]{display:block;font-size:1.17em;margin-top:1em;margin-bottom:1em;font-weight:700;border-radius:5px}[dir=ltr] .ppt .h2[data-v-1e9af2d2]{margin-left:0}[dir=ltr] .ppt .h2[data-v-1e9af2d2],[dir=rtl] .ppt .h2[data-v-1e9af2d2]{margin-right:0}[dir=rtl] .ppt .h2[data-v-1e9af2d2]{margin-left:0}.ppt .h2[data-v-1e9af2d2]{display:block;font-size:1.5em;margin-top:.83em;margin-bottom:.83em;font-weight:700;border-radius:5px}.ppt .algorithm[data-v-1e9af2d2]{display:flex;font-weight:700}.ppt .algorithm .left[data-v-1e9af2d2]{width:50%;max-width:50%;padding-right:20px}.ppt .algorithm .left .step-desc[data-v-1e9af2d2]{min-height:200px}.ppt .algorithm .right[data-v-1e9af2d2]{width:50%;max-width:50%;position:relative}.ppt .algorithm .title[data-v-1e9af2d2]{font-size:30px;text-align:center}.ppt .algorithm .step.active[data-v-1e9af2d2]{background-color:rgba(252,217,21,.603)}",""])},375:function(t,e,r){"use strict";r.r(e);var n=r(307),o=(r(313),r(74),r(75),r(50),r(115),r(173),r(174),r(25),r(169),r(114),r(333)),l=r(310),c={data:function(){var t=this,e=function(e,r,n){for(var o=r.split(/\n/),l=!0,i=0;i<o.length;i++)if(""!==o[i]){l=!1;var c=o[i];try{var h=/->/g;null!==c.match(h)&&1===c.match(h).length||n(new Error("第"+(i+1).toString()+"条产生式格式错误,请按格式输入"));var head=(c=c.split(/->/))[0];head=head.replace(/\s+/,"");var m=c[1].split(/\|/);t.currentInputIslegal(head)||n(new Error("符号 ".concat(head," 未定义"))),t.headIsNonterminal(head)||n(new Error("符号"+head+"不是非终止字符，不可以放在产生式头部"));var d=!0,f=!1,v=void 0;try{for(var y,S=m[Symbol.iterator]();!(d=(y=S.next()).done);d=!0){var w=y.value.match(/\S+/g);null!==w&&0!==w.lenght||n(new Error("第"+(i+1).toString()+"行 产生式体不能为空"));var _=!0,x=!1,k=void 0;try{for(var T,C=w[Symbol.iterator]();!(_=(T=C.next()).done);_=!0){var symbol=T.value;t.currentInputIslegal(symbol)||n(new Error("符号 ".concat(symbol," 未定义"))),"ε"===symbol&&w.length>1&&n(new Error("第"+(i+1).toString()+"行 产生式格式错误，不可以同时包含 ε 和其他符号"))}}catch(t){x=!0,k=t}finally{try{_||null==C.return||C.return()}finally{if(x)throw k}}}}catch(t){f=!0,v=t}finally{try{d||null==S.return||S.return()}finally{if(f)throw v}}}catch(t){n(new Error("第"+(i+1).toString()+"条产生式不合法，请重新输入"))}}!0===l?n(new Error("输入不能为空")):n();for(var P=0;P<o.length;P++)if(""!==o[P]&&null!==o[P].match(/->/g)&&1===o[P].match(/->/g).length){var F=o[P].split(/->/)[0].match(/\S+/);null!==F&&t.headIsNonterminal(F[0])?t.startSymbol=F[0]:t.startSymbol="";break}};return{terminals:[],nonterminals:[],symbol:"",tagInputSymbol:"",formalProductions:Array.of(),grammar:new l.a,startSymbol:null,tip:"",rulesCFG:{CFG:[{max:1200,message:"不能超过1200个字符",tirgger:"change"},{validator:e,trigger:"change"},{validator:e,trigger:"blur"}]},ruleForm:{CFG:""},symbolInputVisible:{terminal0:!1,terminal1:!1,terminal2:!1,terminal3:!1,terminal4:!1,nonterminal0:!1,nonterminal1:!1,nonterminal2:!1,nonterminal3:!1,nonterminal4:!1},activeCollapse:["1","2"]}},methods:{isStartSymbol:function(symbol){return symbol===this.startSymbol?"danger":""},hasInput:function(){return this.ruleForm.CFG.length>0},inputSymbolByClick:function(symbol){symbol+=" ";var t=document.getElementById("productionInputArea");if(document.selection)document.selection.createRange().text=symbol;else if("number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd){var e=t.selectionStart,r=t.selectionEnd,n=e,o=t.value;t.value=o.substring(0,e)+symbol+o.substring(r,o.length),n+=symbol.length,t.selectionStart=t.selectionEnd=n}else t.value+=symbol;this.$set(this.ruleForm,"CFG",t.value),this.focusInputArea()},focusInputArea:function(){this.$refs.productionInputArea.focus()},symbolTableRowSpan:function(t){t.row,t.column;var e=t.rowIndex;if(10===t.columnIndex)return 0===e?{rowspan:this.symbolTable.length,colspan:1}:{rowspan:0,colspan:0}},showInput:function(t){var e=this;this.symbolInputVisible[t]=!0,this.$nextTick(function(){e.$refs[t].$refs.input.focus()})},combineHeadCells:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;if(1===e)return{display:"none"}},addTerminal:function(t){var e=this;this.newSymbolLegal(this.symbol)?(this.terminals.push(this.symbol),this.symbol=""):this.newSymbolLegal(this.tagInputSymbol)?(this.terminals.push(this.tagInputSymbol),this.symbolInputVisible[t]=!1,this.tagInputSymbol=""):(this.symbolInputVisible[t]=!1,this.tagInputSymbol=""),this.ruleForm.CFG.length>0&&(this.ruleForm.CFG+=" ",setTimeout(function(){e.ruleForm.CFG=e.ruleForm.CFG.slice(0,-1)},1))},addNonterminal:function(t){var e=this;this.newSymbolLegal(this.symbol)?(this.nonterminals.push(this.symbol),this.symbol=""):this.newSymbolLegal(this.tagInputSymbol)?(this.nonterminals.push(this.tagInputSymbol),this.symbolInputVisible[t]=!1,this.tagInputSymbol=""):(this.symbolInputVisible[t]=!1,this.tagInputSymbol=""),this.ruleForm.CFG.length>0&&(this.ruleForm.CFG+=" ",setTimeout(function(){e.ruleForm.CFG=e.ruleForm.CFG.slice(0,-1)},1))},newSymbolLegal:function(t){var symbol=t;if(0===(symbol=symbol.replace(/\s+/g,"")).length)return!1;if(/(-|>|\||\$|ε|\u2192|`)+/.test(symbol))return this.$message("符号 ".concat(symbol," 不可定义为文法符号")),!1;var e=!0,r=!1,n=void 0;try{for(var o,l=this.nonterminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(o.value===symbol)return this.$message("该符号是一个已存在的非终止符号"),!1}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}var c=!0,h=!1,m=void 0;try{for(var d,f=this.terminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){if(d.value===symbol)return this.$message("该符号是一个已存在的终止符号"),!1}}catch(t){h=!0,m=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw m}}return!0},getProductions:function(){if(0===this.ruleForm.CFG.length)return this.$message("请输入产生式"),!1;var t=Array.of();if(t=this.ruleForm.CFG.split(/\n/),this.productionsIsLegal(t)){var e=[],r=!0,n=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;if(""!==h){var m=h.split(/->/),head=m[0].replace(/\s+/g,""),d=m[1].split(/\|/),f=!0,v=!1,y=void 0;try{for(var S,w=d[Symbol.iterator]();!(f=(S=w.next()).done);f=!0){var body=S.value,_=[];_.push(this.charToSign(head));var x=[],k=body.match(/\S+/g),T=!0,C=!1,P=void 0;try{for(var F,I=k[Symbol.iterator]();!(T=(F=I.next()).done);T=!0){var symbol=F.value;x.push(this.charToSign(symbol))}}catch(t){C=!0,P=t}finally{try{T||null==I.return||I.return()}finally{if(C)throw P}}_.push(x),e.push(_)}}catch(t){v=!0,y=t}finally{try{f||null==w.return||w.return()}finally{if(v)throw y}}}}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return this.formalProductions=e,!0}return this.$message("产生式中存在问题，请修改产生式"),!1},productionsIsLegal:function(t){var e=0,r=!0,n=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;if(""!==h){if(null===h.match(/->/g)||1!==h.match(/->/g).length)return!1;var m=h.split(/->/),head=m[0].replace(/\s+/g,""),d=m[1].split(/\|/);if(!this.headIsNonterminal(head))return!1;var f=!0,v=!1,y=void 0;try{for(var S,w=d[Symbol.iterator]();!(f=(S=w.next()).done);f=!0){var _=S.value.match(/\S+/g);if(null===_)return!1;var x=!0,k=!1,T=void 0;try{for(var C,P=_[Symbol.iterator]();!(x=(C=P.next()).done);x=!0){var symbol=C.value;if(!this.currentInputIslegal(symbol))return!1;if("ε"===symbol&&_.length>1)return!1}}catch(t){k=!0,T=t}finally{try{x||null==P.return||P.return()}finally{if(k)throw T}}}}catch(t){v=!0,y=t}finally{try{f||null==w.return||w.return()}finally{if(v)throw y}}}else e++}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return e!==t.length||(this.$message("请输入产生式"),!1)},charToSign:function(t){var e=!0,r=!1,n=void 0;try{for(var o,l=this.terminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var i=o.value;if(t===i)return{symbol:i,type:"Terminal"}}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}var c=!0,h=!1,m=void 0;try{for(var d,f=this.nonterminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;if(t===v)return{symbol:v,type:"Nonterminal"}}}catch(t){h=!0,m=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw m}}if("ε"===t)return{symbol:"ε",type:"Empty"};this.$message("不存在符号 "+t+" ，请将符号添加至符号表或重新输入")},currentInputIslegal:function(t){if("ε"===t)return!0;if(""===t)return!0;var e=!0,r=!1,n=void 0;try{for(var o,l=this.terminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(t===o.value)return!0}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}var c=!0,h=!1,m=void 0;try{for(var d,f=this.nonterminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){if(t===d.value)return!0}}catch(t){h=!0,m=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw m}}return!1},headIsNonterminal:function(t){if(""===t)return!1;var e=!0,r=!1,n=void 0;try{for(var o,l=this.nonterminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(t===o.value)return!0}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}return!1},delectSymbol:function(t){var e=this;this.terminals=this.terminals.filter(function(e){return e!==t}),this.nonterminals=this.nonterminals.filter(function(e){return e!==t}),this.ruleForm.CFG.length>0&&(this.ruleForm.CFG+=" ",setTimeout(function(){e.ruleForm.CFG=e.ruleForm.CFG.slice(0,-1)},1))},generateGrammar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.getProductions()){var e=new o.a(this.formalProductions);return!!this.grammarIsLegal(e)&&(t&&this.$eventbus.$emit("FinishInputGrammar",e),this.startSymbol=e.getStartSign().getString(),e)}},grammarIsLegal:function(t){return 0===t.getTerminals().length?(this.$message("当前文法没有终止符号，不是合法的上下文无关文法，请重新输入"),!1):0===t.getNonterminals().length?(this.$message("当前文法没有非终止符号，不是合法的上下文无关文法，请重新输入"),!1):0!==t.getProductions().length||(this.$message("当前文法没有产生式，不是合法的上下文无关文法，请重新输入"),!1)},querySearch:function(t,e){var r=[].concat(Object(n.a)(this.terminals),Object(n.a)(this.nonterminals));r=r.map(function(t){var e={};return e.symbol=t,e}),e(t?r.filter(this.createFilter(t)):r)},createFilter:function(t){return function(e){return t=t.slice(-1),0===e.symbol.indexOf(t)}}},computed:{symbolTable:function(){for(var t=Object(n.a)(this.terminals),e=Object(n.a)(this.nonterminals),r=Array.of(),o=0,l=0;o<t.length||l<e.length;){for(var c={},i=0;i<5;i++)o<t.length&&(c["terminal"+i]=t[o],o++),l<e.length&&(c["nonterminal"+i]=e[l],l++);r.push(c)}return 0===o&&0===l&&r.push({empty:0}),r}},watch:{},mounted:function(){}},h=(r(353),r(11)),m=Object(h.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"userinput"},[r("div",{staticClass:"top"},[r("el-collapse",{model:{value:t.activeCollapse,callback:function(e){t.activeCollapse=e},expression:"activeCollapse"}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("h3",[t._v("提示")])]),t._v(" "),r("div",{staticClass:"notice"},[r("div",{staticClass:"left"},[t._v("\n            拟定的文法应属于上下文无关文法\n            "),r("br"),t._v("文法符号使用前必须先添加至下方符号表中\n            "),r("br"),t._v("符号 → 用一个减号紧接一个大于号代替，即 ->\n            "),r("br"),t._v("第一条产生式的头部默认为文法的开始符号\n            "),r("br"),t._v("开始符号将在符号表中高亮为红色\n          ")]),t._v(" "),r("div",{staticClass:"center"},[t._v("\n            产生式格式：产生式头 → 产生式体\n            "),r("br"),t._v("产生式头是单个非终止符号\n            "),r("br"),t._v("产生式体是由终止符号和非终止符号组成的串或空串\n            "),r("br"),t._v("产生式体中不同文法符号之间用空格隔开\n          ")]),t._v(" "),r("div",{staticClass:"right"},[t._v("\n            例如：\n            "),r("br"),t._v("E -> A a | B b\n            "),r("br"),t._v("A -> a id | ε\n            "),r("br"),t._v("B -> b | ε\n          ")])])],2)],1)],1),t._v(" "),r("div",{staticClass:"medium"},[r("el-collapse",{model:{value:t.activeCollapse,callback:function(e){t.activeCollapse=e},expression:"activeCollapse"}},[r("el-collapse-item",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("h3",[t._v("符号表")])]),t._v(" "),r("el-table",{staticClass:"table",attrs:{data:t.symbolTable,border:"","header-cell-style":t.combineHeadCells,"span-method":t.symbolTableRowSpan,"max-height":"202"}},[r("el-table-column",{attrs:{label:"终止符号",align:"center"}},[r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal0?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium","disable-transitions":!1},on:{close:function(r){return t.delectSymbol(e.row.terminal0)},click:function(r){return t.inputSymbolByClick(e.row.terminal0)}}},[t._v(t._s(e.row.terminal0))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal1?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium","disable-transitions":!1},on:{close:function(r){return t.delectSymbol(e.row.terminal1)},click:function(r){return t.inputSymbolByClick(e.row.terminal1)}}},[t._v(t._s(e.row.terminal1))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal2?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.terminal2)},click:function(r){return t.inputSymbolByClick(e.row.terminal2)}}},[t._v(t._s(e.row.terminal2))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal3?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.terminal3)},click:function(r){return t.inputSymbolByClick(e.row.terminal3)}}},[t._v(t._s(e.row.terminal3))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal4?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.terminal4)},click:function(r){return t.inputSymbolByClick(e.row.terminal4)}}},[t._v(t._s(e.row.terminal4))]):t._e()]}}])})],1),t._v(" "),r("el-table-column",{attrs:{label:"非终止符号",align:"center"}},[r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal0?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:t.isStartSymbol(e.row.nonterminal0),effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.nonterminal0)},click:function(r){return t.inputSymbolByClick(e.row.nonterminal0)}}},[t._v(t._s(e.row.nonterminal0))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal1?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:t.isStartSymbol(e.row.nonterminal1),effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.nonterminal1)},click:function(r){return t.inputSymbolByClick(e.row.nonterminal1)}}},[t._v(t._s(e.row.nonterminal1))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal2?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:t.isStartSymbol(e.row.nonterminal2),effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.nonterminal2)},click:function(r){return t.inputSymbolByClick(e.row.nonterminal2)}}},[t._v(t._s(e.row.nonterminal2))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal3?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:t.isStartSymbol(e.row.nonterminal3),effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.nonterminal3)},click:function(r){return t.inputSymbolByClick(e.row.nonterminal3)}}},[t._v(t._s(e.row.nonterminal3))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal4?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:t.isStartSymbol(e.row.nonterminal4),effect:"dark",size:"medium"},on:{close:function(r){return t.delectSymbol(e.row.nonterminal4)},click:function(r){return t.inputSymbolByClick(e.row.nonterminal4)}}},[t._v(t._s(e.row.nonterminal4))]):t._e()]}}])})],1),t._v(" "),r("el-table-column",{attrs:{label:"特殊符号",align:"center"}},[r("el-table-column",{attrs:{label:"hide",align:"center"}},[r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("ε")}}},[t._v("ε")]),t._v(" "),r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("->")}}},[t._v("→")]),t._v(" "),r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("|")}}},[t._v("|")])],1)],1)],1),t._v(" "),r("el-row",{staticClass:"bottom"},[r("el-input",{staticClass:"symbol",attrs:{placeholder:"请输入自定义文法符号",clearable:"",spellcheck:"false"},model:{value:t.symbol,callback:function(e){t.symbol=e},expression:"symbol"}}),t._v(" "),r("el-button",{staticClass:"addSymbolButton",attrs:{round:"",size:"medium"},on:{click:t.addTerminal}},[t._v("添加终止符号")]),t._v(" "),r("el-button",{staticClass:"addSymbolButton",attrs:{round:"",size:"medium"},on:{click:t.addNonterminal}},[t._v("添加非终止符号")])],1)],2)],1)],1),t._v(" "),r("div",{staticClass:"down"},[r("el-form",{ref:"ruleForm",staticClass:"input",attrs:{rules:t.rulesCFG,model:t.ruleForm,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"CFG"}},[r("el-input",{ref:"productionInputArea",attrs:{type:"textarea",rows:"4",placeholder:"请输入产生式",spellcheck:"false",id:"productionInputArea"},model:{value:t.ruleForm.CFG,callback:function(e){t.$set(t.ruleForm,"CFG",e)},expression:"ruleForm.CFG"}})],1)],1),t._v(" "),r("div",{staticClass:"button"},[r("el-button",{attrs:{round:"",size:"medium"},on:{click:function(e){return t.generateGrammar(!0)}}},[t._v("开始分析")])],1)],1)])},[],!1,null,"2e48f5e7",null).exports,d=r(325),f={layout:"grammar",components:{HightlightProduction:r(321).a},data:function(){return{grammar:null,disjointSet:"",leftProductions:[],rightProductions:[],show_result:!1}},mounted:function(){},methods:{setGrammar:function(t){this.grammar=t},finish:function(){this.$eventbus.$emit("FinishExtractLeftFactor")},doAlgorithm:function(){var t=this.grammar,e=new d.a(t).run(),r=e.newGrammar,n=e.disjointSet;this.disjointSet=n,this.leftProductions=t.getProductions(),this.rightProductions=r.getProductions(),this.show_result=!0}},computed:{buttonText:function(){return this.show_result?this.leftEqualToRight?"当前文法无需提取左因子":"提取左因子结果如下":"提取左因子"},leftEqualToRight:function(){return this.leftProductions.length===this.rightProductions.length}}},v=(r(355),Object(h.a)(f,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"elf"},[t._m(0),t._v(" "),r("div",{staticStyle:{"text-align":"center",margin:"20px"}},[r("el-button",{attrs:{type:"success"},on:{click:t.doAlgorithm}},[t._v(t._s(t.buttonText))])],1),t._v(" "),r("div",{staticClass:"main"},[t.show_result?[r("HightlightProduction",{attrs:{disjointSet:t.disjointSet,productions:t.leftProductions,title:"当前文法"}}),t._v(" "),r("HightlightProduction",{attrs:{disjointSet:t.disjointSet,productions:t.rightProductions,title:"提取左因子后的文法"}})]:t._e()],2)])},[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tips"},[r("h2",[t._v("将形如 ")]),t._v(" "),r("h2",[t._v("A→αβ1|αβ2|…|αβn")]),t._v(" "),r("h2",[t._v("的产生式重写为")]),t._v(" "),r("h2",[t._v("A→αA’")]),t._v(" "),r("h2",[t._v("A’→ β1|β2|…|βn")])])}],!1,null,"04f60118",null).exports),y={props:["grammar","active"],data:function(){return{}},methods:{changeProduction:function(t){var e=this.grammar.getProductions()[t];console.log(this.grammar.getDerivations(e.head).map(function(t){return t.getString()})),this.$emit("changeProduction",t)}}},S=(r(357),Object(h.a)(y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grammar-indicator"},[r("span",{staticClass:"title"},[t._v("文法产生式")]),t._v(" "),t._l(t.grammar.getProductions(),function(e,n){return r("div",{key:n,staticClass:"grammar",class:{active:n===t.active},on:{click:function(e){return t.changeProduction(n)}}},[t._v(t._s(e.getString()))])})],2)},[],!1,null,"095a4446",null).exports),w=r(332),_=r(324),x=r(312),k={props:["string","highlightSymbol"],data:function(){return{hasItem:!1}},computed:{items:function(){var t=[],e=this.string.match(/\S+/g);if(null!==e){var r=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var symbol=l.value,h={type:"",label:""};symbol!==this.highlightSymbol?(h.type="",h.label=symbol,t.push(h)):(h.type="danger",h.label=symbol,t.push(h))}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}}return 0===t.length?this.hasItem=!1:this.hasItem=!0,t}}},T=(r(359),Object(h.a)(k,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.items,function(e){return t.hasItem?r("el-tag",{key:e.label,staticClass:"tag",attrs:{type:e.type,effect:"dark",size:"medium"}},[t._v(t._s(e.label))]):t._e()}),1)},[],!1,null,"4ba4eb2a",null).exports),C={props:["grammar","title"],methods:{symbolTableRowSpan:function(t){t.row,t.column;var e=t.rowIndex;if(10===t.columnIndex)return 0===e?{rowspan:this.symbolTable.length,colspan:1}:{rowspan:0,colspan:0}},combineHeadCells:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;if(1===e)return{display:"none"}},isStartSymbol:function(symbol){return symbol===this.grammar.getStartSign().getString()?"danger":""}},computed:{productionTable:function(){var t=Array.of();if(0!==this.grammar.getProductions().length){var e=!0,r=!1,n=void 0;try{for(var o,l=this.grammar.getNonterminals()[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c=o.value,h={data:[]};if(this.grammar.getDerivations(c).length>0){var m=!0,d=!1,f=void 0;try{for(var v,y=this.grammar.getDerivations(c)[Symbol.iterator]();!(m=(v=y.next()).done);m=!0){var S=v.value;h.data.push(S.getString())}}catch(t){d=!0,f=t}finally{try{m||null==y.return||y.return()}finally{if(d)throw f}}t.push(h)}}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}}return t},symbolTable:function(){for(var t=Object(n.a)(this.grammar.getTerminals().map(function(t){return t.getString()})),e=Object(n.a)(this.grammar.getNonterminals().map(function(t){return t.getString()})),r=Array.of(),o=0,l=0;o<t.length||l<e.length;){for(var c={},i=0;i<5;i++)o<t.length&&(c["terminal"+i]=t[o],o++),l<e.length&&(c["nonterminal"+i]=e[l],l++);r.push(c)}return 0===o&&0===l&&r.push({empty:0}),r}}},P=(r(361),Object(h.a)(C,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-collapse",[r("el-collapse-item",[r("template",{slot:"title"},[r("h3",[t._v("查看"+t._s(t.title))])]),t._v(" "),r("div",{staticClass:"grammar"},[r("el-collapse",[r("el-collapse-item",[r("template",{slot:"title"},[r("h3",[t._v("符号表")])]),t._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-table",{staticClass:"symbolTable",attrs:{data:t.symbolTable,size:"small",border:"","header-cell-style":t.combineHeadCells,"span-method":t.symbolTableRowSpan}},[r("el-table-column",{attrs:{label:"终止符号",align:"center"}},[r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal0?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:"",effect:"dark",size:"medium","disable-transitions":!1}},[t._v(t._s(e.row.terminal0))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal1?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:"",effect:"dark",size:"medium","disable-transitions":!1}},[t._v(t._s(e.row.terminal1))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal2?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:"",effect:"dark",size:"medium"}},[t._v(t._s(e.row.terminal2))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal3?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:"",effect:"dark",size:"medium"}},[t._v(t._s(e.row.terminal3))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal4?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:"",effect:"dark",size:"medium"}},[t._v(t._s(e.row.terminal4))]):t._e()]}}])})],1),t._v(" "),r("el-table-column",{attrs:{label:"非终止符号",align:"center"}},[r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal0?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:t.isStartSymbol(e.row.nonterminal0),effect:"dark",size:"medium"}},[t._v(t._s(e.row.nonterminal0))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal1?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:t.isStartSymbol(e.row.nonterminal1),effect:"dark",size:"medium"}},[t._v(t._s(e.row.nonterminal1))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal2?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:t.isStartSymbol(e.row.nonterminal2),effect:"dark",size:"medium"}},[t._v(t._s(e.row.nonterminal2))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal3?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:t.isStartSymbol(e.row.nonterminal3),effect:"dark",size:"medium"}},[t._v(t._s(e.row.nonterminal3))]):t._e()]}}])}),t._v(" "),r("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal4?r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{type:t.isStartSymbol(e.row.nonterminal4),effect:"dark",size:"medium"}},[t._v(t._s(e.row.nonterminal4))]):t._e()]}}])})],1),t._v(" "),r("el-table-column",{attrs:{label:"特殊符号",align:"center"}},[r("el-table-column",{attrs:{label:"hide",align:"center"}},[r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"}},[t._v("ε")]),t._v(" "),r("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"}},[t._v("→")])],1)],1)],1)],1)],2)],1),t._v(" "),r("el-collapse",[r("el-collapse-item",[r("template",{slot:"title"},[r("h3",[t._v("产生式")])]),t._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-table",{staticClass:"productionTable",attrs:{data:t.productionTable,size:"small","show-header":!1}},[r("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.data,function(e,n){return r("el-tag",{key:n,staticClass:"tag"},[t._v(t._s(e))])})}}])})],1)],1)],2)],1)],1)],2)],1)],1)},[],!1,null,"6571a02e",null).exports),F={components:{GrammarIndicator:S,HighlightTableCell:T,CurrentGrammar:P},data:function(){return{grammar:new l.a,activeProductionIndex:0,wrapperReturn:null,wrapperSkipReturn:null,allFirstSet:null,dependSymbolIndex:null,isTerminal:null,newlyIncreasedSymbol:"",notice:"",production:null,productionIndex:null,firstSetSymbol:null,firstSetSymbolIndex:null,algorithmStep:0,newTurn:null,oldTableData:null,oldTableColumnIndex:[],wrapper:null,started:!1,allDone:!1,autoTimer:null,autoTime:1e3,firstSet:null,currentTurn:1}},computed:{dependSymbolFirstSet:function(){var t=" ";return this.allFirstSet[this.dependSymbolIndex][2].length>0?(t=this.allFirstSet[this.dependSymbolIndex][2].map(function(t){return t.getString()}).join(", "),t="first("+this.allFirstSet[this.dependSymbolIndex][0].getString()+")={"+t+"}"):t="first("+this.allFirstSet[this.dependSymbolIndex][0].getString()+")={"+t+"}"},tableData:function(){if(this.started){var t="";if(this.allFirstSet[this.firstSetSymbolIndex][2].forEach(function(e){t+=e.getString()+"  "}),t=t.slice(0,-2),this.newTurn!==this.currentTurn){for(var i=0;i<this.oldTableData.length;i++)i!==this.firstSetSymbolIndex&&this.$set(this.oldTableData[i],[this.newTurn],this.oldTableData[i][this.newTurn-1]);this.currentTurn=this.newTurn}for(var e=0;e<this.oldTableData.length;e++)e===this.firstSetSymbolIndex&&this.$set(this.oldTableData[e],[this.newTurn],t)}return this.oldTableData},tableColumnIndex:function(){if(this.started){var t=this.newTurn;t!==this.oldTableColumnIndex[this.oldTableColumnIndex.length-1]&&this.oldTableColumnIndex.push(t)}return this.oldTableColumnIndex}},methods:{allSkip:function(){this.runAll()},getHighlightSymbol:function(t,e){return e===this.currentTurn&&t.symbol===this.firstSetSymbol.getString()?this.newlyIncreasedSymbol:""},getCell:function(t,e){return void 0===t[e]?"":t[e]},initTableData:function(){var t=Array.of(),e=!0,r=!1,n=void 0;try{for(var o,l=this.allFirstSet[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c={symbol:o.value[0].getString()};t.push(c)}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}this.oldTableData=t},start:function(){var t=new w.a(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.allDone=!1,this.oldTableData=null,this.oldTableColumnIndex=[],this.next(),this.sync(),this.initTableData()},sync:function(){this.allDone?(this.notice="<h2>First集合计算完成</h2>",this.dependSymbolIndex=null,this.algorithmStep=0):(this.allFirstSet=this.wrapperReturn.allFirstSet,this.algorithmStep=this.wrapperReturn.algorithmStep,this.dependSymbolIndex=this.wrapperReturn.dependSymbolIndex,this.isTerminal=this.wrapperReturn.isTerminal,null!==this.wrapperReturn.newlyIncreasedSymbol?this.newlyIncreasedSymbol=this.wrapperReturn.newlyIncreasedSymbol.getString():this.newlyIncreasedSymbol="",this.notice=this.wrapperReturn.notice,this.production=this.wrapperReturn.production,this.firstSetSymbolIndex=this.wrapperReturn.symbolIndex,this.firstSetSymbol=this.wrapperReturn.symbol,this.newTurn=this.wrapperReturn.turn,this.activeProductionIndex=this.wrapperReturn.productionIndex),null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){this.wrapperReturn=this.wrapper.next(),this.allDone=this.wrapper.isAllDone(),this.sync()},skip:function(){for(;;){var t=this.wrapper.getContext().symbolIndex;if(this.allDone=this.wrapper.isAllDone(),this.allDone){this.sync();break}var e=this.wrapper.skip();if(t===e.symbolIndex){this.wrapperReturn=e,this.allDone=this.wrapper.isAllDone(),this.sync();break}}},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.allDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},startAutorun:function(){var t=this;this.autoTimer=setTimeout(function(){t.autorun()},this.autoTime)},autorun:function(){var t=this;this.next(),this.allDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autorun()},this.autoTime)},stopAutorun:function(){clearTimeout(this.autoTimer),this.autoTimer=null},onChagneProduction:function(t){this.activeProductionIndex=t},setGrammar:function(t){this.grammar=t},finish:function(){this.$eventbus.$emit("FinishFirstSet")}},mounted:function(){}},I=(r(363),Object(h.a)(F,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"first-set"},[r("div",{staticClass:"left"},[r("div",{staticClass:"top"},[t.started?t._e():r("h2",[t._v("点击开始按钮计算所有文法符号的First集合")]),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.notice)}}),t._v(" "),t.allDone?r("h2",[t._v("表格最后一列为对应文法符号的First集合")]):t._e()]),t._v(" "),r("div",{staticClass:"down"},[t._m(0),t._v(" "),r("div",{staticClass:"step",class:{active:1===t.algorithmStep}},[r("h3",[t._v("\n          1. 如果\n          "),r("el-tag",{staticClass:"symbol"},[t._v("X")]),t._v("是一个终止符号，那么\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("First(X)=X")])],1)]),t._v(" "),r("div",{staticClass:"step",class:{active:2===t.algorithmStep}},[r("h3",[t._v("\n          2. 如果\n          "),r("el-tag",{staticClass:"symbol"},[t._v("X")]),t._v("是一个非终止符号，\n          且\n          "),r("el-tag",{staticClass:"production"},[t._v("\n            X → Y"),r("sub",[t._v("1")]),t._v(" Y"),r("sub",[t._v("2")]),t._v("...Y"),r("sub",[t._v("k")])]),t._v("是一个产生式，\n          其中 k≥1, 那么如果对于某个 i<k，\n          "),r("el-tag",{staticClass:"symbol"},[t._v("a")]),t._v("在\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("\n            First(Y"),r("sub",[t._v("i")]),t._v(")\n          ")]),t._v("中，且\n          "),r("el-tag",{staticClass:"symbol"},[t._v("ε")]),t._v("在所有的\n          \n          "),r("el-tag",{staticClass:"firstSet"},[t._v("\n            First(Y"),r("sub",[t._v("1")]),t._v(")\n          ")]),t._v("、\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("\n            First(Y"),r("sub",[t._v("2")]),t._v(")\n          ")]),t._v("、...、\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("\n            First(Y"),r("sub",[t._v("i-1")]),t._v(")\n          ")]),t._v("中，就把\n          "),r("el-tag",{staticClass:"symbol"},[t._v("a")]),t._v("加入到\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("First(X)")]),t._v("中\n        ")],1)]),t._v(" "),r("div",{staticClass:"step",class:{active:3===t.algorithmStep}},[r("h3",[t._v("\n          3. 如果对于所有的 j=1,2,...,k，\n          "),r("el-tag",{staticClass:"symbol"},[t._v("ε")]),t._v("在\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("\n            First(Y"),r("sub",[t._v("j")]),t._v(")\n          ")]),t._v("中，那么将\n          "),r("el-tag",{staticClass:"symbol"},[t._v("ε")]),t._v("加入到\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("First(X)")]),t._v("中\n        ")],1)]),t._v(" "),r("div",{staticClass:"step",class:{active:4===t.algorithmStep}},[r("h3",[t._v("\n          4. 如果\n          "),r("el-tag",{staticClass:"production"},[t._v("X → ε")]),t._v("是一个产生式，那么将\n          "),r("el-tag",{staticClass:"symbol"},[t._v("ε")]),t._v("加入到\n          "),r("el-tag",{staticClass:"firstSet"},[t._v("First(X)")]),t._v("中\n        ")],1)])])]),t._v(" "),r("div",{staticClass:"right"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"empty-text":"请点击开始按钮","max-height":"550"}},[r("el-table-column",{staticStyle:{"font-size":"20px"},attrs:{label:"文法符号",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.symbol))])]}}])}),t._v(" "),t._l(t.tableColumnIndex,function(e,n){return r("el-table-column",{key:n,staticStyle:{"font-size":"20px"},attrs:{label:"Pass "+e.toString()},scopedSlots:t._u([{key:"default",fn:function(n){return[r("HighlightTableCell",{attrs:{string:t.getCell(n.row,e),highlightSymbol:t.getHighlightSymbol(n.row,e)}})]}}],null,!0)})})],2),t._v(" "),r("div",{staticClass:"button"},[!1===t.started?[r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.allDone?[r("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:t.runAll}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?r("el-button",{attrs:{type:"info"},on:{click:t.startAutorun}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?r("el-button",{attrs:{type:"danger"},on:{click:t.stopAutorun}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"text-align":"center"}},[e("h2",[this._v("算法流程")])])}],!1,null,"0f75a5e3",null).exports),L=(r(111),r(309),r(76),r(305)),R=r(306),j=function(){function t(e){Object(L.a)(this,t),this.grammar=e}return Object(R.a)(t,[{key:"getInitContext",value:function(){return{followset:new x.a,first:!0,pass_results:[]}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var r,o,l,c,h,m,d,f,v,y,S,w,_,x,body,i,k,T,C,P,F,I,L,R,j,E,G,A,$,D,z,O,B;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.grammar.firstset,console.log(this.grammar),r=e.followset,o=e.first,l=e.pass_results,r.clearDirty(),c=this.grammar.getStackBottomSign(),h=this.grammar.getStartSign(),m=this.grammar.getEmptySign(),d=new Set,f=0,!o){t.next=13;break}return r.add(h,c),t.next=13,{production:{},notice:"将`$`放入`Follow(".concat(h.getString(),")`中"),step:0,highlightSymbols:[],active:f,gettingFirst:[],curSign:h};case 13:v=!0,y=!1,S=void 0,t.prev=16,w=this.grammar.getProductions()[Symbol.iterator]();case 18:if(v=(_=w.next()).done){t.next=90;break}x=_.value,body=x.getBody(),i=0;case 22:if(!(i<body.length)){t.next=86;break}if(k=body[i],T=body.slice(i+1),d.add(k),!k.isNonterminal()){t.next=83;break}if(!((C=Object(n.a)(this.grammar.getSignsFirstSet(T)).filter(function(t){return!t.isEmpty()})).length>0)){t.next=50;break}for(P=!0,F=!1,I=void 0,t.prev=32,L=C[Symbol.iterator]();!(P=(R=L.next()).done);P=!0)j=R.value,r.add(k,j);t.next=40;break;case 36:t.prev=36,t.t0=t.catch(32),F=!0,I=t.t0;case 40:t.prev=40,t.prev=41,P||null==L.return||L.return();case 43:if(t.prev=43,!F){t.next=46;break}throw I;case 46:return t.finish(43);case 47:return t.finish(40);case 48:return t.next=50,{production:x,notice:"`FIRST(".concat(T.map(function(t){return t.getString()}).join(""),")`=`").concat(C.map(function(t){return t.getString()}).join(""),"`，将除`").concat(m.getString(),"`之外的符号加入`FOLLOW(").concat(k.getString(),")`中"),step:1,highlightSymbols:[],processedSigns:Object(n.a)(d),active:f,gettingFirst:Object(n.a)(T),curSign:k};case 50:if(0!==(E=new Set(this.grammar.getSignsFirstSet(T))).size){t.next=56;break}return t.next=54,{production:x,notice:"在产生式`".concat(x.getString(),"`中，`").concat(k.getString(),"`之后无符号"),step:2,highlightSymbols:[],processedSigns:Object(n.a)(d),active:f,gettingFirst:[],curSign:k};case 54:t.next=59;break;case 56:if(!E.has(m)){t.next=59;break}return t.next=59,{production:x,notice:"在产生式`".concat(x.getString(),"`中，`").concat(k.getString(),"`之后的符号的`FITST(").concat(T.map(function(t){return t.getString()}).join(""),")`中存在`").concat(m.getString(),"`"),step:2,highlightSymbols:[],processedSigns:Object(n.a)(d),active:f,gettingFirst:Object(n.a)(T),curSign:k};case 59:if(0!==E.size&&!E.has(m)){t.next=83;break}if(!r.has(x.getHead())){t.next=81;break}for(G=Object(n.a)(r.get(x.getHead())),A=!0,$=!1,D=void 0,t.prev=65,z=G[Symbol.iterator]();!(A=(O=z.next()).done);A=!0)B=O.value,r.add(k,B);t.next=73;break;case 69:t.prev=69,t.t1=t.catch(65),$=!0,D=t.t1;case 73:t.prev=73,t.prev=74,A||null==z.return||z.return();case 76:if(t.prev=76,!$){t.next=79;break}throw D;case 79:return t.finish(76);case 80:return t.finish(73);case 81:return t.next=83,{production:x,notice:"将`FOLLOW(".concat(x.getHead().getString(),")`中的所有符号放入`FOLLOW(").concat(k.getString(),")`中"),step:2,highlightSymbols:[],processedSigns:Object(n.a)(d),active:f,gettingFirst:[x.getHead()],curSign:k};case 83:i++,t.next=22;break;case 86:f++;case 87:v=!0,t.next=18;break;case 90:t.next=96;break;case 92:t.prev=92,t.t2=t.catch(16),y=!0,S=t.t2;case 96:t.prev=96,t.prev=97,v||null==w.return||w.return();case 99:if(t.prev=99,!y){t.next=102;break}throw S;case 102:return t.finish(99);case 103:return t.finish(96);case 104:return r.isDirty()&&l.push(r.clone()),t.abrupt("return",[!r.isDirty(),{followset:r,first:!1,pass_results:l}]);case 106:case"end":return t.stop()}},t,this,[[16,92,96,104],[32,36,40,48],[41,,43,47],[65,69,73,81],[74,,76,80],[97,,99,103]])})},{key:"getCurResult",value:function(t){return{followset:t.followset,pass_results:t.pass_results}}},{key:"getResultFromContext",value:function(){}},{key:"runEpoch",value:function(t){var e=this.epoch(t),r=null;do{r=e.next()}while(!1===r.done);return r.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1].followset}}]),t}(),E={props:["text","highlight"],computed:{html:function(){return"``"===this.text?"":this.highlight?this.text.replace(/`(.*?)`/g,'<span class="highlight-text-item cell-heighlight">$1</span>'):this.text.replace(/`(.*?)`/g,'<span class="highlight-text-item">$1</span>')}}},G=(r(365),Object(h.a)(E,function(){var t=this.$createElement;return(this._self._c||t)("p",{class:{"highlight-text":""!==this.html},domProps:{innerHTML:this._s(this.html)}})},[],!1,null,null,null).exports),A={components:{GrammarIndicator:S,HighlightText:G},data:function(){return{grammar:new l.a,active:0,wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,preStep:-1,curHighlightSymbols:[],autoTime:1e3,autoTimer:null,isAllDone:!1,gettingFirst:[],followset:null,pass_results:[],tableTerminals:[],tableNonterminals:[],processedSigns:[],curSign:"",curCalProduction:{}}},methods:{onChagneProduction:function(t){this.active=t},start:function(){var t=new j(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.curHighlightSymbols=[],this.active=0,this.curStep=this.preStep=-1,this.notice=this.pre_notice="",this.sync()},sync:function(){this.followset=this.wrapper.getCurResult().followset,this.pass_results=this.wrapper.getCurResult().pass_results,this.tableTerminals=this.grammar.getTerminals(),this.tableNonterminals=this.grammar.getNonterminals(),this.isAllDone=this.wrapper.isAllDone(),this.isAllDone&&this.$message("已完成Follow集构建"),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){var t=this.wrapper.next(),e=t.notice,r=t.production,n=t.step,o=t.highlightSymbols,l=t.active,c=t.gettingFirst,h=t.processedSigns,m=t.curSign;this.processedSigns=h,this.gettingFirst=c,this.preStep=this.curStep,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=o,this.active=l,this.curSign=m,this.curCalProduction=r,this.sync()},skip:function(){var t=this.wrapper.skip(),e=t.notice,r=t.production,n=t.step,o=t.highlightSymbols,l=t.active,c=t.gettingFirst,h=t.processedSigns,m=t.curSign;this.processedSigns=h,this.gettingFirst=c,this.preStep=this.curStep,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=o,this.active=l,this.curSign=m,this.curCalProduction=r,this.sync()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.isAllDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},setGrammar:function(t){this.grammar=t},finish:function(){this.$eventbus.$emit("FinishFollowSet")}},computed:{curProduction:function(){var t=this.grammar.getProductions();return t.length>this.active?t[this.active]:null},curFirstSet:function(){return this.grammar.getSignsFirstSet(this.gettingFirst)},algorithmSteps:function(){return["在开始符号`S`的`FOLLOW(S)`中，加入`$`","如果存在产生式`A→αBβ`，则将`FIRST(β)`中除`ε`以外的符号都放入`FOLLOW(B)`中","如果存在产生式`A→αB`，或`A→αBβ`，其中`FIRST(β)`中包含`ε`，则将`FOLLOW(A)`中的所有符号放入`FOLLOW(B)`中"]},passCount:function(){return null===this.followset?0:this.pass_results.length+1},tableData:function(){var t=this;if(null===this.followset)return[];var e=this.tableNonterminals.map(function(e){for(var r={nonterminal:e.getString()},i=0;i<t.pass_results.length+1;i++)r["pass"+i]="";return r}),r=0,o=!0,l=!1,c=void 0;try{for(var h,m=this.pass_results[Symbol.iterator]();!(o=(h=m.next()).done);o=!0){for(var map=h.value,d=0;d<this.tableNonterminals.length;d++){var f=this.tableNonterminals[d],v=e[d],y=[];map.has(f)&&(y=Object(n.a)(map.get(f))),v["pass"+r]=y.map(function(t){return t.getString()}).join(" ")}r++}}catch(t){l=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(l)throw c}}var S=this.followset;if(null!==S)for(var i=0;i<this.tableNonterminals.length;i++){var w=this.tableNonterminals[i],_=e[i],x=[];S.has(w)&&(x=Object(n.a)(S.get(w))),_["pass"+r]=x.map(function(t){return t.getString()}).join("")}return e},curSignText:function(){return"function"==typeof this.curSign.getString?this.curSign.getString():""}},mounted:function(){}},$=(r(367),Object(h.a)(A,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ppt"},[r("div",{staticClass:"algorithm"},[r("div",{staticClass:"left"},[r("div",{staticClass:"step-desc",staticStyle:{"text-align":"center"}},[t.started?[this.curSign.getString?r("HighlightText",{staticClass:"h2",attrs:{text:"当前计算`Follow("+this.curSign.getString()+")`"}}):t._e(),t._v(" "),this.curCalProduction.getString?r("HighlightText",{staticClass:"h2",attrs:{text:"基于产生式`"+this.curCalProduction.getString()+"`"}}):t._e(),t._v(" "),r("HighlightText",{staticClass:"h2",attrs:{text:t.notice}})]:r("span",{staticClass:"h2"},[t._v("点击开始按钮计算所有非终止符号的Follow集合")])],2),t._v(" "),r("p",{staticClass:"title h3"},[t._v("算法流程")]),t._v(" "),t._l(t.algorithmSteps,function(e,n){return r("HighlightText",{key:n,staticClass:"step h3",class:{active:t.curStep===n},attrs:{text:n+1+". "+e}})})],2),t._v(" "),r("div",{staticClass:"right"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"550"}},[r("el-table-column",{attrs:{label:"非终止符号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("HighlightText",{attrs:{text:"`"+t.row.nonterminal+"`"}})]}}])}),t._v(" "),t._l(t.passCount,function(e){return r("el-table-column",{key:e,attrs:{label:"Pass "+String(e),width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[r("HighlightText",{attrs:{highlight:e===t.passCount&&n.row.nonterminal===t.curSignText,text:"`"+n.row["pass"+String(e-1)]+"`"}})]}}],null,!0)})})],2),t._v(" "),r("div",{staticStyle:{position:"absolute",bottom:"-60px",left:"10px"}},[!1===t.started?[r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[r("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:t.runAll}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?r("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?r("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])])},[],!1,null,"2afb90dc",null).exports),D=(r(77),r(113),r(327)),z={components:{CurrentGrammar:P},data:function(){return{grammar:new l.a,isLL1:!1,productions:[],leftTableRowKeys:[],rightTableRowKeys:[]}},computed:{},created:function(){},methods:{changeLeftTableRowKeys:function(t){this.leftTableRowKeys.includes(t)?this.leftTableRowKeys.splice(this.leftTableRowKeys.indexOf(t),1):this.leftTableRowKeys.push(t)},changeRightTableRowKeys:function(t){this.rightTableRowKeys.includes(t)?this.rightTableRowKeys.splice(this.rightTableRowKeys.indexOf(t),1):this.rightTableRowKeys.push(t)},run:function(){var t=new D.a(this.grammar);this.isLL1=t.isLL1,this.setProductions(t.productions)},setGrammar:function(t){this.grammar=t,this.run()},setProductions:function(t){var e=[],r=!0,n=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value,m=t.indexOf(h),d=t.indexOf(h),f=h.head.getString()+" → ",v=!0,y=!1,S=void 0;try{for(var w,_=h.sameHeadProductions[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){f+=w.value.getBodyString()+" | "}}catch(t){y=!0,S=t}finally{try{v||null==_.return||_.return()}finally{if(y)throw S}}f=f.slice(0,-3);var x={firstSets:[],error:!1,notice:""},k=!0,T=!1,C=void 0;try{for(var P,F=h.productionBodyFirstSets[Symbol.iterator]();!(k=(P=F.next()).done);k=!0){var I=P.value,label="First(".concat(I.production.getBodyString(),")"),L=I.bodyFirstSet.map(function(t){return t.getString()});x.firstSets.push({label:label,set:L})}}catch(t){T=!0,C=t}finally{try{k||null==F.return||F.return()}finally{if(T)throw C}}if(!h.bodyFirstSetIntersectionIsEmpty){x.error=!0;var R=!0,j=!1,E=void 0;try{for(var G,A=h.bodyFirstSetIntersectionNoEmptyProduction[Symbol.iterator]();!(R=(G=A.next()).done);R=!0){var i=G.value,$="",D=!0,z=!1,O=void 0;try{for(var B,H=i[Symbol.iterator]();!(D=(B=H.next()).done);D=!0){var N=B.value;$+="First(".concat(N.getBodyString(),"), ")}}catch(t){z=!0,O=t}finally{try{D||null==H.return||H.return()}finally{if(z)throw O}}$=$.slice(0,-2),$+=" 相交不为空;<br> ",x.notice+=$}}catch(t){j=!0,E=t}finally{try{R||null==A.return||A.return()}finally{if(j)throw E}}x.notice=x.notice.slice(0,-6)}var head={firstSet:"",followSet:"",error:!1,notice:""},M="First(".concat(h.head.getString(),")"),K=h.headFirstSet.map(function(t){return t.getString()}),X="Follow(".concat(h.head.getString(),")"),Y=h.headFollowSet.map(function(t){return t.getString()});head.firstSet={label:M,set:K},head.followSet={label:X,set:Y},h.headFirstSetHasEmpty&&(h.firstFollowIntersectionIsEmpty||(head.error=!0,head.notice="First(".concat(h.head.getString(),") 中存在 ε 且 First(").concat(h.head.getString(),") 与 Follow(").concat(h.head.getString(),") 相交不为空"))),e.push({production:f,bodys:x,head:head,leftTableRowKey:m,rightTableRowKey:d})}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}this.productions=e},finish:function(){this.$eventbus.$emit("FinishIsLL1")}}},O=(r(369),Object(h.a)(z,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"isLL1"},[r("div",{staticClass:"top"},[!0===t.isLL1?r("h2",[t._v("当前文法属于LL(1)文法")]):r("h2",[t._v("当前文法不属于LL(1)文法")]),t._v(" "),r("div",{staticStyle:{color:"#99a9bf",margin:"4px","font-size":"18.72px"}},[t._v("当下面两个条件都满足时，一个文法才属于LL(1)文法")])]),t._v(" "),r("div",{staticClass:"down"},[r("div",{staticClass:"left"},[r("h3",[t._v("\n        1. 对于每个产生式\n        "),r("el-tag",{staticClass:"production"},[t._v("\n            A → α"),r("sub",[t._v("1")]),t._v(" | α"),r("sub",[t._v("2")]),t._v("...| α"),r("sub",[t._v("n")])]),r("br"),t._v("\n        设 1≤i≤j≤n 且 i≠j，对于所有的 i 和 j，\n        "),r("el-tag",{staticClass:"firstSet"},[t._v("\n          First(α"),r("sub",[t._v("i")]),t._v(")∩First(α"),r("sub",[t._v("j")]),t._v(")=∅\n        ")]),t._v(" 恒成立\n      ")],1),t._v(" "),r("div",{staticClass:"left-table"},[r("el-table",{attrs:{data:t.productions,"show-header":!1,"max-height":"550","row-key":"leftTableRowKey","expand-row-keys":t.leftTableRowKeys}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-form",{staticClass:"left-table-expand",attrs:{"label-position":"left"}},[t._l(e.row.bodys.firstSets,function(e,n){return r("el-form-item",{key:n},[r("template",{slot:"label"},[r("span",{staticClass:"left-table-label"},[t._v(t._s(e.label)+" =")])]),t._v(" "),t._l(e.set,function(symbol,e){return r("el-tag",{key:e,staticStyle:{margin:"0px 5px 0px 5px","font-size":"16px"}},[t._v(t._s(symbol))])})],2)}),t._v(" "),e.row.bodys.notice.length>0?r("el-form-item",[r("template",{slot:"label"},[r("span",{staticClass:"left-table-label"},[t._v("结论")])]),t._v(" "),r("span",{domProps:{innerHTML:t._s(e.row.bodys.notice)}})],2):t._e()],2)]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v("\n                "+t._s(e.row.production)+"\n                "),e.row.bodys.error?t._e():r("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:function(r){return t.changeLeftTableRowKeys(e.row.leftTableRowKey)}}}),t._v(" "),e.row.bodys.error?r("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:function(r){return t.changeLeftTableRowKeys(e.row.leftTableRowKey)}}}):t._e()],1)]}}])})],1)],1)]),t._v(" "),r("div",{staticClass:"right"},[r("h3",[t._v("\n        2. 对于每个产生式\n        "),r("el-tag",{staticClass:"production"},[t._v("\n          A → α"),r("sub",[t._v("1")]),t._v(" | α"),r("sub",[t._v("2")]),t._v("...| α"),r("sub",[t._v("n")])]),r("br"),t._v("\n        如果\n        "),r("el-tag",{staticClass:"firstSet"},[t._v("First(A)")]),t._v(" 包含\n        "),r("el-tag",{staticClass:"symbol"},[t._v("ε")]),t._v("，则\n        "),r("el-tag",{staticClass:"firstSet"},[t._v("First(A)∩Follow(A)")]),t._v(" 必须为 ∅\n      ")],1),t._v(" "),r("div",{staticClass:"right-table"},[r("el-table",{attrs:{data:t.productions,"show-header":!1,"max-height":"550","row-key":"rightTableRowKey","expand-row-keys":t.rightTableRowKeys}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-form",{staticClass:"right-table-expand",attrs:{"label-position":"left"}},[r("el-form-item",[r("template",{slot:"label"},[r("span",{staticClass:"right-table-label"},[t._v(t._s(e.row.head.firstSet.label)+" =")])]),t._v(" "),t._l(e.row.head.firstSet.set,function(symbol,e){return r("el-tag",{key:e,staticStyle:{margin:"0px 5px 0px 5px","font-size":"16px"}},[t._v(t._s(symbol))])})],2),t._v(" "),r("el-form-item",[r("template",{slot:"label"},[r("span",{staticClass:"right-table-label"},[t._v(t._s(e.row.head.followSet.label)+" =")])]),t._v(" "),t._l(e.row.head.followSet.set,function(symbol,e){return r("el-tag",{key:e,staticStyle:{margin:"0px 5px 0px 5px"}},[t._v(t._s(symbol))])})],2),t._v(" "),e.row.head.notice.length>0?r("el-form-item",[r("template",{slot:"label"},[r("span",{staticClass:"right-table-label"},[t._v("结论")])]),t._v(" "),r("span",[t._v(t._s(e.row.head.notice))])],2):t._e()],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v("\n                "+t._s(e.row.production)+"\n                "),e.row.head.error?t._e():r("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:function(r){return t.changeRightTableRowKeys(e.row.rightTableRowKey)}}}),t._v(" "),e.row.head.error?r("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:function(r){return t.changeRightTableRowKeys(e.row.rightTableRowKey)}}}):t._e()],1)]}}])})],1)],1)])])])},[],!1,null,"4422f5fa",null).exports),B={props:["grammar"],name:"userInput",data:function(){return{input:""}},watch:{input:function(t){if(""!==t){var e=t.trim();(e=e.split(/\s+/)).length>0&&this.$emit("getInput",e)}}}},H=Object(h.a)(B,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-input",{attrs:{type:"textarea",rows:12,placeholder:"请输入要分析的语句,空格键隔开每个Sign"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},[],!1,null,"529d32fe",null).exports,N=r(315),M=function(){function t(e){Object(L.a)(this,t),this.grammar=e}return Object(R.a)(t,[{key:"getInitContext",value:function(){return{cur_g_index:0,table:new N.a}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var r,table,n,o,l,c,h,m,d,f,v,y,S,w,_,x,k,T,C,symbol,P;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cur_g_index,table=e.table,n=this.grammar,!(r>=n.productions.length)){t.next=4;break}return t.abrupt("return",[!0,table]);case 4:o=n.productions[r],l=new Set(n.getProductionBodyFirstSet(o)),c=new Set(n.getSignFollowSet(o.head)),h=n.getEmptySign(),m=n.getStackBottomSign(),d=!0,f=!1,v=void 0,t.prev=12,y=l[Symbol.iterator]();case 14:if(d=(S=y.next()).done){t.next=24;break}if(0!=(w=S.value).isTerminal()){t.next=18;break}return t.abrupt("continue",21);case 18:return table.set(o.head,w,o),t.next=21,{curProduction:o,notice:"分析产生式`"+o.getString()+"` "+"`First(".concat(o.getBodyString(),")`中存在终止符 `").concat(w.getString(),"` , 将产生式 `").concat(o.getString(),"` 加入到分析表`M[").concat(o.getHeadString(),", ").concat(w.getString(),"]`中"),step:0,highlightSymbols:[w]};case 21:d=!0,t.next=14;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(12),f=!0,v=t.t0;case 30:t.prev=30,t.prev=31,d||null==y.return||y.return();case 33:if(t.prev=33,!f){t.next=36;break}throw v;case 36:return t.finish(33);case 37:return t.finish(30);case 38:if(!l.has(h)){t.next=80;break}return t.next=41,{curProduction:o,notice:"`First(".concat(o.getBodyString(),")`中存在`").concat(h.getString(),"`"),step:1,highlightSymbols:[h]};case 41:_=!0,x=!1,k=void 0,t.prev=44,T=c[Symbol.iterator]();case 46:if(_=(C=T.next()).done){t.next=56;break}if(0!=(symbol=C.value).isTerminal()){t.next=50;break}return t.abrupt("continue",53);case 50:return table.set(o.head,symbol,o),t.next=53,{curProduction:o,notice:"`Follow(".concat(o.getHeadString(),")`中存在终止符 `").concat(symbol.getString(),"` , 将产生式 `").concat(o.getString(),"` 加入到分析表`M[").concat(o.getHeadString(),", ").concat(symbol.getString(),"]`中"),step:1,highlightSymbols:[symbol]};case 53:_=!0,t.next=46;break;case 56:t.next=62;break;case 58:t.prev=58,t.t1=t.catch(44),x=!0,k=t.t1;case 62:t.prev=62,t.prev=63,_||null==T.return||T.return();case 65:if(t.prev=65,!x){t.next=68;break}throw k;case 68:return t.finish(65);case 69:return t.finish(62);case 70:if(!c.has(m)){t.next=76;break}return table.set(o.head,m,o),t.next=74,{curProduction:o,notice:"`Follow(".concat(o.getHeadString(),")`中存在 `$` , 将产生式 `").concat(o.getString(),"` 加入到分析表`M[").concat(o.getHeadString(),", $]`中"),step:2,highlightSymbols:[m]};case 74:t.next=78;break;case 76:return t.next=78,{curProduction:o,notice:"`Follow(".concat(o.getHeadString(),")`中不存在 `$` ，跳过"),step:2,highlightSymbols:[]};case 78:t.next=82;break;case 80:return t.next=82,{curProduction:o,notice:"`First(".concat(o.getBodyString(),")`中不存在 `").concat(h.getString(),"` ，跳过"),step:1,highlightSymbols:[]};case 82:return P={cur_g_index:r+1,table:table},t.abrupt("return",[!1,P]);case 84:case"end":return t.stop()}},t,this,[[12,26,30,38],[31,,33,37],[44,58,62,70],[63,,65,69]])})},{key:"getCurResult",value:function(t){return t.table.getTableData()}},{key:"getModifyPosition",value:function(t){return t.table.getModifyPosition()}},{key:"getResultFromContext",value:function(t){return t.table}},{key:"runEpoch",value:function(t){var e=this.epoch(t),r=null;do{r=e.next()}while(!1===r.done);return r.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1]}}]),t}(),K=function(){function t(){Object(L.a)(this,t),this.stack=[],this.top=0}return Object(R.a)(t,[{key:"push",value:function(element){if(element instanceof Array)for(var i=element.length-1;i>=0;i--)this.stack[this.top++]=element[i];else this.stack[this.top++]=element;return this}},{key:"pop",value:function(){return this.top>0?(--this.top,this.stack.pop()):null}},{key:"getStack",value:function(){return this.stack}},{key:"getStringStack",value:function(){var t="",e=!0,r=!1,n=void 0;try{for(var o,l=this.stack[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){t=o.value.getString()+t}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}return t}},{key:"peek",value:function(){return this.top>0?this.stack[this.top-1]:null}}]),t}(),X=function(){function t(e,r,o){Object(L.a)(this,t),this.grammar=e,this.PredictiveParsingTable=r,this.end=this.grammar.getStackBottomSign(),this.empty=this.grammar.getEmptySign(),this.strToken=Object(n.a)(o),this.strToken.push(this.end),this.started=!1}return Object(R.a)(t,[{key:"getInitContext",value:function(){return{cur_index:0,stack:(new K).push(this.end).push([this.grammar.getStartSign()])}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var r,n,o,l,c,h,m,p,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cur_index,n=e.stack,o=this.empty,l=this.end,c=this.PredictiveParsingTable,h=this.strToken,m=n.peek(),p=h[r],d=c.get(m,p),console.log(h),this.started){t.next=13;break}return t.next=12,{p:p,M:d,Production:"",notice:"",token:h};case 12:this.started=!0;case 13:if(m===p){t.next=38;break}if(!m.isTerminal()){t.next=19;break}return console.log("栈顶：",m.getString(),"\t字符：",p.getString()),t.abrupt("return",this.error());case 19:if(d){t.next=24;break}return console.log("M is null:",d),t.abrupt("return",this.error());case 24:if(1!==d.getBody().length||d.getBody()[0]!==o){t.next=30;break}return n.pop(),t.next=28,{p:p,M:d,Production:this.getTokenString(r),notice:"输出".concat(d.getHeadString()," -> ").concat(d.getBodyString()),token:h.slice(r)};case 28:t.next=34;break;case 30:return n.pop(),n.push(d.getBody()),t.next=34,{p:p,M:d,Production:this.getTokenString(r),notice:"输出".concat(d.getHeadString()," -> ").concat(d.getBodyString()),token:h.slice(r)};case 34:m=n.peek(),d=c.get(m,p),t.next=13;break;case 38:if(m!==l){t.next=40;break}return t.abrupt("return",[!0,!0]);case 40:return n.pop(),t.next=43,{p:p,M:d,Production:this.getTokenString(r+1),notice:"匹配".concat(m.getString()),token:h.slice(r+1)};case 43:return f={cur_index:r+1,stack:n},t.abrupt("return",[!1,f]);case 45:case"end":return t.stop()}},t,this)})},{key:"runEpoch",value:function(t){var e=this.epoch(t),r=null;do{r=e.next()}while(!1===r.done);return r.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1]}},{key:"error",value:function(){return console.log("发生错误"),[!0,!1]}},{key:"getCurResult",value:function(t){var e=t.stack,r=t.cur_index;return{stack:e,strToken:this.strToken.slice(r)}}},{key:"getTokenString",value:function(t){for(var e="",i=0;i<t;i++)e+=this.strToken[i].getString();return e}}]),t}(),Y=(r(316),{components:{HighlightText:G,userInput:H},data:function(){var t=new K;return{grammar:new l.a,active:0,parsingStack:t,stack:t,PPT:new N.a,PPTData:"",strToken:[],tempInput:[],inputData:"",p:"",M:"",Production:"",stackData:[],wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,autoTime:1e3,autoTimer:null,isAllDone:!1}},methods:{getData:function(t){this.tempInput=t},start:function(){if(this.checkInput()){var t=new X(this.grammar,this.PPT,this.inputData);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.next()}},restart:function(){this.stackData=[],this.start()},sync:function(){var t=this.wrapper.getCurResult();if(this.stack=t.stack,this.isAllDone=this.wrapper.isAllDone(),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null),this.isAllDone)return this.strToken.length>1||this.stack.getStack().length>1?void this.$message("无法继续匹配"):void this.$message("匹配完成");this.pushTable(this.notice)},next:function(){var t=this.wrapper.next(),p=t.p,e=t.M,r=t.Production,n=t.notice,o=t.token;e&&(this.M=e.getString()),p&&(this.p=p.getString()),this.notice=n,this.Production=r,this.strToken=o,this.sync()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},skip:function(){for(;!this.isAllDone;)this.next()},setGrammar:function(t){this.grammar=t,this.PPT=t.PPT},pushTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.stackData.push({matched:this.Production,symbolStack:this.stack.getStringStack(),input:this.strTokenData,action:t})},checkInput:function(){var t=this.tempInput,e=[];if(t.length>0){var r=!0,n=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var i=l.value;if(!this.grammar.checkSignsExist([i]))return console.log(i),this.$message("输入了文法中不存在的符号，请重新输入"),!1;try{var h=this.grammar.getSign(i);if(h.isNonterminal())return this.$message("输中存在非终结符，请重新输入"),!1;if(h===this.grammar.getEmptySign()||h===this.grammar.getStackBottomSign())return this.$message("栈底符号$和空符ε不能作为输入"),!1;e.push(h)}catch(t){console.log(t)}}}catch(t){n=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}}return 0!=e.length&&(this.inputData=e,!0)}},computed:{tableTerminals:function(){var t=this.PPT.getTableData(),e=(t.nonterminals,t.terminals);t.table;return e.filter(function(t){return!t.isEmpty()}).map(function(t){return t.getString()})},tableData:function(){var t=this.PPT.getTableData(),e=t.nonterminals,r=t.terminals,table=t.table,n=[],i=0,o=!0,l=!1,c=void 0;try{for(var h,m=e[Symbol.iterator]();!(o=(h=m.next()).done);o=!0){var d={nonterminal:h.value.getString()};for(var f in table[i]){var v=r[f];null===table[i][f]?d[v.getString()]="":d[v.getString()]=table[i][f].getString()}n.push(d),i++}}catch(t){l=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(l)throw c}}return n},strTokenData:function(){var t="",e=!0,r=!1,n=void 0;try{for(var o,l=this.strToken[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){t+=o.value.getString()}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}return t}},mounted:function(){}}),W=(r(371),Object(h.a)(Y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"analysis"},[r("div",{staticClass:"up"},[r("div",{staticClass:"user-input"},[r("userInput",{attrs:{grammar:t.grammar},on:{getInput:t.getData}}),t._v(" "),r("div",[!1===t.started?[r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[r("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:t.skip}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?r("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?r("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?r("el-button",{attrs:{type:"primary"},on:{click:t.restart}},[t._v("重新开始")]):t._e()],2)],1),t._v(" "),r("div",{staticClass:"PPT"},[r("el-table",{attrs:{data:t.tableData,height:"350"}},[r("el-table-column",{attrs:{label:"非终止符号"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.nonterminal))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"输入符号"}},t._l(t.tableTerminals,function(e,n){return r("el-table-column",{key:n,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row[e]!=t.M||e!=t.p?r("span",[t._v("\n                "+t._s(n.row[e])+"\n              ")]):r("span",{staticClass:"active"},[t._v("\n                "+t._s(n.row[e])+"\n              ")])]}}],null,!0)})}),1)],1)],1)]),t._v(" "),r("div",{staticClass:"down"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stackData,height:"500"}},[r("el-table-column",{attrs:{prop:"matched",label:"已匹配",width:"180",align:"right"}}),t._v(" "),r("el-table-column",{attrs:{prop:"symbolStack",label:"符号栈",width:"180",align:"right"}}),t._v(" "),r("el-table-column",{attrs:{prop:"input",label:"输入",align:"right"}}),t._v(" "),r("el-table-column",{attrs:{prop:"action",label:"动作",align:"right"}})],1)],1)])},[],!1,null,"6f5847b9",null).exports),V={components:{GrammarIndicator:S,HighlightText:G},data:function(){var t=new N.a;return{grammar:new l.a,active:0,PPT:t,PPTData:t.getTableData(),wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,preStep:-1,curHighlightSymbols:[],autoTime:1e3,autoTimer:null,isAllDone:!1,modifyNonterminal:"",modifyTerminal:"",curCalProduction:{}}},methods:{onChagneProduction:function(t){this.active=t},start:function(){var t=new M(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.curHighlightSymbols=[],this.curStep=this.preStep=-1,this.notice=this.pre_notice="",this.sync()},sync:function(){this.active=this.wrapper.getContext().cur_g_index,this.PPTData=this.wrapper.getCurResult(),this.isAllDone=this.wrapper.isAllDone();var t=this.wrapper.algorithm.getModifyPosition(this.wrapper.getContext());this.modifyNonterminal=t.nonterminal,this.modifyTerminal=t.terminal,"function"==typeof this.modifyNonterminal.getString&&(this.modifyNonterminal=this.modifyNonterminal.getString()),"function"==typeof this.modifyTerminal.getString&&(this.modifyTerminal=this.modifyTerminal.getString()),this.isAllDone&&this.$message("已完成预测分析表构建"),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){var t=this.wrapper.next(),e=t.notice,r=t.curProduction,n=t.step,o=t.highlightSymbols;this.preStep=this.curStep,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=o,this.curCalProduction=r,this.sync()},skip:function(){var t=this.wrapper.skip(),e=t.notice,r=t.curProduction,n=t.step,o=t.highlightSymbols;this.preStep=this.curStep,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=o,this.curCalProduction=r,this.sync()},oldnext:function(){var t=this,e=new Set(this.curFirstSet),r=new Set(this.curFollowSet),n=this.grammar.getEmptySign(),o=this.grammar.getStackBottomSign(),l=!0,c=!1,h=void 0;try{for(var m,d=e[Symbol.iterator]();!(l=(m=d.next()).done);l=!0){var symbol=m.value;this.PPT.set(this.curProduction.head,symbol,this.curProduction)}}catch(t){c=!0,h=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}e.has(n)&&(this.curFollowSet.filter(function(t){return t.isTerminal()}).forEach(function(e){t.PPT.set(t.curProduction.head,e,t.curProduction)}),r.has(o)&&this.PPT.set(this.curProduction.head,o,this.curProduction)),this.active++,this.PPTData=this.PPT.getTableData()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.isAllDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},finish:function(){this.$eventbus.$emit("FinishPPT")},setGrammar:function(t){this.grammar=t,this.PPT=new M(t).run()}},computed:{curProduction:function(){var t=this.grammar.getProductions();return t.length>this.active?t[this.active]:null},curFirstSet:function(){var t=this.curProduction;return null===t?[]:this.grammar.getProductionBodyFirstSet(t)},curFollowSet:function(){var t=this.curProduction;return null===t?[]:this.grammar.getSignFollowSet(t.head)},tableTerminals:function(){var t=this.PPTData,e=(t.nonterminals,t.terminals);t.table;return e.filter(function(t){return!t.isEmpty()}).map(function(t){return t.getString()})},tableData:function(){var t=this.PPTData,e=t.nonterminals,r=t.terminals,table=t.table,n=[],i=0,o=!0,l=!1,c=void 0;try{for(var h,m=e[Symbol.iterator]();!(o=(h=m.next()).done);o=!0){var d={nonterminal:h.value.getString()};for(var f in table[i]){var v=r[f];null===table[i][f]?d[v.getString()]="":d[v.getString()]=table[i][f].getString()}n.push(d),i++}}catch(t){l=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(l)throw c}}return n},algorithmSteps:function(){return["对于产生式`A→α`，对于`First(α)`每个终结符号`a`，将`A→α`加入到分析表`M[A,a]`中","若`First(α)`中存在`ε`, 将`Follow(A)`中的每个终结符号`b`，将`A→α`加入到分析表`M[A,b]`中","若`First(α)`中存在`ε` 且 `Follow(A)`中存在`$`，将`A→α`加入到`M[A,$]`中"]}},mounted:function(){}},J=(r(373),Object(h.a)(V,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ppt"},[r("div",{staticClass:"algorithm"},[r("div",{staticClass:"left"},[r("div",{staticClass:"step-desc",staticStyle:{"text-align":"center"}},[t.started?[this.curCalProduction.getString?r("HighlightText",{staticClass:"h2",attrs:{text:"基于产生式`"+this.curCalProduction.getString()+"`"}}):t._e(),t._v(" "),r("HighlightText",{staticClass:"h2",attrs:{text:t.notice}})]:r("span",{staticClass:"h2"},[t._v("点击开始按钮计算当前文法的预测分析表")])],2),t._v(" "),r("p",{staticClass:"title h3"},[t._v("算法流程")]),t._v(" "),t._l(t.algorithmSteps,function(e,n){return r("HighlightText",{key:n,staticClass:"step h3",class:{active:t.curStep===n},attrs:{text:n+1+". "+e}})})],2),t._v(" "),r("div",{staticClass:"right"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"550"}},[r("el-table-column",{attrs:{label:"非终止符号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("HighlightText",{attrs:{text:"`"+t.row.nonterminal+"`"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"输入符号"}},t._l(t.tableTerminals,function(e,n){return r("el-table-column",{key:n,attrs:{label:e,width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[r("HighlightText",{attrs:{highlight:e===t.modifyTerminal&&n.row.nonterminal===t.modifyNonterminal,text:"`"+n.row[e]+"`"}})]}}],null,!0)})}),1)],1),t._v(" "),r("div",{staticStyle:{position:"absolute",bottom:"-60px",left:"10px"}},[!1===t.started?[r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[r("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:t.runAll}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?r("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?r("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?r("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])])},[],!1,null,"1e9af2d2",null).exports),U=r(345),Q=r(326),Z={layout:"grammar",data:function(){return{curStep:"GrammarInput",grammar:new l.a,rawGrammar:new l.a}},components:{GrammarInput:m,FirstSet:I,FollowSet:$,IsLL1:O,ParsingStack:W,PredictiveParsingTable:J,ExtractLeftFactor:v,EliminateLeftRecursion:U.a,CurrentGrammar:P},mounted:function(){var t=this;this.$eventbus.$on("FinishInputGrammar",function(e){t.rawGrammar=e,t.jumptTo("EliminateLeftRecursion")}),this.$eventbus.$on("FinishEliminateLeftRecursion",function(){t.jumptTo("ExtractLeftFactor")}),this.$eventbus.$on("FinishExtractLeftFactor",function(){t.jumptTo("FirstSet")}),this.$eventbus.$on("FinishFirstSet",function(){t.jumptTo("FollowSet")}),this.$eventbus.$on("FinishFollowSet",function(){t.jumptTo("IsLL1")}),this.$eventbus.$on("FinishIsLL1",function(){t.jumptTo("PredictiveParsingTable")}),this.$eventbus.$on("FinishPPT",function(){t.jumptTo("ParsingStack")}),this.$eventbus.$on("goto",function(e){t.jumptTo(e)})},methods:{jumptTo:function(t){var e=this;try{this.regenerate(t),this.$store.commit("global/setStep",t),"GrammarInput"===t&&(this.grammar=new l.a,this.rawGrammar=new l.a),this.curStep=t,this.$nextTick(function(){"EliminateLeftRecursion"===t&&e.$refs[t].setGrammar(e.rawGrammar),"ExtractLeftFactor"===t&&e.$refs[t].setGrammar(e.grammar),"FirstSet"===t&&e.$refs[t].setGrammar(e.grammar),"FollowSet"===t&&e.$refs[t].setGrammar(e.grammar),"IsLL1"===t&&e.$refs[t].setGrammar(e.grammar),"PredictiveParsingTable"===t&&e.$refs[t].setGrammar(e.grammar),"ParsingStack"===t&&e.$refs[t].setGrammar(e.grammar)})}catch(t){console.log(t),this.$alert(t.message,"错误",{confirmButtonText:"确定",type:"error"})}},getTestGrammar:function(){var t=this.grammar,e=t.getSign("E","Nonterminal"),r=t.getSign("E'","Nonterminal"),n=t.getSign("T","Nonterminal"),o=t.getSign("T'","Nonterminal"),l=t.getSign("F","Nonterminal"),c=t.getSign("+","Terminal"),h=t.getSign("*","Terminal"),m=t.getSign("id","Terminal"),d=t.getSign("(","Terminal"),f=t.getSign(")","Terminal"),v=t.getEmptySign();t.getStackBottomSign();return t.setStartSign(e),t.addProduction(e,[n,r]),t.addProduction(r,[c,n,r]),t.addProduction(r,[v]),t.addProduction(n,[l,o]),t.addProduction(o,[h,l,o]),t.addProduction(o,[v]),t.addProduction(l,[d,e,f]),t.addProduction(l,[m]),t},regenerate:function(t){if("GrammarInput"!==t){if("GrammarInput"===this.curStep){var e=this.$refs.GrammarInput.generateGrammar();if(!e)throw new Error("请先拟定文法");this.rawGrammar=e,this.grammar=e,console.log(e)}if(0===this.rawGrammar.getProductions().length)throw this.jumptTo("GrammarInput"),new Error("请先拟定文法");if("EliminateLeftRecursion"!==t){var r=Object(Q.a)(this.rawGrammar).eliminateLeftRecursionGrammar;if(this.grammar=r,"ExtractLeftFactor"!==t){var n=new d.a(this.grammar).run().newGrammar;if(this.grammar=n,"FirstSet"!==t){var o=new w.a(this.grammar).run();if(this.grammar.setFirstSet(o),"FollowSet"!==t){var l=new j(this.grammar);if(this.grammar.setFollowSet(l.run()),"IsLL1"!==t){if(!1===Object(D.a)(this.grammar).isLL1)throw this.jumptTo("IsLL1"),new Error("该文法不是LL1, 无法进入下一步骤");if("PredictiveParsingTable"!==t){var c=new M(this.grammar);this.grammar.setPPT(c.run())}}}}}}}}}},tt=Object(h.a)(Z,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("CurrentGrammar",{directives:[{name:"show",rawName:"v-show",value:"GrammarInput"!==t.curStep,expression:"curStep !== 'GrammarInput'"}],attrs:{grammar:t.grammar,title:"当前文法"}}),t._v(" "),r("grammar-input",{directives:[{name:"show",rawName:"v-show",value:"GrammarInput"===t.curStep,expression:"curStep === 'GrammarInput'"}],ref:"GrammarInput"}),t._v(" "),"EliminateLeftRecursion"===t.curStep?r("EliminateLeftRecursion",{ref:"EliminateLeftRecursion"}):t._e(),t._v(" "),"ExtractLeftFactor"===t.curStep?r("extract-left-factor",{ref:"ExtractLeftFactor"}):t._e(),t._v(" "),"FirstSet"===t.curStep?r("first-set",{ref:"FirstSet"}):t._e(),t._v(" "),"FollowSet"===t.curStep?r("follow-set",{ref:"FollowSet"}):t._e(),t._v(" "),"IsLL1"===t.curStep?r("IsLL1",{ref:"IsLL1"}):t._e(),t._v(" "),"PredictiveParsingTable"===t.curStep?r("PredictiveParsingTable",{ref:"PredictiveParsingTable"}):t._e(),t._v(" "),"ParsingStack"===t.curStep?r("parsing-stack",{ref:"ParsingStack"}):t._e()],1)},[],!1,null,"21027aa6",null);e.default=tt.exports}}]);