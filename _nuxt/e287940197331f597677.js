(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{321:function(t,e,n){"use strict";var r=n(114),o=(n(76),n(308)),l=(n(74),n(75),n(50),n(305)),c=n(306),m=n(319),h=function(){function t(e){Object(l.a)(this,t),this.grammar=e}return Object(c.a)(t,[{key:"getInitContext",value:function(){var t=new m.a,e=!0,n=!1,r=void 0;try{for(var o,l=this.grammar.getProductions()[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c=o.value;t.add(c)}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}return{newGrammar:this.grammar.clone(),disjointSet:t}}},{key:"getCommonPrefix",value:function(t){var e=t.reduce(function(a,b){var t=b.length;return a>t?a:t},0);function n(t,e){var n=[],r=!0,o=!1,l=void 0;try{for(var c,m=t[Symbol.iterator]();!(r=(c=m.next()).done);r=!0){var body=c.value;if(!(body.length<e.length)){for(var h=!0,i=0;i<e.length;i++)if(body[i]!==e[i]){h=!1;break}h&&n.push(body)}}}catch(t){o=!0,l=t}finally{try{r||null==m.return||m.return()}finally{if(o)throw l}}return n}for(var r=[],l=[],i=1;i<=e;i++){var c=!1,m=!0,h=!1,d=void 0;try{for(var f,v=t[Symbol.iterator]();!(m=(f=v.next()).done);m=!0){var body=f.value;if(!(body.length<i)&&(l=n(t,r=body.slice(0,i))).length>1){c=!0;break}}}catch(t){h=!0,d=t}finally{try{m||null==v.return||v.return()}finally{if(h)throw d}}if(c)break}if(0===l.length)return[[],[]];for(var y=l[0],S=r.length;S<y.length;S++){var w=y[S],k=[].concat(Object(o.a)(r),[w]),x=n(l,k);if(x.length!==l.length)break;l=x,r=k}return[r,l]}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var n,l,c,m,h,d,f,v,y,head,S,w,k,x,_,T,C,I,P,F,L,A,G,body,O,D,j,$,E,z,R,N,B,H,M,V,W,J,U,K,Q,X,Y,Z,tt;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.newGrammar,l=e.disjointSet,c=!1,m=n.getNonterminals(),h=!0,d=!1,f=void 0,t.prev=6,v=m[Symbol.iterator]();case 8:if(h=(y=v.next()).done){t.next=99;break}if(head=y.value,S=n.getDerivations(head),w=S.map(function(t){return t.getBody()}),k=this.getCommonPrefix(w),x=Object(r.a)(k,2),_=x[0],!((T=x[1]).length<2)){t.next=15;break}return t.abrupt("continue",96);case 15:for(C=n.getSignUnusedAlias(head),I=n.addProduction(head,[].concat(Object(o.a)(_),[C])),P=!0,F=!1,L=void 0,t.prev=20,A=T[Symbol.iterator]();!(P=(G=A.next()).done);P=!0)body=G.value,n.deleteProduction(head,body);t.next=28;break;case 24:t.prev=24,t.t0=t.catch(20),F=!0,L=t.t0;case 28:t.prev=28,t.prev=29,P||null==A.return||A.return();case 31:if(t.prev=31,!F){t.next=34;break}throw L;case 34:return t.finish(31);case 35:return t.finish(28);case 36:O=null,D=!0,j=!1,$=void 0,t.prev=40,E=T[Symbol.iterator]();case 42:if(D=(z=E.next()).done){t.next=78;break}R=z.value,0===(N=R.slice(_.length)).length&&N.push(n.getEmptySign()),B=n.addProduction(C,Object(o.a)(N)),H=!0,M=!1,V=void 0,t.prev=50,W=S[Symbol.iterator]();case 52:if(H=(J=W.next()).done){t.next=60;break}if(!(U=J.value).isSameOf(head,R)){t.next=57;break}return l.disjoint(U,B),t.abrupt("break",60);case 57:H=!0,t.next=52;break;case 60:t.next=66;break;case 62:t.prev=62,t.t1=t.catch(50),M=!0,V=t.t1;case 66:t.prev=66,t.prev=67,H||null==W.return||W.return();case 69:if(t.prev=69,!M){t.next=72;break}throw V;case 72:return t.finish(69);case 73:return t.finish(66);case 74:null!==O?l.disjoint(O,B):O=B;case 75:D=!0,t.next=42;break;case 78:t.next=84;break;case 80:t.prev=80,t.t2=t.catch(40),j=!0,$=t.t2;case 84:t.prev=84,t.prev=85,D||null==E.return||E.return();case 87:if(t.prev=87,!j){t.next=90;break}throw $;case 90:return t.finish(87);case 91:return t.finish(84);case 92:return l.disjoint(O,I),t.next=95,{};case 95:c=!0;case 96:h=!0,t.next=8;break;case 99:t.next=105;break;case 101:t.prev=101,t.t3=t.catch(6),d=!0,f=t.t3;case 105:t.prev=105,t.prev=106,h||null==v.return||v.return();case 108:if(t.prev=108,!d){t.next=111;break}throw f;case 111:return t.finish(108);case 112:return t.finish(105);case 113:if(!1!==c){t.next=134;break}for(K=!0,Q=!1,X=void 0,t.prev=117,Y=n.getProductions()[Symbol.iterator]();!(K=(Z=Y.next()).done);K=!0)tt=Z.value,l.add(tt);t.next=125;break;case 121:t.prev=121,t.t4=t.catch(117),Q=!0,X=t.t4;case 125:t.prev=125,t.prev=126,K||null==Y.return||Y.return();case 128:if(t.prev=128,!Q){t.next=131;break}throw X;case 131:return t.finish(128);case 132:return t.finish(125);case 133:l.reSetId();case 134:return t.abrupt("return",[!c,{newGrammar:n,disjointSet:l}]);case 135:case"end":return t.stop()}},t,this,[[6,101,105,113],[20,24,28,36],[29,,31,35],[40,80,84,92],[50,62,66,74],[67,,69,73],[85,,87,91],[106,,108,112],[117,121,125,133],[126,,128,132]])})},{key:"getCurResult",value:function(t){return{newGrammar:t.newGrammar,disjointSet:t.disjointSet}}},{key:"getResultFromContext",value:function(){}},{key:"runEpoch",value:function(t){var e=this.epoch(t),n=null;do{n=e.next()}while(!1===n.done);return n.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return console.log(t[1]),t[1].disjointSet.print(),this.getCurResult(t[1])}}]),t}();e.a=h},322:function(t,e,n){"use strict";n(25),n(111),n(309),n(74),n(75),n(50),n(313);var r=n(305),o=n(306),l=n(112),c=n(307),m=n.n(c),h=function(){function t(e){Object(r.a)(this,t),Object(l.a)(this,"productions",Array.of()),Object(l.a)(this,"isLL1Label",!0),this.grammar=e}return Object(o.a)(t,[{key:"isLL1",value:function(){var t=this,e=this.grammar.getNonterminals();m()(e.length,"文法没有非终止符号");var n=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value,d=this.grammar.getDerivations(h);if(0!==d.length){var f=new Set(this.grammar.getSignFirstSet(h)),v=new Set(this.grammar.getSignFollowSet(h)),y=this.intersection(f,v);if(f.has(this.grammar.getEmptySign())&&y.size>0){var S=Array.of("First(".concat(h.symbol,") 中存在 ε 且 First(").concat(h.symbol,") 与 Follow(").concat(h.symbol,") 相交不为空")),w={error:!0,production:this.grammar.getDerivations(h),notice:S};this.isLL1Label=!1,this.productions.push(w)}else{var k=d.map(function(e){return t.grammar.getProductionBodyFirstSet(e)}),x=this.findProductionBodyFirstSetIntersectionNotEmpty(k);if(0!==x.length){var _=Array.of(),T=!0,C=!1,I=void 0;try{for(var P,F=x[Symbol.iterator]();!(T=(P=F.next()).done);T=!0){var i=P.value;_.push("".concat(this.genErrorNotice(d,i),"相交不为空"))}}catch(t){C=!0,I=t}finally{try{T||null==F.return||F.return()}finally{if(C)throw I}}var L={error:!0,production:this.grammar.getDerivations(h),notice:_};this.isLL1Label=!1,this.productions.push(L)}else{var A={error:!1,production:this.grammar.getDerivations(h),notice:["产生式没问题"]};this.productions.push(A)}}}}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return{isLL1:this.isLL1Label,productions:this.productions}}},{key:"findProductionBodyFirstSetIntersectionNotEmpty",value:function(t){for(var e=Array.of(),i=0;i<t.length;i++){for(var n=new Set,r=0;r<t[i].length;r++)for(var o=i+1;o<t.length;o++)for(var l=0;l<t[o].length;l++)t[i][r]===t[o][l]&&(n.add(i),n.add(o));0!==n.size&&e.push(n)}return e}},{key:"intersection",value:function(t,e){var n=new Set,r=!0,o=!1,l=void 0;try{for(var c,m=e[Symbol.iterator]();!(r=(c=m.next()).done);r=!0){var h=c.value;t.has(h)&&n.add(h)}}catch(t){o=!0,l=t}finally{try{r||null==m.return||m.return()}finally{if(o)throw l}}return n}},{key:"genErrorNotice",value:function(t,e){var n="",r=!0,o=!1,l=void 0;try{for(var c,m=e[Symbol.iterator]();!(r=(c=m.next()).done);r=!0){n+="First("+t[c.value].getBodyString()+") "}}catch(t){o=!0,l=t}finally{try{r||null==m.return||m.return()}finally{if(o)throw l}}return n}}]),t}();e.a=function(t){var e=new h(t).isLL1();return e.productions.forEach(function(t){var e=t.production[0].getHeadString()+"->",n=!0,r=!1,o=void 0;try{for(var l,c=t.production[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){e+=l.value.getBodyString()+"|"}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}e=e.slice(0,-1),t.production=e}),e}},331:function(t,e,n){"use strict";var r=n(308),o=(n(313),n(305)),l=n(306),c=n(112),m=n(307),h=n.n(m),d=n(310),f=function(){function t(e,n){if(Object(o.a)(this,t),Object(c.a)(this,"productions",Array.of()),Object(c.a)(this,"startSymbol",void 0),Object(c.a)(this,"G",new d.a),h()(e.length,"前端传来的文法规则为空"),this.productions=Object(r.a)(e),void 0===n){var l=this.G.getSign(this.productions[0][0].symbol,this.productions[0][0].type);this.startSymbol=l}else this.startSymbol=this.G.getSign(n);this.setGrammar()}return Object(l.a)(t,[{key:"setGrammar",value:function(){this.setProductions(),this.setStartSign()}},{key:"setStartSign",value:function(){this.G.setStartSign(this.startSymbol)}},{key:"setProductions",value:function(){for(var head,i=0;i<this.productions.length;i++){head=this.G.getSign(this.productions[i][0].symbol,this.productions[i][0].type);for(var t=1;t<this.productions[i].length;t++){for(var body=Array.of(),e=0;e<this.productions[i][t].length;e++)body.push(this.G.getSign(this.productions[i][t][e].symbol,this.productions[i][t][e].type));this.G.addProduction(head,body)}}}},{key:"getGrammar",value:function(){return this.G}}]),t}();e.a=function(t,e){return new f(t,e).getGrammar()}},332:function(t,e,n){var content=n(354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("51dfc1e5",content,!0,{sourceMap:!1})},333:function(t,e,n){var content=n(356);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("13390f27",content,!0,{sourceMap:!1})},334:function(t,e,n){var content=n(358);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("9ce2d6d4",content,!0,{sourceMap:!1})},335:function(t,e,n){var content=n(360);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("576c245e",content,!0,{sourceMap:!1})},336:function(t,e,n){var content=n(362);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("2cb46bec",content,!0,{sourceMap:!1})},337:function(t,e,n){var content=n(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("42771750",content,!0,{sourceMap:!1})},338:function(t,e,n){var content=n(366);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("f11f2790",content,!0,{sourceMap:!1})},339:function(t,e,n){var content=n(368);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("1144e788",content,!0,{sourceMap:!1})},340:function(t,e,n){var content=n(370);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("87e24138",content,!0,{sourceMap:!1})},341:function(t,e,n){var content=n(372);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("4d5649fd",content,!0,{sourceMap:!1})},353:function(t,e,n){"use strict";var r=n(332);n.n(r).a},354:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".tag_box span:hover{text-decoration:line-through;cursor:pointer}",""])},355:function(t,e,n){"use strict";var r=n(333);n.n(r).a},356:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".inputAndGrammar[data-v-63d1458e]{display:flex;flex-direction:column}.inputAndGrammar .userinput[data-v-63d1458e]{display:flex;flex-direction:row;position:relative;align-items:flex-start;justify-content:space-around}.inputAndGrammar .userinput .left[data-v-63d1458e]{flex:0 0 auto;margin-top:20px}.inputAndGrammar .userinput .left .table[data-v-63d1458e]{width:100%}.inputAndGrammar .userinput .left .table .terminal[data-v-63d1458e]{width:50%}.inputAndGrammar .userinput .left .table .terminal .terminalColumn[data-v-63d1458e]{width:5%}.inputAndGrammar .userinput .left .table .nonterminal[data-v-63d1458e]{width:50%}.inputAndGrammar .userinput .left .table .nonterminal .nonterminalColumn[data-v-63d1458e]{width:5%}.inputAndGrammar .userinput .left .table .tag[data-v-63d1458e]:hover{cursor:pointer}.inputAndGrammar .userinput .left .bottom[data-v-63d1458e]{margin-top:10px}.inputAndGrammar .userinput .left .bottom .symbol[data-v-63d1458e]{width:30%}.inputAndGrammar .userinput .left .bottom .addSymbolButton[data-v-63d1458e]{width:20%}.inputAndGrammar .userinput .right[data-v-63d1458e]{margin-top:20px;width:40%;margin-left:40px}.inputAndGrammar .userinput .right .production[data-v-63d1458e]{width:80%}.inputAndGrammar .currentGrammar[data-v-63d1458e]{width:100%}",""])},357:function(t,e,n){"use strict";var r=n(334);n.n(r).a},358:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".elf .tips h2[data-v-4148a054]{text-align:center}.elf .main[data-v-4148a054]{display:flex}",""])},359:function(t,e,n){"use strict";var r=n(335);n.n(r).a},360:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".grammar-indicator[data-v-095a4446]{height:100%;width:100%;display:flex;align-items:center;flex-direction:column}.grammar-indicator .title[data-v-095a4446]{font-size:28px}.grammar-indicator .grammar[data-v-095a4446]{border-radius:5px;font-size:24px;padding:5px 10px;margin:2px}.grammar-indicator .grammar[data-v-095a4446]:hover{background-color:#b2d4f7;cursor:pointer}.grammar-indicator .grammar.active[data-v-095a4446]{background-color:#66aef7}",""])},361:function(t,e,n){"use strict";var r=n(336);n.n(r).a},362:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".tag[data-v-4ba4eb2a]{font-size:20px}",""])},363:function(t,e,n){"use strict";var r=n(337);n.n(r).a},364:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".first-set[data-v-1a558771]{display:flex;justify-content:space-around;flex-direction:column}.first-set .down[data-v-1a558771]{display:flex;flex-direction:row}.first-set .down .left[data-v-1a558771]{width:50%;height:100%}.first-set .down .left .up[data-v-1a558771]{font-size:30px;height:10%}.first-set .down .left .notice[data-v-1a558771]{margin-top:20px;font-size:25px;margin-bottom:20px;height:80%}.first-set .down .left .down[data-v-1a558771]{font-size:30px;height:10%}.first-set .down .right[data-v-1a558771]{width:50%;position:relative}.first-set .down .right .button[data-v-1a558771]{margin-top:10px}",""])},365:function(t,e,n){"use strict";var r=n(338);n.n(r).a},366:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".ppt .algorithm[data-v-f9a896b4]{display:flex}.ppt .algorithm .left[data-v-f9a896b4],.ppt .algorithm .right[data-v-f9a896b4]{width:50%;max-width:50%}.ppt .algorithm .title[data-v-f9a896b4]{font-size:30px}.ppt .algorithm .step[data-v-f9a896b4]{font-size:20px;padding:5px;border:1px solid #000}.ppt .algorithm .step.active[data-v-f9a896b4]{background-color:#ff0}.ppt .grammar-content[data-v-f9a896b4]{display:flex;margin-top:30px;height:500px}.ppt .grammar-content>div[data-v-f9a896b4]{border:1px solid #000;border-right:none}.ppt .grammar-content .left[data-v-f9a896b4]{width:20%}.ppt .grammar-content .center[data-v-f9a896b4]{width:20%;height:100%}.ppt .grammar-content .center .title[data-v-f9a896b4]{font-size:26px}.ppt .grammar-content .center .down[data-v-f9a896b4],.ppt .grammar-content .center .up[data-v-f9a896b4]{height:50%}.ppt .grammar-content .right[data-v-f9a896b4]{width:60%;position:relative}.ppt .grammar-content .set-div[data-v-f9a896b4]{font-size:22px}.ppt .grammar-content .set-div span[data-v-f9a896b4]{margin:2px;padding:2px}.ppt .grammar-content .set-div .active[data-v-f9a896b4]{background-color:#deb887}",""])},367:function(t,e,n){"use strict";var r=n(339);n.n(r).a},368:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".isLL1[data-v-015edb2d]{display:flex;flex-direction:column;justify-content:center;align-items:center}.isLL1 .top[data-v-015edb2d]{width:100%}.isLL1 .down .errorProduction[data-v-015edb2d]{color:red}.isLL1 .down .grammar[data-v-015edb2d]{border-radius:5px;font-size:24px;padding:5px 10px;margin:2px}.isLL1 .down .grammar[data-v-015edb2d]:hover{background-color:#b2d4f7;cursor:pointer}.isLL1 .down .grammar.active[data-v-015edb2d]{background-color:#66aef7}",""])},369:function(t,e,n){"use strict";var r=n(340);n.n(r).a},370:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".analysis[data-v-7b5855d3]{display:flex;width:90%;margin:30px auto}.analysis .left[data-v-7b5855d3]{width:30%}.analysis .left .PPT[data-v-7b5855d3]{width:100%}.analysis .left *[data-v-7b5855d3]{margin-bottom:30px}.analysis .right[data-v-7b5855d3]{width:70%;position:relative}",""])},371:function(t,e,n){"use strict";var r=n(341);n.n(r).a},372:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".ppt .algorithm[data-v-ff8e3d5e]{display:flex}.ppt .algorithm .left[data-v-ff8e3d5e],.ppt .algorithm .right[data-v-ff8e3d5e]{width:50%;max-width:50%}.ppt .algorithm .title[data-v-ff8e3d5e]{font-size:30px}.ppt .algorithm .step[data-v-ff8e3d5e]{font-size:20px;padding:5px;border:1px solid #000}.ppt .algorithm .step.active[data-v-ff8e3d5e]{background-color:#ff0}.ppt .grammar-content[data-v-ff8e3d5e]{display:flex;margin-top:30px;height:500px}.ppt .grammar-content>div[data-v-ff8e3d5e]{border:1px solid #000;border-right:none}.ppt .grammar-content .left[data-v-ff8e3d5e]{width:20%}.ppt .grammar-content .center[data-v-ff8e3d5e]{width:20%;height:100%}.ppt .grammar-content .center .title[data-v-ff8e3d5e]{font-size:26px}.ppt .grammar-content .center .down[data-v-ff8e3d5e],.ppt .grammar-content .center .up[data-v-ff8e3d5e]{height:50%}.ppt .grammar-content .right[data-v-ff8e3d5e]{width:60%;position:relative}.ppt .grammar-content .set-div[data-v-ff8e3d5e]{font-size:22px}.ppt .grammar-content .set-div span[data-v-ff8e3d5e]{margin:2px;padding:2px}.ppt .grammar-content .set-div .active[data-v-ff8e3d5e]{background-color:#deb887}",""])},373:function(t,e,n){"use strict";n.r(e);var r=n(308),o=(n(313),n(74),n(75),n(50),n(119),n(173),n(174),n(25),n(169),n(113),n(331)),l={data:function(){return{tag_list:[],tag_info:""}},watch:{tag_list:function(){this.$emit("get_tag",this.tag_list)}},methods:{make_tag:function(){this.tag_info?(this.tag_list.push(this.tag_info),this.tag_info=""):this.tag_list.push(null)},do_key:function(t){"Enter"==t.key?this.make_tag():"Backspace"==t.key&&(this.tag_info.length>0||this.tag_list.length>0&&this.tag_list.pop())},del_tag:function(t){var e=this.tag_list.indexOf(t);this.tag_list.splice(e,1)}}},c=(n(353),n(11)),m=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-input",{attrs:{"prefix-icon":"el-icon-location",placeholder:"请输入标签，用逗号或回车隔开"},nativeOn:{keyup:function(e){return t.do_key(e)}},model:{value:t.tag_info,callback:function(e){t.tag_info=e},expression:"tag_info"}}),t._v(" "),n("div",{staticClass:"tag_box"},[n("span",[t._v("#")]),t._v(" "),t._l(t.tag_list,function(e,r){return n("span",{on:{click:function(n){return t.del_tag(e)}}},[e?n("span",[n("el-tag",[t._v(t._s(e))])],1):n("span",[n("br"),t._v("#\n      ")])])})],2)],1)},[],!1,null,null,null).exports,h=n(310),d={components:{smithTag:m},data:function(){var t=this;return{terminals:["(",")","+","-","*","a","b","c","id"],nonterminals:["A","B","C","D","E","F","T","E'","T'","F'"],symbol:"",tagInputSymbol:"",formalProductions:Array.of(),grammar:new h.a,showCurrentGrammar:!1,tip:"",rulesCFG:{CFG:[{max:1200,message:"不能超过1200个字符",tirgger:"change"},{validator:function(e,n,r){for(var o=n.split(/\n/),l=!0,i=0;i<o.length;i++)if(""!==o[i]){l=!1;var c=o[i];try{var m=/->/g;null!==c.match(m)&&1===c.match(m).length||r(new Error("第"+(i+1).toString()+"条产生式格式错误,请按格式输入"));var head=(c=c.split(/->/))[0];head=head.replace(/\s+/,"");var h=c[1].split(/\|/);t.headIsNonterminal(head)||r(new Error("符号"+head+"不是非终止字符，不可以放在产生式头部"));var d=!0,f=!1,v=void 0;try{for(var y,S=h[Symbol.iterator]();!(d=(y=S.next()).done);d=!0){var w=y.value.match(/\S+/g);null!==w&&0!==w.lenght||r(new Error("产生式体不能为空"));var k=!0,x=!1,_=void 0;try{for(var T,C=w[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var symbol=T.value;t.currentInputIslegal(symbol)||r(new Error("符号 ".concat(symbol," 未定义"))),"ε"===symbol&&w.length>1&&r(new Error("产生式格式错误，不可以同时包含 ε 和其他符号"))}}catch(t){x=!0,_=t}finally{try{k||null==C.return||C.return()}finally{if(x)throw _}}}}catch(t){f=!0,v=t}finally{try{d||null==S.return||S.return()}finally{if(f)throw v}}}catch(t){console.log(t.message),r(new Error("第"+(i+1).toString()+"条产生式不合法，请重新输入"))}}!0===l?r(new Error("输入不能为空")):r()},trigger:"change"}]},ruleForm:{CFG:""},symbolInputVisible:{terminal0:!1,terminal1:!1,terminal2:!1,terminal3:!1,terminal4:!1,nonterminal0:!1,nonterminal1:!1,nonterminal2:!1,nonterminal3:!1,nonterminal4:!1}}},methods:{inputSymbolByClick:function(symbol){this.ruleForm.CFG+=symbol+" ",this.$refs.ruleForm.$children[0].$children[1].$refs.textarea.focus()},symbolTableRowSpan:function(t){t.row,t.column;var e=t.rowIndex;if(10===t.columnIndex)return 0===e?{rowspan:this.tableData.length,colspan:1}:{rowspan:0,colspan:0}},showInput:function(t){var e=this;this.symbolInputVisible[t]=!0,this.$nextTick(function(){e.$refs[t].$refs.input.focus()})},showGrammar:function(){this.getProductions()&&(this.grammar=new o.a(this.formalProductions),this.showCurrentGrammar=!0)},grammarTableRowSpan:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex)return 0===e?{rowspan:1,colspan:1}:1===e?{rowspan:1,colspan:1}:2===e?{rowspan:1,colspan:1}:3===e?{rowspan:this.grammar.getProductions().length,colspan:1}:{rowspan:0,colspan:0}},combineHeadCells:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;if(1===e)return{display:"none"}},addTerminal:function(t){this.newSymbolLegal(this.symbol)?(this.terminals.push(this.symbol),this.symbol=""):this.newSymbolLegal(this.tagInputSymbol)?(this.terminals.push(this.tagInputSymbol),this.symbolInputVisible[t]=!1,this.tagInputSymbol=""):(this.symbolInputVisible[t]=!1,this.tagInputSymbol="")},addNonterminal:function(t){this.newSymbolLegal(this.symbol)?(this.nonterminals.push(this.symbol),this.symbol=""):this.newSymbolLegal(this.tagInputSymbol)?(this.nonterminals.push(this.tagInputSymbol),this.symbolInputVisible[t]=!1,this.tagInputSymbol=""):(this.symbolInputVisible[t]=!1,this.tagInputSymbol="")},newSymbolLegal:function(t){var symbol=t;if(0===(symbol=symbol.replace(/\s+/g,"")).length)return!1;if(/(-|>|\||\$|ε)+/.test(symbol))return this.$message("符号 ".concat(symbol," 不可定义为文法符号")),!1;var e=!0,n=!1,r=void 0;try{for(var o,l=this.nonterminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(o.value===symbol)return this.$message("该符号是一个已存在的非终止符号"),!1}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}var c=!0,m=!1,h=void 0;try{for(var d,f=this.terminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){if(d.value===symbol)return this.$message("该符号是一个已存在的终止符号"),!1}}catch(t){m=!0,h=t}finally{try{c||null==f.return||f.return()}finally{if(m)throw h}}return!0},getProductions:function(){if(0===this.ruleForm.CFG.length)return this.$message("请输入产生式"),!1;var t=Array.of();if(t=this.ruleForm.CFG.split(/\n/),this.productionsIsLegal(t)){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var m=l.value;if(""!==m){var h=m.split(/->/),head=h[0].replace(/\s+/g,""),d=h[1].split(/\|/),f=!0,v=!1,y=void 0;try{for(var S,w=d[Symbol.iterator]();!(f=(S=w.next()).done);f=!0){var body=S.value,k=[];k.push(this.charToSign(head));var x=[],_=body.match(/\S+/g),T=!0,C=!1,I=void 0;try{for(var P,F=_[Symbol.iterator]();!(T=(P=F.next()).done);T=!0){var symbol=P.value;x.push(this.charToSign(symbol))}}catch(t){C=!0,I=t}finally{try{T||null==F.return||F.return()}finally{if(C)throw I}}k.push(x),e.push(k)}}catch(t){v=!0,y=t}finally{try{f||null==w.return||w.return()}finally{if(v)throw y}}}}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return this.formalProductions=e,!0}return this.$message("产生式中存在问题，请修改产生式"),!1},productionsIsLegal:function(t){var e=0,n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var m=l.value;if(""!==m){if(null===m.match(/->/g)||1!==m.match(/->/g).length)return!1;var h=m.split(/->/),head=h[0].replace(/\s+/g,""),d=h[1].split(/\|/);if(!this.headIsNonterminal(head))return!1;var f=!0,v=!1,y=void 0;try{for(var S,w=d[Symbol.iterator]();!(f=(S=w.next()).done);f=!0){var k=S.value.match(/\S+/g);if(null===k)return!1;var x=!0,_=!1,T=void 0;try{for(var C,I=k[Symbol.iterator]();!(x=(C=I.next()).done);x=!0){var symbol=C.value;if(!this.currentInputIslegal(symbol))return!1;if("ε"===symbol&&k.length>1)return!1}}catch(t){_=!0,T=t}finally{try{x||null==I.return||I.return()}finally{if(_)throw T}}}}catch(t){v=!0,y=t}finally{try{f||null==w.return||w.return()}finally{if(v)throw y}}}else e++}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e!==t.length||(this.$message("请输入产生式"),!1)},charToSign:function(t){var e=!0,n=!1,r=void 0;try{for(var o,l=this.terminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var i=o.value;if(t===i)return{symbol:i,type:"Terminal"}}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}var c=!0,m=!1,h=void 0;try{for(var d,f=this.nonterminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;if(t===v)return{symbol:v,type:"Nonterminal"}}}catch(t){m=!0,h=t}finally{try{c||null==f.return||f.return()}finally{if(m)throw h}}if("ε"===t)return{symbol:"ε",type:"Empty"};this.$message("不存在符号 "+t+" ，请将符号添加至符号表或重新输入")},currentInputIslegal:function(t){if("ε"===t)return!0;if(""===t)return!0;var e=!0,n=!1,r=void 0;try{for(var o,l=this.terminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(t===o.value)return!0}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}var c=!0,m=!1,h=void 0;try{for(var d,f=this.nonterminals[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){if(t===d.value)return!0}}catch(t){m=!0,h=t}finally{try{c||null==f.return||f.return()}finally{if(m)throw h}}return!1},headIsNonterminal:function(t){if(""===t)return!1;var e=!0,n=!1,r=void 0;try{for(var o,l=this.nonterminals[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){if(t===o.value)return!0}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}return!1},delectSymbol:function(t){this.terminals=this.terminals.filter(function(e){return e!==t}),this.nonterminals=this.nonterminals.filter(function(e){return e!==t})},generateGrammar:function(){if(this.getProductions()){var t=new o.a(this.formalProductions);console.log("Start symbol: "+t.getStartSign().getString()),console.log("Productions"),t.productions.forEach(function(t){console.log(t.getHeadString()+"->"+t.getBodyString())});var e="";t.getNonterminals().forEach(function(t){e+=t.getString()+" "}),console.log("Nonterminals: "+e);var n="";t.getTerminals().forEach(function(t){n+=t.getString()+" "}),console.log("Terminals: "+n),this.grammarIsLegal(t)&&this.$eventbus.$emit("FinishInputGrammar",t)}},grammarIsLegal:function(t){return 0===t.getTerminals().length?(this.$message("当前文法没有终止符号，不是合法的上下文无关文法，请重新输入"),!1):0===t.getNonterminals().length?(this.$message("当前文法没有非终止符号，不是合法的上下文无关文法，请重新输入"),!1):0!==t.getProductions().length||(this.$message("当前文法没有产生式，不是合法的上下文无关文法，请重新输入"),!1)},querySearch:function(t,e){var n=[].concat(Object(r.a)(this.terminals),Object(r.a)(this.nonterminals));n=n.map(function(t){var e={};return e.symbol=t,e}),e(t?n.filter(this.createFilter(t)):n)},createFilter:function(t){return function(e){return t=t.slice(-1),0===e.symbol.indexOf(t)}},handleSelect:function(t){console.log(t),this.tip=t.symbol}},computed:{currentGrammar:function(){var t=Array.of();if(0!==this.grammar.getProductions().length){var e={name:"开始符号",data:this.grammar.getStartSign().getString()};t.push(e);var n={name:"非终止符号",data:""},r=this.grammar.getNonterminals();if(0!==r.length){var o=!0,l=!1,c=void 0;try{for(var m,h=r[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){var d=m.value;n.data+=d.getString()+", "}}catch(t){l=!0,c=t}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}n.data=n.data.slice(0,-2)}t.push(n);var f={name:"终止符号",data:""},v=this.grammar.getTerminals();if(0!==v.length){var y=!0,S=!1,w=void 0;try{for(var k,x=v[Symbol.iterator]();!(y=(k=x.next()).done);y=!0){var _=k.value;f.data+=_.getString()+", "}}catch(t){S=!0,w=t}finally{try{y||null==x.return||x.return()}finally{if(S)throw w}}f.data=f.data.slice(0,-2)}t.push(f);var T=!0,C=!1,I=void 0;try{for(var P,F=this.grammar.getProductions()[Symbol.iterator]();!(T=(P=F.next()).done);T=!0){var L={name:"产生式",data:P.value.getString()};t.push(L)}}catch(t){C=!0,I=t}finally{try{T||null==F.return||F.return()}finally{if(C)throw I}}}return console.log(t),t},tableData:function(){for(var t=Object(r.a)(this.terminals),e=Object(r.a)(this.nonterminals),n=Array.of(),o=0,l=0;o<t.length||l<e.length;){for(var c={},i=0;i<5;i++)o<t.length&&(c["terminal"+i]=t[o],o++),l<e.length&&(c["nonterminal"+i]=e[l],l++);n.push(c)}return n}},watch:{},mounted:function(){}},f=(n(355),Object(c.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputAndGrammar"},[n("div",{staticClass:"userinput"},[n("div",{staticClass:"left"},[n("el-table",{staticClass:"table",attrs:{data:t.tableData,border:"","header-cell-style":t.combineHeadCells,"span-method":t.symbolTableRowSpan}},[n("el-table-column",{staticClass:"terminal",attrs:{label:"可用终止符号",align:"center"}},[n("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal0?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"danger",effect:"dark",size:"medium","disable-transitions":!1},on:{close:function(n){return t.delectSymbol(e.row.terminal0)},click:function(n){return t.inputSymbolByClick(e.row.terminal0)}}},[t._v(t._s(e.row.terminal0))]):t.symbolInputVisible.terminal0?n("el-input",{ref:"terminal0",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addTerminal("terminal0")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTerminal("terminal0")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("terminal0")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal1?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"danger",effect:"dark",size:"medium","disable-transitions":!1},on:{close:function(n){return t.delectSymbol(e.row.terminal1)},click:function(n){return t.inputSymbolByClick(e.row.terminal1)}}},[t._v(t._s(e.row.terminal1))]):t.symbolInputVisible.terminal1?n("el-input",{ref:"terminal1",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addTerminal("terminal1")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTerminal("terminal1")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("terminal1")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal2?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"danger",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.terminal2)},click:function(n){return t.inputSymbolByClick(e.row.terminal2)}}},[t._v(t._s(e.row.terminal2))]):t.symbolInputVisible.terminal2?n("el-input",{ref:"terminal2",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addTerminal("terminal2")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTerminal("terminal2")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("terminal2")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal3?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"danger",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.terminal3)},click:function(n){return t.inputSymbolByClick(e.row.terminal3)}}},[t._v(t._s(e.row.terminal3))]):t.symbolInputVisible.terminal3?n("el-input",{ref:"terminal3",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addTerminal("terminal3")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTerminal("terminal3")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("terminal3")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"terminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.terminal4?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"danger",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.terminal4)},click:function(n){return t.inputSymbolByClick(e.row.terminal4)}}},[t._v(t._s(e.row.terminal4))]):t.symbolInputVisible.terminal4?n("el-input",{ref:"terminal4",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addTerminal("terminal4")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTerminal("terminal4")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("terminal4")}}},[t._v("+New")])]}}])})],1),t._v(" "),n("el-table-column",{staticClass:"nonterminal",attrs:{label:"可用非终止符号",align:"center"}},[n("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal0?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.nonterminal0)},click:function(n){return t.inputSymbolByClick(e.row.nonterminal0)}}},[t._v(t._s(e.row.nonterminal0))]):t.symbolInputVisible.nonterminal0?n("el-input",{ref:"nonterminal0",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addNonterminal("nonterminal0")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNonterminal("nonterminal0")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("nonterminal0")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal1?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.nonterminal1)},click:function(n){return t.inputSymbolByClick(e.row.nonterminal1)}}},[t._v(t._s(e.row.nonterminal1))]):t.symbolInputVisible.nonterminal1?n("el-input",{ref:"nonterminal1",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addNonterminal("nonterminal1")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNonterminal("nonterminal1")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("nonterminal1")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal2?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.nonterminal2)},click:function(n){return t.inputSymbolByClick(e.row.nonterminal2)}}},[t._v(t._s(e.row.nonterminal2))]):t.symbolInputVisible.nonterminal2?n("el-input",{ref:"nonterminal2",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addNonterminal("nonterminal2")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNonterminal("nonterminal2")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("nonterminal2")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal3?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.nonterminal3)},click:function(n){return t.inputSymbolByClick(e.row.nonterminal3)}}},[t._v(t._s(e.row.nonterminal3))]):t.symbolInputVisible.nonterminal3?n("el-input",{ref:"nonterminal3",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addNonterminal("nonterminal3")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNonterminal("nonterminal3")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("nonterminal3")}}},[t._v("+New")])]}}])}),t._v(" "),n("el-table-column",{staticClass:"nonterminalColumn",attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonterminal4?n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"15px"},attrs:{closable:"",type:"",effect:"dark",size:"medium"},on:{close:function(n){return t.delectSymbol(e.row.nonterminal4)},click:function(n){return t.inputSymbolByClick(e.row.nonterminal4)}}},[t._v(t._s(e.row.nonterminal4))]):t.symbolInputVisible.nonterminal4?n("el-input",{ref:"nonterminal4",staticClass:"input-new-symbol",attrs:{size:"medium"},on:{blur:function(e){return t.addNonterminal("nonterminal4")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNonterminal("nonterminal4")}},model:{value:t.tagInputSymbol,callback:function(e){t.tagInputSymbol=e},expression:"tagInputSymbol"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.showInput("nonterminal4")}}},[t._v("+New")])]}}])})],1),t._v(" "),n("el-table-column",{attrs:{label:"特殊符号",align:"center"}},[n("el-table-column",[n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("ε")}}},[t._v("ε")]),t._v(" "),n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("->")}}},[t._v("->")]),t._v(" "),n("el-tag",{staticClass:"tag",staticStyle:{"font-size":"20px"},attrs:{type:"info",effect:"dark",size:"medium"},on:{click:function(e){return t.inputSymbolByClick("|")}}},[t._v("|")])],1)],1)],1),t._v(" "),n("el-row",{staticClass:"bottom"},[n("el-input",{staticClass:"symbol",attrs:{placeholder:"请输入自定义文法符号",clearable:""},model:{value:t.symbol,callback:function(e){t.symbol=e},expression:"symbol"}}),t._v(" "),n("el-button",{staticClass:"addSymbolButton",attrs:{round:"",size:"medium"},on:{click:t.addTerminal}},[t._v("添加终止符号")]),t._v(" "),n("el-button",{staticClass:"addSymbolButton",attrs:{round:"",size:"medium"},on:{click:t.addNonterminal}},[t._v("添加非终止符号")])],1)],1),t._v(" "),n("div",{staticClass:"right"},[n("el-form",{ref:"ruleForm",staticClass:"production",attrs:{rules:t.rulesCFG,model:t.ruleForm,"label-width":"0px"}},[n("el-form-item",{attrs:{prop:"CFG"}},[n("el-input",{attrs:{placeholder:"请输入文法规则: 例子： A -> a b c 将产生式中的符号用空格隔开",type:"textarea",autosize:{minRows:5},spellcheck:"false"},model:{value:t.ruleForm.CFG,callback:function(e){t.$set(t.ruleForm,"CFG",e)},expression:"ruleForm.CFG"}})],1)],1),t._v(" "),n("el-button",{attrs:{round:"",size:"medium"},on:{click:t.generateGrammar}},[t._v("完成")]),t._v(" "),n("el-button",{attrs:{round:"",size:"medium"},on:{click:t.showGrammar}},[t._v("查看当前文法")])],1)]),t._v(" "),t.showCurrentGrammar?n("div",{staticClass:"currentGrammar"},[n("el-table",{staticClass:"grammarTable",attrs:{data:t.currentGrammar,border:"","span-method":t.grammarTableRowSpan,"header-cell-style":t.combineHeadCells}},[n("el-table-column",{attrs:{label:"当前文法",align:"center"}},[n("el-table-column",{attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.name))])]}}],null,!1,1087565929)}),t._v(" "),n("el-table-column",{attrs:{label:"hide",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.data))])]}}],null,!1,3742233278)})],1)],1)],1):t._e()])},[],!1,null,"63d1458e",null).exports),v=n(321),y={layout:"grammar",components:{HightlightProduction:n(323).a},data:function(){return{grammar:null,disjointSet:"",leftProductions:[],rightProductions:[]}},mounted:function(){},methods:{setGrammar:function(t){this.grammar=t;var e=new v.a(t).run(),n=e.newGrammar,r=e.disjointSet;this.disjointSet=r,this.leftProductions=t.getProductions(),this.rightProductions=n.getProductions()},finish:function(){this.$eventbus.$emit("FinishExtractLeftFactor")}}},S=(n(357),Object(c.a)(y,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"elf"},[this._m(0),this._v(" "),e("div",{staticClass:"main"},[e("HightlightProduction",{attrs:{disjointSet:this.disjointSet,productions:this.leftProductions,title:"当前文法"}}),this._v(" "),e("HightlightProduction",{attrs:{disjointSet:this.disjointSet,productions:this.rightProductions,title:"提取左因子后的文法"}})],1)])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tips"},[n("h2",[t._v("将形如 ")]),t._v(" "),n("h2",[t._v("A→αβ1|αβ2|…|αβn")]),t._v(" "),n("h2",[t._v("的产生式重写为")]),t._v(" "),n("h2",[t._v("A→αA’")]),t._v(" "),n("h2",[t._v("A’→ β1|β2|…|βn")])])}],!1,null,"4148a054",null).exports),w={props:["grammar","active"],data:function(){return{}},methods:{changeProduction:function(t){var e=this.grammar.getProductions()[t];console.log(this.grammar.getDerivations(e.head).map(function(t){return t.getString()})),this.$emit("changeProduction",t)}}},k=(n(359),Object(c.a)(w,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grammar-indicator"},[n("span",{staticClass:"title"},[t._v("文法产生式")]),t._v(" "),t._l(t.grammar.getProductions(),function(e,r){return n("div",{key:r,staticClass:"grammar",class:{active:r===t.active},on:{click:function(e){return t.changeProduction(r)}}},[t._v(t._s(e.getString()))])})],2)},[],!1,null,"095a4446",null).exports),x=n(330),_=n(320),T=n(312),C={props:["string","highlightSymbol"],data:function(){return{hasItem:!1}},computed:{items:function(){var t=[],e=this.string.match(/\S+/g);if(null!==e){var n=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var symbol=l.value,m={type:"",label:""};symbol!==this.highlightSymbol?(m.type="",m.label=symbol,t.push(m)):(m.type="danger",m.label=symbol,t.push(m))}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}return 0===t.length?this.hasItem=!1:this.hasItem=!0,t}}},I=(n(361),Object(c.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,function(e){return t.hasItem?n("el-tag",{key:e.label,staticClass:"tag",attrs:{type:e.type,effect:"dark",size:"medium"}},[t._v(t._s(e.label))]):t._e()}),1)},[],!1,null,"4ba4eb2a",null).exports),P=n(342),F={components:{GrammarIndicator:k,HighlightTableCell:I,CurrentGrammar:P.a},data:function(){return{grammar:new h.a,activeProductionIndex:0,wrapperReturn:null,wrapperSkipReturn:null,allFirstSet:null,dependSymbolIndex:null,isTerminal:null,newlyIncreasedSymbol:"",notice:"",production:null,productionIndex:null,firstSetSymbol:null,firstSetSymbolIndex:null,newTurn:null,oldTableData:null,oldTableColumnIndex:[],wrapper:null,started:!1,allDone:!1,autoTimer:null,autoTime:1e3,firstSet:null,currentTurn:1}},computed:{dependSymbolFirstSet:function(){var t=" ";return this.allFirstSet[this.dependSymbolIndex][2].length>0?(t=this.allFirstSet[this.dependSymbolIndex][2].map(function(t){return t.getString()}).join(", "),t="first("+this.allFirstSet[this.dependSymbolIndex][0].getString()+")={"+t+"}"):t="first("+this.allFirstSet[this.dependSymbolIndex][0].getString()+")={"+t+"}"},tableData:function(){if(this.started){var t="";if(this.allFirstSet[this.firstSetSymbolIndex][2].forEach(function(e){t+=e.getString()+"  "}),t=t.slice(0,-2),this.newTurn!==this.currentTurn){for(var i=0;i<this.oldTableData.length;i++)i!==this.firstSetSymbolIndex&&this.$set(this.oldTableData[i],[this.newTurn],this.oldTableData[i][this.newTurn-1]);this.currentTurn=this.newTurn}for(var e=0;e<this.oldTableData.length;e++)e===this.firstSetSymbolIndex&&this.$set(this.oldTableData[e],[this.newTurn],t)}return this.oldTableData},tableColumnIndex:function(){if(this.started){var t=this.newTurn;t!==this.oldTableColumnIndex[this.oldTableColumnIndex.length-1]&&this.oldTableColumnIndex.push(t)}return this.oldTableColumnIndex}},methods:{allSkip:function(){this.runAll()},getHighlightSymbol:function(t,e){return e===this.currentTurn&&t.symbol===this.firstSetSymbol.getString()?this.newlyIncreasedSymbol:""},getCell:function(t,e){return void 0===t[e]?"":t[e]},initTableData:function(){var t=Array.of(),e=!0,n=!1,r=void 0;try{for(var o,l=this.allFirstSet[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c={symbol:o.value[0].getString()};t.push(c)}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}this.oldTableData=t},start:function(){var t=new x.a(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.allDone=!1,this.oldTableData=null,this.oldTableColumnIndex=[],this.next(),this.sync(),this.initTableData()},sync:function(){this.allDone?(this.notice="first集合计算完成",this.dependSymbolIndex=null):(this.allFirstSet=this.wrapperReturn.allFirstSet,this.dependSymbolIndex=this.wrapperReturn.dependSymbolIndex,this.isTerminal=this.wrapperReturn.isTerminal,null!==this.wrapperReturn.newlyIncreasedSymbol?this.newlyIncreasedSymbol=this.wrapperReturn.newlyIncreasedSymbol.getString():this.newlyIncreasedSymbol="",this.notice=this.wrapperReturn.notice,this.production=this.wrapperReturn.production,this.firstSetSymbolIndex=this.wrapperReturn.symbolIndex,this.firstSetSymbol=this.wrapperReturn.symbol,this.newTurn=this.wrapperReturn.turn,this.activeProductionIndex=this.wrapperReturn.productionIndex),null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){this.wrapperReturn=this.wrapper.next(),this.allDone=this.wrapper.isAllDone(),this.sync()},skip:function(){for(;;){var t=this.wrapper.getContext().symbolIndex;if(this.allDone=this.wrapper.isAllDone(),this.allDone){this.sync();break}var e=this.wrapper.skip();if(t===e.symbolIndex){this.wrapperReturn=e,this.allDone=this.wrapper.isAllDone(),this.sync();break}}},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.allDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},startAutorun:function(){var t=this;this.autoTimer=setTimeout(function(){t.autorun()},this.autoTime)},autorun:function(){var t=this;this.next(),this.allDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autorun()},this.autoTime)},stopAutorun:function(){clearTimeout(this.autoTimer),this.autoTimer=null},onChagneProduction:function(t){this.activeProductionIndex=t},setGrammar:function(t){this.grammar=t,this.runAll()},finish:function(){this.$eventbus.$emit("FinishFirstSet")}},mounted:function(){}},L=(n(363),Object(c.a)(F,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"first-set"},[n("div",{staticClass:"top"},[n("CurrentGrammar",{attrs:{grammar:t.grammar,title:"当前文法"}})],1),t._v(" "),n("div",{staticClass:"down"},[n("div",{staticClass:"left"},[n("p",{staticClass:"up"},[t._v("当前步骤")]),t._v(" "),n("p",{staticClass:"notice"},[t._v(t._s(t.notice))]),t._v(" "),null!==t.dependSymbolIndex?[n("el-button",{staticClass:"down"},[t._v(t._s(t.dependSymbolFirstSet))])]:t._e()],2),t._v(" "),n("div",{staticClass:"right"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{staticStyle:{"font-size":"20px"},attrs:{label:"文法符号"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.symbol))])]}}])}),t._v(" "),t._l(t.tableColumnIndex,function(e,r){return n("el-table-column",{key:r,staticStyle:{"font-size":"20px"},attrs:{label:e.toString()},scopedSlots:t._u([{key:"default",fn:function(r){return[n("HighlightTableCell",{attrs:{string:t.getCell(r.row,e),highlightSymbol:t.getHighlightSymbol(r.row,e)}})]}}],null,!0)})})],2),t._v(" "),n("div",{staticClass:"button"},[!1===t.started?[n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.allDone?[n("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.allSkip}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?n("el-button",{attrs:{type:"info"},on:{click:t.startAutorun}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?n("el-button",{attrs:{type:"danger"},on:{click:t.stopAutorun}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])])},[],!1,null,"1a558771",null).exports),A=(n(111),n(309),n(76),n(305)),G=n(306),O=function(){function t(e){Object(A.a)(this,t),this.grammar=e}return Object(G.a)(t,[{key:"getInitContext",value:function(){return{followset:new T.a,first:!0,pass_results:[]}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var n,o,l,c,m,h,d,f,v,y,S,w,k,x,body,i,_,T,C,I,P,F,L,A,G,O,D,j,$,E,z,R,N;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.grammar.firstset,console.log(this.grammar),n=e.followset,o=e.first,l=e.pass_results,n.clearDirty(),c=this.grammar.getStackBottomSign(),m=this.grammar.getStartSign(),h=this.grammar.getEmptySign(),d=new Set,f=0,!o){t.next=13;break}return t.next=12,{curProduction:{},notice:"将$放入Follow(".concat(m.getString(),")中"),step:0,highlightSymbols:[],active:f,gettingFirst:[]};case 12:n.add(m,c);case 13:v=!0,y=!1,S=void 0,t.prev=16,w=this.grammar.getProductions()[Symbol.iterator]();case 18:if(v=(k=w.next()).done){t.next=90;break}x=k.value,body=x.getBody(),i=0;case 22:if(!(i<body.length)){t.next=86;break}if(_=body[i],T=body.slice(i+1),d.add(_),!_.isNonterminal()){t.next=83;break}if(!((C=Object(r.a)(this.grammar.getSignsFirstSet(T)).filter(function(t){return!t.isEmpty()})).length>0)){t.next=50;break}return t.next=31,{production:x,notice:"FIRST(".concat(T.map(function(t){return t.getString()}).join(""),")=").concat(C.map(function(t){return t.getString()}).join(""),"，将除").concat(h.getString(),"之外的符号加入FOLLOW(").concat(_.getString(),")中"),step:1,highlightSymbols:[],processedSigns:Object(r.a)(d),active:f,gettingFirst:Object(r.a)(T)};case 31:for(I=!0,P=!1,F=void 0,t.prev=34,L=C[Symbol.iterator]();!(I=(A=L.next()).done);I=!0)G=A.value,n.add(_,G);t.next=42;break;case 38:t.prev=38,t.t0=t.catch(34),P=!0,F=t.t0;case 42:t.prev=42,t.prev=43,I||null==L.return||L.return();case 45:if(t.prev=45,!P){t.next=48;break}throw F;case 48:return t.finish(45);case 49:return t.finish(42);case 50:if(0!==(O=new Set(this.grammar.getSignsFirstSet(T))).size){t.next=56;break}return t.next=54,{production:x,notice:"在产生式('".concat(x.getString(),"')中，").concat(_.getString(),"之后无符号"),step:2,highlightSymbols:[],processedSigns:Object(r.a)(d),active:f,gettingFirst:[]};case 54:t.next=59;break;case 56:if(!O.has(h)){t.next=59;break}return t.next=59,{production:x,notice:"在产生式('".concat(x.getString(),"')中，").concat(_.getString(),"之后的符号的FITST(").concat(T.map(function(t){return t.getString()}).join(""),")中存在").concat(h.getString()),step:2,highlightSymbols:[],processedSigns:Object(r.a)(d),active:f,gettingFirst:Object(r.a)(T)};case 59:if(0!==O.size&&!O.has(h)){t.next=83;break}return t.next=62,{production:x,notice:"将FOLLOW(".concat(x.getHead().getString(),")中的所有符号放入FOLLOW(").concat(_.getString(),")中"),step:2,highlightSymbols:[],processedSigns:Object(r.a)(d),active:f,gettingFirst:[x.getHead()]};case 62:if(!n.has(x.getHead())){t.next=83;break}for(D=Object(r.a)(n.get(x.getHead())),j=!0,$=!1,E=void 0,t.prev=67,z=D[Symbol.iterator]();!(j=(R=z.next()).done);j=!0)N=R.value,n.add(_,N);t.next=75;break;case 71:t.prev=71,t.t1=t.catch(67),$=!0,E=t.t1;case 75:t.prev=75,t.prev=76,j||null==z.return||z.return();case 78:if(t.prev=78,!$){t.next=81;break}throw E;case 81:return t.finish(78);case 82:return t.finish(75);case 83:i++,t.next=22;break;case 86:f++;case 87:v=!0,t.next=18;break;case 90:t.next=96;break;case 92:t.prev=92,t.t2=t.catch(16),y=!0,S=t.t2;case 96:t.prev=96,t.prev=97,v||null==w.return||w.return();case 99:if(t.prev=99,!y){t.next=102;break}throw S;case 102:return t.finish(99);case 103:return t.finish(96);case 104:return n.isDirty()&&l.push(n.clone()),t.abrupt("return",[!n.isDirty(),{followset:n,first:!1,pass_results:l}]);case 106:case"end":return t.stop()}},t,this,[[16,92,96,104],[34,38,42,50],[43,,45,49],[67,71,75,83],[76,,78,82],[97,,99,103]])})},{key:"getCurResult",value:function(t){return{followset:t.followset,pass_results:t.pass_results}}},{key:"getResultFromContext",value:function(){}},{key:"runEpoch",value:function(t){var e=this.epoch(t),n=null;do{n=e.next()}while(!1===n.done);return n.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1].followset}}]),t}(),D={components:{GrammarIndicator:k},data:function(){return{grammar:new h.a,active:0,wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,curHighlightSymbols:[],autoTime:1e3,autoTimer:null,isAllDone:!1,gettingFirst:[],followset:null,pass_results:[],tableTerminals:[],tableNonterminals:[],processedSigns:[]}},methods:{onChagneProduction:function(t){this.active=t},start:function(){var t=new O(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.curHighlightSymbols=[],this.active=0,this.sync()},sync:function(){this.followset=this.wrapper.getCurResult().followset,this.pass_results=this.wrapper.getCurResult().pass_results,this.tableTerminals=this.grammar.getTerminals(),this.tableNonterminals=this.grammar.getNonterminals(),this.isAllDone=this.wrapper.isAllDone(),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){var t=this.wrapper.next(),e=t.notice,n=(t.production,t.step),r=t.highlightSymbols,o=t.active,l=t.gettingFirst,c=t.processedSigns;this.processedSigns=c,this.gettingFirst=l,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=r,this.active=o,this.sync()},skip:function(){var t=this.wrapper.skip(),e=t.notice,n=(t.production,t.step),r=t.highlightSymbols,o=t.active,l=t.gettingFirst,c=t.processedSigns;this.processedSigns=c,this.gettingFirst=l,this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=r,this.active=o,this.sync()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.isAllDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},setGrammar:function(t){this.grammar=t,this.runAll()},finish:function(){this.$eventbus.$emit("FinishFollowSet")}},computed:{curProduction:function(){var t=this.grammar.getProductions();return t.length>this.active?t[this.active]:null},curFirstSet:function(){return this.grammar.getSignsFirstSet(this.gettingFirst)},algorithmSteps:function(){return["在开始符号S的FOLLOW(S)中，加入$","如果存在产生式A->αBβ，则将FIRST(β)中除ε以外的符号都放入FOLLOW(B)中","如果存在产生式A->αB，或A->αBβ，其中FIRST(β)中包含ε，则将FOLLOW(A)中的所有符号放入FOLLOW(B)中"]},passCount:function(){return null===this.followset?0:this.pass_results.length+1},tableData:function(){var t=this;if(null===this.followset)return[];var e=this.tableNonterminals.map(function(e){for(var n={nonterminal:e.getString()},i=0;i<t.pass_results.length+1;i++)n["pass"+i]="";return n}),n=0,o=!0,l=!1,c=void 0;try{for(var m,h=this.pass_results[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){for(var map=m.value,d=0;d<this.tableNonterminals.length;d++){var f=this.tableNonterminals[d],v=e[d],y=[];map.has(f)&&(y=Object(r.a)(map.get(f))),v["pass"+n]=y.map(function(t){return t.getString()}).join("")}n++}}catch(t){l=!0,c=t}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}var S=this.followset;if(null!==S)for(var i=0;i<this.tableNonterminals.length;i++){var w=this.tableNonterminals[i],k=e[i],x=[];S.has(w)&&(x=Object(r.a)(S.get(w))),k["pass"+n]=x.map(function(t){return t.getString()}).join("")}return e}},mounted:function(){}},j=(n(365),Object(c.a)(D,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ppt"},[n("div",{staticClass:"algorithm"},[n("div",{staticClass:"left"},[n("p",{staticClass:"title"},[t._v("算法流程：")]),t._v(" "),t._l(t.algorithmSteps,function(e,r){return n("p",{key:r,staticClass:"step",class:{active:t.curStep===r}},[t._v(t._s(e))])})],2),t._v(" "),n("div",{staticClass:"right"},[n("p",{staticClass:"title"},[t._v("当前操作：")]),t._v(" "),n("p",{staticClass:"step"},[t._v(t._s(t.pre_notice))]),t._v(" "),n("p",{staticClass:"title"},[t._v("下一步操作：")]),t._v(" "),n("p",{staticClass:"step"},[t._v(t._s(t.notice))])])]),t._v(" "),n("div",{staticClass:"grammar-content"},[n("div",{staticClass:"left"},[n("GrammarIndicator",{staticStyle:{width:"200px"},attrs:{grammar:t.grammar,active:t.active},on:{changeProduction:t.onChagneProduction}})],1),t._v(" "),n("div",{staticClass:"center"},[n("div",{staticClass:"up"},[t.gettingFirst.length>0?[n("span",{staticClass:"title"},[t._v("First("+t._s(t.gettingFirst.map(function(t){return t.getString()}).join(""))+")")]),t._v(" "),n("div",{staticClass:"set-div"},t._l(t.curFirstSet,function(e,r){return n("span",{key:r,class:{active:-1!==t.curHighlightSymbols.indexOf(e)}},[t._v(t._s(e.getString()))])}),0)]:t._e()],2),t._v(" "),n("div",{staticClass:"down"})]),t._v(" "),n("div",{staticClass:"right"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"NonTerminal",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.nonterminal))])]}}])}),t._v(" "),t._l(t.passCount,function(e){return n("el-table-column",{key:e,attrs:{label:"Pass "+String(e),width:"120"},scopedSlots:t._u([{key:"default",fn:function(r){return[n("span",[t._v(t._s(r.row["pass"+String(e-1)]))])]}}],null,!0)})})],2),t._v(" "),n("div",{staticStyle:{position:"absolute",bottom:"10px",left:"10px"}},[!1===t.started?[n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[n("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.skip}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?n("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?n("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])])},[],!1,null,"f9a896b4",null).exports),$=n(322),E={components:{CurrentGrammar:P.a},data:function(){return{grammar:new h.a,isLL1:!1,productions:[]}},computed:{},created:function(){},methods:{run:function(){var t=new $.a(this.grammar),e=!0,n=!1,r=void 0;try{for(var o,l=t.productions[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var i=o.value,c=Array.of(),m=!0,h=!1,d=void 0;try{for(var f,v=i.notice[Symbol.iterator]();!(m=(f=v.next()).done);m=!0){var y=f.value;c.push({notice:y})}}catch(t){h=!0,d=t}finally{try{m||null==v.return||v.return()}finally{if(h)throw d}}i.notice=c}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}this.isLL1=t.isLL1,this.productions=t.productions},setGrammar:function(t){this.grammar=t,this.run()},finish:function(){this.$eventbus.$emit("FinishIsLL1")}}},z=(n(367),Object(c.a)(E,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"isLL1"},[n("div",{staticClass:"top"},[n("CurrentGrammar",{attrs:{grammar:t.grammar,title:"当前文法"}})],1),t._v(" "),n("div",{staticClass:"down"},[t._l(t.productions,function(e){return n("div",{key:e.production},[n("el-popover",{attrs:{placement:"right",width:"200",trigger:"click"}},[n("el-table",{attrs:{data:e.notice}},[n("el-table-column",{attrs:{width:"150",property:"notice",lable:"notice"}})],1),t._v(" "),n("el-button",{class:{errorProduction:e.error,grammar:t.grammar},attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(e.production))])],1)],1)}),t._v(" "),!0===t.isLL1?n("div",[t._v("当前文法属于LL(1)文法")]):n("div",[t._v("当前文法不属于LL(1)文法")])],2)])},[],!1,null,"015edb2d",null).exports),R={props:["grammar"],name:"userInput",data:function(){return{input:""}},watch:{input:function(t){if(""!==t){var e=t.split(" ");e.length>0&&this.$emit("getInput",e)}}}},N=Object(c.a)(R,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-input",{attrs:{type:"textarea",rows:12,placeholder:"请输入要分析的语句,空格键隔开每个Sign"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},[],!1,null,"5bc0e2ff",null).exports,B=n(314),H=function(){function t(e){Object(A.a)(this,t),this.grammar=e}return Object(G.a)(t,[{key:"getInitContext",value:function(){return{cur_g_index:0,table:new B.a}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var n,table,r,o,l,c,m,h,d,f,v,y,S,w,k,x,_,T,C,symbol,I;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cur_g_index,table=e.table,r=this.grammar,!(n>=r.productions.length)){t.next=4;break}return t.abrupt("return",[!0,table]);case 4:return o=r.productions[n],l=new Set(r.getProductionBodyFirstSet(o)),c=new Set(r.getSignFollowSet(o.head)),m=r.getEmptySign(),h=r.getStackBottomSign(),t.next=11,{curProduction:o,notice:"分析产生式("+o.getString()+")",step:0,highlightSymbols:[]};case 11:d=!0,f=!1,v=void 0,t.prev=14,y=l[Symbol.iterator]();case 16:if(d=(S=y.next()).done){t.next=24;break}return w=S.value,t.next=20,{curProduction:o,notice:"First(".concat(o.getBodyString(),")中存在终止符 ").concat(w.getString()," , 将产生式 ").concat(o.getString()," 加入到分析表M[").concat(o.getHeadString(),", ").concat(w.getString(),"]中"),step:0,highlightSymbols:[w]};case 20:table.set(o.head,w,o);case 21:d=!0,t.next=16;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(14),f=!0,v=t.t0;case 30:t.prev=30,t.prev=31,d||null==y.return||y.return();case 33:if(t.prev=33,!f){t.next=36;break}throw v;case 36:return t.finish(33);case 37:return t.finish(30);case 38:if(!l.has(m)){t.next=78;break}return t.next=41,{curProduction:o,notice:"First(".concat(o.getBodyString(),")中存在").concat(m.getString()),step:1,highlightSymbols:[m]};case 41:k=!0,x=!1,_=void 0,t.prev=44,T=c[Symbol.iterator]();case 46:if(k=(C=T.next()).done){t.next=54;break}return symbol=C.value,t.next=50,{curProduction:o,notice:"Follow(".concat(o.getHeadString(),")中存在终止符 ").concat(symbol.getString()," , 将产生式 ").concat(o.getString()," 加入到分析表M[").concat(o.getHeadString(),", ").concat(symbol.getString(),"]中"),step:1,highlightSymbols:[symbol]};case 50:table.set(o.head,symbol,o);case 51:k=!0,t.next=46;break;case 54:t.next=60;break;case 56:t.prev=56,t.t1=t.catch(44),x=!0,_=t.t1;case 60:t.prev=60,t.prev=61,k||null==T.return||T.return();case 63:if(t.prev=63,!x){t.next=66;break}throw _;case 66:return t.finish(63);case 67:return t.finish(60);case 68:if(!c.has(h)){t.next=74;break}return t.next=71,{curProduction:o,notice:"Follow(".concat(o.getHeadString(),")中存在 $ , 将产生式 ").concat(o.getString()," 加入到分析表M[").concat(o.getHeadString(),", $]中"),step:2,highlightSymbols:[h]};case 71:table.set(o.head,h,o),t.next=76;break;case 74:return t.next=76,{curProduction:o,notice:"Follow(".concat(o.getHeadString(),")中不存在 $ ，跳过"),step:2,highlightSymbols:[]};case 76:t.next=80;break;case 78:return t.next=80,{curProduction:o,notice:"First(".concat(o.getBodyString(),")中不存在 ").concat(m.getString()," ，跳过"),step:1,highlightSymbols:[]};case 80:return I={cur_g_index:n+1,table:table},t.abrupt("return",[!1,I]);case 82:case"end":return t.stop()}},t,this,[[14,26,30,38],[31,,33,37],[44,56,60,68],[61,,63,67]])})},{key:"getCurResult",value:function(t){return t.table.getTableData()}},{key:"getResultFromContext",value:function(t){return t.table}},{key:"runEpoch",value:function(t){var e=this.epoch(t),n=null;do{n=e.next()}while(!1===n.done);return n.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1]}}]),t}(),M=function(){function t(){Object(A.a)(this,t),this.stack=[],this.top=0}return Object(G.a)(t,[{key:"push",value:function(element){if(element instanceof Array)for(var i=element.length-1;i>=0;i--)this.stack[this.top++]=element[i];else this.stack[this.top++]=element;return this}},{key:"pop",value:function(){return this.top>0?(--this.top,this.stack.pop()):null}},{key:"getStack",value:function(){return this.stack}},{key:"getStringStack",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var o,l=this.stack[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){t=o.value.getString()+t}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}return t}},{key:"peek",value:function(){return this.top>0?this.stack[this.top-1]:null}}]),t}(),V=function(){function t(e,n,o){Object(A.a)(this,t),this.grammar=e,this.PredictiveParsingTable=n,this.end=this.grammar.getStackBottomSign(),this.empty=this.grammar.getEmptySign(),this.strToken=Object(r.a)(o),this.strToken.push(this.end),this.started=!1}return Object(G.a)(t,[{key:"getInitContext",value:function(){return{cur_index:0,stack:(new M).push(this.end).push([this.grammar.getStartSign()])}}},{key:"epoch",value:regeneratorRuntime.mark(function t(e){var n,r,o,l,c,m,h,p,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cur_index,r=e.stack,o=this.empty,l=this.end,c=this.PredictiveParsingTable,m=this.strToken,h=r.peek(),p=m[n],d=c.get(h,p),console.log(m),this.started){t.next=13;break}return t.next=12,{Production:"",notice:"",token:m};case 12:this.started=!0;case 13:if(h===p){t.next=38;break}if(!h.isTerminal()){t.next=19;break}return console.log("栈顶：",h.getString(),"\t字符：",p.getString()),t.abrupt("return",this.error());case 19:if(d){t.next=24;break}return console.log("M is null:",d),t.abrupt("return",this.error());case 24:if(1!==d.getBody().length||d.getBody()[0]!==o){t.next=30;break}return r.pop(),t.next=28,{Production:this.getTokenString(n),notice:"输出".concat(d.getHeadString()," -> ").concat(d.getBodyString()),token:m.slice(n)};case 28:t.next=34;break;case 30:return r.pop(),r.push(d.getBody()),t.next=34,{Production:this.getTokenString(n),notice:"输出".concat(d.getHeadString()," -> ").concat(d.getBodyString()),token:m.slice(n)};case 34:h=r.peek(),d=c.get(h,p),t.next=13;break;case 38:if(h!==l){t.next=40;break}return t.abrupt("return",[!0,!0]);case 40:return r.pop(),t.next=43,{Production:this.getTokenString(n+1),notice:"匹配".concat(h.getString()),token:m.slice(n+1)};case 43:return f={cur_index:n+1,stack:r},t.abrupt("return",[!1,f]);case 45:case"end":return t.stop()}},t,this)})},{key:"runEpoch",value:function(t){var e=this.epoch(t),n=null;do{n=e.next()}while(!1===n.done);return n.value}},{key:"run",value:function(){for(var t=[!1,this.getInitContext()];!1===t[0];)t=this.runEpoch(t[1]);return t[1]}},{key:"error",value:function(){return console.log("发生错误"),[!0,!1]}},{key:"getCurResult",value:function(t){var e=t.stack,n=t.cur_index;return{stack:e,strToken:this.strToken.slice(n)}}},{key:"getTokenString",value:function(t){for(var e="",i=0;i<t;i++)e+=this.strToken[i].getString();return e}}]),t}(),W=(n(316),{components:{userInput:N},data:function(){var t=new M;return{grammar:new h.a,active:0,parsingStack:t,stack:t,PPT:new B.a,PPTData:"",strToken:[],tempInput:[],inputData:"",Production:"",stackData:[],wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,autoTime:1e3,autoTimer:null,isAllDone:!1}},methods:{getData:function(t){this.tempInput=t},start:function(){if(this.checkInput()){var t=new V(this.grammar,this.PPT,this.inputData);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.next()}},restart:function(){this.stackData=[],this.start()},sync:function(){var t=this.wrapper.getCurResult();if(this.stack=t.stack,this.isAllDone=this.wrapper.isAllDone(),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null),this.isAllDone)return this.strToken.length>1||this.stack.getStack().length>1?void this.$message("无法继续匹配"):void this.$message("匹配完成");this.pushTable(this.notice)},next:function(){var t=this.wrapper.next(),e=t.Production,n=t.notice,r=t.token;this.notice=n,this.Production=e,this.strToken=r,this.sync()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},skip:function(){for(;!this.isAllDone;)this.next()},setGrammar:function(t){this.grammar=t,this.PPT=t.PPT},pushTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.stackData.push({matched:this.Production,symbolStack:this.stack.getStringStack(),input:this.strTokenData,action:t})},checkInput:function(){var t=this.tempInput,e=[];if(t.length>0){var n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value;if(!this.grammar.checkSignsExist([i]))return console.log(i),this.$message("输入了文法中不存在的符号，请重新输入"),!1;try{var m=this.grammar.getSign(i);if(m.isNonterminal())return this.$message("输中存在非终结符，请重新输入"),!1;if(m===this.grammar.getEmptySign()||m===this.grammar.getStackBottomSign())return this.$message("栈底符号$和空符ε不能作为输入"),!1;e.push(m)}catch(t){console.log(t)}}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}return 0!=e.length&&(this.inputData=e,!0)}},computed:{tableTerminals:function(){var t=this.PPT.getTableData(),e=(t.nonterminals,t.terminals);t.table;return e.filter(function(t){return!t.isEmpty()}).map(function(t){return t.getString()})},tableData:function(){var t=this.PPT.getTableData(),e=t.nonterminals,n=t.terminals,table=t.table,r=[],i=0,o=!0,l=!1,c=void 0;try{for(var m,h=e[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){var d={nonterminal:m.value.getString()};for(var f in table[i]){var v=n[f];null===table[i][f]?d[v.getString()]="":d[v.getString()]=table[i][f].getString()}r.push(d),i++}}catch(t){l=!0,c=t}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}return r},strTokenData:function(){var t="",e=!0,n=!1,r=void 0;try{for(var o,l=this.strToken[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){t+=o.value.getString()}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}return t}},mounted:function(){}}),J=(n(369),Object(c.a)(W,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"analysis"},[n("div",{staticClass:"left"},[n("div",{staticClass:"user-input"},[n("userInput",{attrs:{grammar:t.grammar},on:{getInput:t.getData}})],1),t._v(" "),n("div",{staticClass:"PPT"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"Non Terminal",width:"100%"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.nonterminal))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Input Symbol",width:"100%"}},t._l(t.tableTerminals,function(e,r){return n("el-table-column",{key:r,attrs:{label:e,width:"100%"},scopedSlots:t._u([{key:"default",fn:function(r){return[n("span",[t._v(t._s(r.row[e]))])]}}],null,!0)})}),1)],1)],1),t._v(" "),n("div",{staticStyle:{position:"relative",bottom:"10px",left:"10px"}},[!1===t.started?[n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[n("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.skip}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?n("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?n("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?n("el-button",{attrs:{type:"primary"},on:{click:t.restart}},[t._v("重新开始")]):t._e()],2)]),t._v(" "),n("div",{staticClass:"right"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stackData}},[n("el-table-column",{attrs:{prop:"matched",label:"已匹配",width:"180",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"symbolStack",label:"符号栈",width:"180",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"input",label:"输入",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"action",label:"动作",align:"right"}})],1)],1)])},[],!1,null,"7b5855d3",null).exports),U={components:{GrammarIndicator:k},data:function(){var t=new B.a;return{grammar:new h.a,active:0,PPT:t,PPTData:t.getTableData(),wrapper:null,pre_notice:"",notice:"",started:!1,curStep:-1,curHighlightSymbols:[],autoTime:1e3,autoTimer:null,isAllDone:!1}},methods:{onChagneProduction:function(t){this.active=t},start:function(){var t=new H(this.grammar);this.wrapper=new _.a(t),this.wrapper.init(),this.started=!0,this.isAllDone=!1,this.curHighlightSymbols=[],this.sync()},sync:function(){this.active=this.wrapper.getContext().cur_g_index,this.PPTData=this.wrapper.getCurResult(),this.isAllDone=this.wrapper.isAllDone(),this.isAllDone&&null!==this.autoTimer&&(clearTimeout(this.autoTimer),this.autoTimer=null)},next:function(){var t=this.wrapper.next(),e=t.notice,n=(t.curProduction,t.step),r=t.highlightSymbols;this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=r,this.sync()},skip:function(){var t=this.wrapper.skip(),e=t.notice,n=(t.curProduction,t.step),r=t.highlightSymbols;this.curStep=n,this.pre_notice=this.notice,this.notice=e,this.curHighlightSymbols=r,this.sync()},oldnext:function(){var t=this,e=new Set(this.curFirstSet),n=new Set(this.curFollowSet),r=this.grammar.getEmptySign(),o=this.grammar.getStackBottomSign(),l=!0,c=!1,m=void 0;try{for(var h,d=e[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var symbol=h.value;this.PPT.set(this.curProduction.head,symbol,this.curProduction)}}catch(t){c=!0,m=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw m}}e.has(r)&&(this.curFollowSet.filter(function(t){return t.isTerminal()}).forEach(function(e){t.PPT.set(t.curProduction.head,e,t.curProduction)}),n.has(o)&&this.PPT.set(this.curProduction.head,o,this.curProduction)),this.active++,this.PPTData=this.PPT.getTableData()},startAutoPlay:function(){var t=this;this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},stopAutoPlay:function(){clearTimeout(this.autoTimer),this.autoTimer=null},runAll:function(){var t=this;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.start(),!1===this.isAllDone&&(this.skip(),this.$nextTick(function(){t.runAll(!1)}))},autoloop:function(){var t=this;this.next(),this.isAllDone?this.autoTimer=null:this.autoTimer=setTimeout(function(){t.autoloop()},this.autoTime)},finish:function(){this.$eventbus.$emit("FinishPPT")},setGrammar:function(t){this.grammar=t,this.PPT=new H(t).run(),this.runAll()}},computed:{curProduction:function(){var t=this.grammar.getProductions();return t.length>this.active?t[this.active]:null},curFirstSet:function(){var t=this.curProduction;return null===t?[]:this.grammar.getProductionBodyFirstSet(t)},curFollowSet:function(){var t=this.curProduction;return null===t?[]:this.grammar.getSignFollowSet(t.head)},tableTerminals:function(){var t=this.PPTData,e=(t.nonterminals,t.terminals);t.table;return e.filter(function(t){return!t.isEmpty()}).map(function(t){return t.getString()})},tableData:function(){var t=this.PPTData,e=t.nonterminals,n=t.terminals,table=t.table,r=[],i=0,o=!0,l=!1,c=void 0;try{for(var m,h=e[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){var d={nonterminal:m.value.getString()};for(var f in table[i]){var v=n[f];null===table[i][f]?d[v.getString()]="":d[v.getString()]=table[i][f].getString()}r.push(d),i++}}catch(t){l=!0,c=t}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}return r},algorithmSteps:function(){return["对于产生式A->α，对于First(α)每个终结符号a，将A->α加入到分析表M[A,a]中","若First(α)中存在ε, 将Follow(A)中的每个终结符号b，将A->α加入到分析表M[A,b]中","若First(α)中存在ε 且 Follow(A)中存在$，将A->α加入到M[A,$]中"]}},mounted:function(){}},K=(n(371),Object(c.a)(U,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ppt"},[n("div",{staticClass:"algorithm"},[n("div",{staticClass:"left"},[n("p",{staticClass:"title"},[t._v("算法流程：")]),t._v(" "),t._l(t.algorithmSteps,function(e,r){return n("p",{key:r,staticClass:"step",class:{active:t.curStep===r}},[t._v(t._s(e))])})],2),t._v(" "),n("div",{staticClass:"right"},[n("p",{staticClass:"title"},[t._v("当前操作：")]),t._v(" "),n("p",{staticClass:"step"},[t._v(t._s(t.pre_notice))]),t._v(" "),n("p",{staticClass:"title"},[t._v("下一步操作：")]),t._v(" "),n("p",{staticClass:"step"},[t._v(t._s(t.notice))])])]),t._v(" "),n("div",{staticClass:"grammar-content"},[n("div",{staticClass:"left"},[n("GrammarIndicator",{staticStyle:{width:"200px"},attrs:{grammar:t.grammar,active:t.active},on:{changeProduction:t.onChagneProduction}})],1),t._v(" "),n("div",{staticClass:"center"},[n("div",{staticClass:"up"},[null!==t.curProduction?[n("span",{staticClass:"title"},[t._v("First("+t._s(t.curProduction.body.map(function(t){return t.getString()}).join(""))+")")]),t._v(" "),n("div",{staticClass:"set-div"},t._l(t.curFirstSet,function(e,r){return n("span",{key:r,class:{active:-1!==t.curHighlightSymbols.indexOf(e)}},[t._v(t._s(e.getString()))])}),0)]:t._e()],2),t._v(" "),n("div",{staticClass:"down"},[null!==t.curProduction?[n("span",{staticClass:"title"},[t._v("Follow("+t._s(t.curProduction.head.getString())+")")]),t._v(" "),n("div",{staticClass:"set-div"},t._l(t.curFollowSet,function(e,r){return n("span",{key:r,class:{active:-1!==t.curHighlightSymbols.indexOf(e)}},[t._v(t._s(e.getString()))])}),0)]:t._e()],2)]),t._v(" "),n("div",{staticClass:"right"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"Non Terminal",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.nonterminal))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Input Symbol"}},t._l(t.tableTerminals,function(e,r){return n("el-table-column",{key:r,attrs:{label:e,width:"120"},scopedSlots:t._u([{key:"default",fn:function(r){return[n("span",[t._v(t._s(r.row[e]))])]}}],null,!0)})}),1)],1),t._v(" "),n("div",{staticStyle:{position:"absolute",bottom:"10px",left:"10px"}},[!1===t.started?[n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始")])]:t._e(),t._v(" "),!0===t.started&&!1===t.isAllDone?[n("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.skip}},[t._v("跳过")]),t._v(" "),null===t.autoTimer?n("el-button",{attrs:{type:"info"},on:{click:t.startAutoPlay}},[t._v("自动播放")]):t._e(),t._v(" "),null!==t.autoTimer?n("el-button",{attrs:{type:"danger"},on:{click:t.stopAutoPlay}},[t._v("停止播放")]):t._e()]:t._e(),t._v(" "),t.started?n("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("重新开始")]):t._e()],2)],1)])])},[],!1,null,"ff8e3d5e",null).exports),Q=n(345),X=n(328),Y={layout:"grammar",data:function(){return{curStep:"GrammarInput",grammar:new h.a,rawGrammar:new h.a}},components:{GrammarInput:f,FirstSet:L,FollowSet:j,IsLL1:z,ParsingStack:J,PredictiveParsingTable:K,ExtractLeftFactor:S,EliminateLeftRecursion:Q.a},mounted:function(){var t=this;this.$eventbus.$on("FinishInputGrammar",function(e){t.rawGrammar=e,t.jumptTo("EliminateLeftRecursion")}),this.$eventbus.$on("FinishEliminateLeftRecursion",function(){t.jumptTo("ExtractLeftFactor")}),this.$eventbus.$on("FinishExtractLeftFactor",function(){t.jumptTo("FirstSet")}),this.$eventbus.$on("FinishFirstSet",function(){t.jumptTo("FollowSet")}),this.$eventbus.$on("FinishFollowSet",function(){t.jumptTo("IsLL1")}),this.$eventbus.$on("FinishIsLL1",function(){t.jumptTo("PredictiveParsingTable")}),this.$eventbus.$on("FinishPPT",function(){t.jumptTo("ParsingStack")}),this.$eventbus.$on("goto",function(e){t.jumptTo(e)})},methods:{jumptTo:function(t){var e=this;try{this.regenerate(t),this.$store.commit("global/setStep",t),"GrammarInput"===t&&(this.grammar=new h.a,this.rawGrammar=new h.a),this.curStep=t,this.$nextTick(function(){"EliminateLeftRecursion"===t&&e.$refs[t].setGrammar(e.rawGrammar),"ExtractLeftFactor"===t&&e.$refs[t].setGrammar(e.grammar),"FirstSet"===t&&e.$refs[t].setGrammar(e.grammar),"FollowSet"===t&&e.$refs[t].setGrammar(e.grammar),"IsLL1"===t&&e.$refs[t].setGrammar(e.grammar),"PredictiveParsingTable"===t&&e.$refs[t].setGrammar(e.grammar),"ParsingStack"===t&&e.$refs[t].setGrammar(e.grammar)})}catch(t){console.log(t),this.$alert(t.message,"错误",{confirmButtonText:"确定",type:"error"})}},regenerate:function(t){if("GrammarInput"!==t){if(0===this.rawGrammar.getProductions().length)throw this.jumptTo("GrammarInput"),new Error("请先拟定文法");if("EliminateLeftRecursion"!==t){var e=Object(X.a)(this.rawGrammar).eliminateLeftRecursionGrammar;if(this.grammar=e,"ExtractLeftFactor"!==t){var n=new v.a(this.grammar).run().newGrammar;if(this.grammar=n,"FirstSet"!==t){var r=new x.a(this.grammar).run();if(this.grammar.setFirstSet(r),"FollowSet"!==t){var o=new O(this.grammar);if(this.grammar.setFollowSet(o.run()),"IsLL1"!==t){if(!1===Object($.a)(this.grammar).isLL1)throw this.jumptTo("IsLL1"),new Error("该文法不是LL1, 无法进入下一步骤");if("PredictiveParsingTable"!==t){var l=new H(this.grammar);this.grammar.setPPT(l.run())}}}}}}}}}},Z=Object(c.a)(Y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("grammar-input",{directives:[{name:"show",rawName:"v-show",value:"GrammarInput"===t.curStep,expression:"curStep === 'GrammarInput'"}],ref:"GrammarInput"}),t._v(" "),"EliminateLeftRecursion"===t.curStep?n("EliminateLeftRecursion",{ref:"EliminateLeftRecursion"}):t._e(),t._v(" "),"ExtractLeftFactor"===t.curStep?n("extract-left-factor",{ref:"ExtractLeftFactor"}):t._e(),t._v(" "),"FirstSet"===t.curStep?n("first-set",{ref:"FirstSet"}):t._e(),t._v(" "),"FollowSet"===t.curStep?n("follow-set",{ref:"FollowSet"}):t._e(),t._v(" "),"IsLL1"===t.curStep?n("IsLL1",{ref:"IsLL1"}):t._e(),t._v(" "),"PredictiveParsingTable"===t.curStep?n("PredictiveParsingTable",{ref:"PredictiveParsingTable"}):t._e(),t._v(" "),"ParsingStack"===t.curStep?n("parsing-stack",{ref:"ParsingStack"}):t._e()],1)},[],!1,null,"767a5a2d",null);e.default=Z.exports}}]);