(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{310:function(t,e,n){"use strict";n(309),n(74),n(75);var r=n(308),o=(n(50),n(25),n(111),n(311),n(305)),l=n(306),c=n(315),h=n(316),y=n(307),d=n.n(y),f=n(312),v=n(314),m=function(){function t(){Object(o.a)(this,t),this.productions=[],this.signs=new Map,this.firstSet=new f.a,this.followSet=new f.a,this.PPT=new v.a,this.startSign=null,this.getEmptySign(),this.getStackBottomSign()}return Object(l.a)(t,[{key:"clone",value:function(){var e=new t,n=!0,o=!1,l=void 0;try{for(var c,h=this.signs.keys()[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){var y=c.value;e.signs.set(y,this.signs.get(y))}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return e.productions=Object(r.a)(this.productions),e.firstSet=this.firstSet.clone(),e.followSet=this.followSet.clone(),e.PPT=this.PPT.clone(),e.startSign=this.startSign,e}},{key:"setFirstSet",value:function(t){this.firstSet=t}},{key:"setFollowSet",value:function(t){this.followSet=t}},{key:"setPPT",value:function(t){this.PPT=t}},{key:"setStartSign",value:function(t){d.a.strictEqual(this.checkSignsExist([t]),!0,"Sign should be added first"),this.startSign=this.getSign(t)}},{key:"getStartSign",value:function(){return d.a.notStrictEqual(this.startSign,null,"Start Sign has not been defined."),this.startSign}},{key:"getSign",value:function(symbol){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(symbol instanceof h.a){var e=symbol;symbol=e.symbol,t=e.type}return this.signs.has(symbol)?void 0!==t&&d.a.strictEqual(t,this.signs.get(symbol).type,"type should be the same"):this.signs.set(symbol,new h.a(symbol,t)),this.signs.get(symbol)}},{key:"hasSymbol",value:function(symbol){return this.signs.has(symbol)}},{key:"printProductions",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this.productions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var l=r.value;console.log(l.getString())}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}}},{key:"getSignUnusedAlias",value:function(t){for(var e=t.getString();;)if(e+="'",!this.hasSymbol(e))return this.getSign(e,t.type)}},{key:"getEmptySign",value:function(){return this.getSign("Îµ","Empty")}},{key:"getStackBottomSign",value:function(){return this.getSign("$","StackBottom")}},{key:"checkSignsExist",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,l=t[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var c=o.value;if("string"==typeof c){if(!this.signs.has(c)||this.signs.get(c).symbol!==c)return!1}else if(!this.signs.has(c.symbol)||this.signs.get(c.symbol)!==c)return!1;return!0}}catch(t){n=!0,r=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}}},{key:"addProduction",value:function(head,body){d.a.strictEqual(this.checkSignsExist([head].concat(Object(r.a)(body))),!0,"All Sign should be add first");var t=new c.a(head,body);return this.productions.push(t),t}},{key:"getProductions",value:function(){return this.productions}},{key:"getDerivations",value:function(head){return"string"==typeof head&&(d.a.strictEqual(this.signs.has(head),!0),head=this.signs.get(head)),this.productions.filter(function(t){return t.head.symbol===head.symbol})}},{key:"deleteProduction",value:function(head,body){for(var a=0;a<this.productions.length;a++){if(this.productions[a].isSameOf(head,body))return this.productions.splice(a,1),!0}return!1}},{key:"getTerminals",value:function(){return Object(r.a)(this.signs.values()).filter(function(t){return"Terminal"===t.type})}},{key:"getNonterminals",value:function(){return Object(r.a)(this.signs.values()).filter(function(t){return"Nonterminal"===t.type})}},{key:"getSignFirstSet",value:function(t){return d.a.strictEqual(this.signs.has(t.symbol),!0),t.isNonterminal()?(t=this.getSign(t.symbol),this.firstSet.has(t)?Object(r.a)(this.firstSet.get(t)):[]):[t]}},{key:"getProductionBodyFirstSet",value:function(t){return this.getSignsFirstSet(t.getBody())}},{key:"getSignsFirstSet",value:function(t){var e=new Set,n=!0,o=this.getEmptySign(),l=!0,c=!1,h=void 0;try{for(var y,d=t[Symbol.iterator]();!(l=(y=d.next()).done);l=!0){var f=y.value;!0===n&&this.getSignFirstSet(f).filter(function(t){return t.isTerminal()}).forEach(function(t){return e.add(t)}),new Set(this.getSignFirstSet(f)).has(o)||(n=!1)}}catch(t){c=!0,h=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}return n&&t.length>0&&e.add(o),Object(r.a)(e)}},{key:"getSignFollowSet",value:function(t){return d.a.strictEqual(this.signs.has(t.symbol),!0),t=this.getSign(t.symbol),this.followSet.has(t)?Object(r.a)(this.followSet.get(t)):[]}}]),t}();e.a=m},312:function(t,e,n){"use strict";var r=n(308),o=(n(74),n(75),n(309),n(50),n(25),n(111),n(311),n(305)),l=n(306),c=n(307),h=n.n(c),y=function(){function t(){Object(o.a)(this,t),this.map=new Map,this.dirty=!1}return Object(l.a)(t,[{key:"get",value:function(t){return!1===this.map.has(t)&&(console.log(t),console.log(this)),h.a.strictEqual(this.map.has(t),!0),this.map.get(t)}},{key:"add",value:function(t,e){this.map.has(t)||this.map.set(t,new Set),this.map.get(t).has(e)||(this.map.get(t).add(e),this.setDirty())}},{key:"has",value:function(t){return this.map.has(t)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"clearDirty",value:function(){this.dirty=!1}},{key:"isDirty",value:function(){return this.dirty}},{key:"print",value:function(){var t=!0,e=!1,n=void 0;try{for(var o,l=this.map.keys()[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var c=o.value;console.log(c.getString(),"->",Object(r.a)(this.map.get(c)).map(function(t){return t.getString()}).join(" "))}}catch(t){e=!0,n=t}finally{try{t||null==l.return||l.return()}finally{if(e)throw n}}}},{key:"clone",value:function(){var e=new t,n=!0,r=!1,o=void 0;try{for(var l,c=this.map.keys()[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value,y=!0,d=!1,f=void 0;try{for(var v,m=this.get(h)[Symbol.iterator]();!(y=(v=m.next()).done);y=!0){var S=v.value;e.add(h,S)}}catch(t){d=!0,f=t}finally{try{y||null==m.return||m.return()}finally{if(d)throw f}}}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e}}]),t}();e.a=y},313:function(t,e,n){"use strict";var r=n(9),o=n(318);r(r.S+r.F*n(13)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},314:function(t,e,n){"use strict";n(74),n(75);var r=n(308),o=(n(309),n(50),n(25),n(111),n(311),n(305)),l=n(306),c=n(307),h=n.n(c),y=function(){function t(){Object(o.a)(this,t),this.map=new Map,this.nonterminals=new Set,this.terminals=new Set}return Object(l.a)(t,[{key:"clone",value:function(){var e=new t,n=!0,o=!1,l=void 0;try{for(var c,h=this.map.keys()[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){var y=c.value;e.map.set(y,this.map.get(y))}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return e.nonterminals=new Set(Object(r.a)(this.nonterminals)),e.terminals=new Set(Object(r.a)(this.terminals)),e}},{key:"get",value:function(t,e){if(!this.map.has(t))return null;var n=this.map.get(t);return n.has(e)?n.get(e):null}},{key:"set",value:function(t,e,n){this.map.has(t)||this.map.set(t,new Map);var r=this.map.get(t);r.has(e)&&(console.log(t.getString(),e.getString(),n.getString()),console.log(r.get(e).getString(),n.getString()),h.a.strictEqual(r.get(e).getString(),n.getString(),"has more than one item")),r.set(e,n),this.nonterminals.add(t),this.terminals.add(e)}},{key:"getTableData",value:function(){var t=Object(r.a)(this.nonterminals),e=Object(r.a)(this.terminals),table=[],n=!0,o=!1,l=void 0;try{for(var c,h=t[Symbol.iterator]();!(n=(c=h.next()).done);n=!0){var y=c.value,d=[],f=!0,v=!1,m=void 0;try{for(var S,x=e[Symbol.iterator]();!(f=(S=x.next()).done);f=!0){var w=S.value;d.push(this.get(y,w))}}catch(t){v=!0,m=t}finally{try{f||null==x.return||x.return()}finally{if(v)throw m}}table.push(d)}}catch(t){o=!0,l=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw l}}return{nonterminals:t,terminals:e,table:table}}}]),t}();e.a=y},315:function(t,e,n){"use strict";var r=n(305),o=n(306),l=function(){function t(head,body){Object(r.a)(this,t),this.head=head,this.body=body}return Object(o.a)(t,[{key:"getString",value:function(){return this.head.getString()+"->"+this.body.map(function(t){return t.getString()}).join("")}},{key:"getTerminals",value:function(){return this.body.filter(function(t){return"Terminal"===t.type})}},{key:"getNonterminals",value:function(){return this.body.filter(function(t){return"Nonterminal"===t.type})}},{key:"getHeadString",value:function(){return this.head.getString()}},{key:"getBodyString",value:function(){return this.body.map(function(t){return t.getString()}).join("")}},{key:"getHead",value:function(){return this.head}},{key:"getBody",value:function(){return this.body}},{key:"isSameOf",value:function(head,body){if(this.head===head&&body.length===this.body.length){for(var t=!0,i=0;i<body.length;i++)if(body[i]!==this.body[i]){t=!1;break}return t}return!1}}]),t}();e.a=l},316:function(t,e,n){"use strict";var r=n(305),o=n(306),l=n(307),c={Terminal:1,Nonterminal:2,Empty:3,StackBottom:4},i=0,h=function(){function t(symbol,e){Object(r.a)(this,t),l.notEqual(c[e],void 0,"type is not defined"),this.symbol=symbol,this.type=e,this.i=i++}return Object(o.a)(t,[{key:"getString",value:function(){return this.symbol}},{key:"isTerminal",value:function(){return"Terminal"===this.type}},{key:"isNonterminal",value:function(){return"Nonterminal"===this.type}},{key:"isEmpty",value:function(){return"Empty"===this.type}},{key:"isStackBottom",value:function(){return"StackBottom"===this.type}}]),t}();e.a=h},318:function(t,e,n){"use strict";var r=n(12),o=n(51);t.exports=function(object,t,e){t in object?r.f(object,t,o(0,e)):object[t]=e}},328:function(t,e,n){"use strict";var r=n(308),o=(n(111),n(309),n(77),n(117),n(173),n(174),n(25),n(74),n(75),n(50),n(112)),l=(n(313),n(305)),c=n(306),h=n(307),y=n.n(h),d=n(310),f=n(315),v=function(){function t(){Object(l.a)(this,t),this.data=Array.of()}return Object(c.a)(t,[{key:"pop",value:function(){return this.data.pop()}},{key:"push",value:function(t){this.data.push(t)}},{key:"top",value:function(){return y()(0!==this.data.length,"ç©ºæ "),this.data[this.data.length-1]}},{key:"bottom",value:function(){return y()(0!==this.data.length,"ç©ºæ "),this.data[0]}},{key:"isEmpty",value:function(){return 0===this.data.length}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"getData",value:function(){return this.data}},{key:"getDataViaIndex",value:function(t){return this.data[t]}}]),t}(),m=function(){function t(e){Object(l.a)(this,t),Object(o.a)(this,"immedationRecursion",Array.of()),Object(o.a)(this,"indirectRecursion",Array.of()),Object(o.a)(this,"nollableNonterminal",Array.of()),Object(o.a)(this,"solutionSpace",new v),Object(o.a)(this,"derivationStack",new v),Object(o.a)(this,"eliminatingEmptyGrammar",new d.a),Object(o.a)(this,"eliminatingCyclesGrammar",new d.a),Object(o.a)(this,"eliminateLeftRecursionGrammar",new d.a),this.grammar=e,this.immedationRecursion=this.scanImmedationLeftRecursion(this.grammar.getProductions());var n={productions:Array.of(),index:0,bodySymbolIndex:0},r=!0,c=!1,h=void 0;try{for(var y,f=this.grammar.getProductions()[Symbol.iterator]();!(r=(y=f.next()).done);r=!0){var m=y.value;this.productionIsCycle(m)?this.indirectRecursion.push([m]):this.productionIsImmedationLeftRecursion(m)||n.productions.push(m)}}catch(t){c=!0,h=t}finally{try{r||null==f.return||f.return()}finally{if(c)throw h}}this.solutionSpace.push(n),this.derivationStack.push(n.productions[n.index]),this.scanIndirectLeftRecursion(this.solutionSpace,this.derivationStack),console.log("Indirect left recursion");var S=!0,x=!1,w=void 0;try{for(var k,B=this.indirectRecursion[Symbol.iterator]();!(S=(k=B.next()).done);S=!0){var i=k.value,P="",E=!0,R=!1,I=void 0;try{for(var O,T=i[Symbol.iterator]();!(E=(O=T.next()).done);E=!0){P+=O.value.getString()+", "}}catch(t){R=!0,I=t}finally{try{E||null==T.return||T.return()}finally{if(R)throw I}}P=P.slice(0,-2),console.log(P)}}catch(t){x=!0,w=t}finally{try{S||null==B.return||B.return()}finally{if(x)throw w}}console.log("Immedation left recursion");var j=!0,N=!1,L=void 0;try{for(var D,G=this.immedationRecursion[Symbol.iterator]();!(j=(D=G.next()).done);j=!0){var H=D.value;console.log(H.getString())}}catch(t){N=!0,L=t}finally{try{j||null==G.return||G.return()}finally{if(N)throw L}}if(0!==this.indirectRecursion.length){this.eliminatingEmptyGrammar=this.eliminatingEmptyProduction(this.grammar),console.log("æ¶é¤Îµäº§çå¼åçææ³");var A=this.eliminatingEmptyGrammar;console.log("Start symbol: "+A.getStartSign().getString()),console.log("Productions"),A.productions.forEach(function(t){console.log(t.getHeadString()+"->"+t.getBodyString())});var C="";A.getNonterminals().forEach(function(t){C+=t.getString()+" "}),console.log("Nonterminals: "+C);var F="";A.getTerminals().forEach(function(t){F+=t.getString()+" "}),console.log("Terminals: "+F),this.eliminatingCyclesGrammar=this.eliminatingCycles(this.eliminatingEmptyGrammar),console.log("æ¶é¤ç¯åçææ³");var M=this.eliminatingCyclesGrammar;console.log("Start symbol: "+M.getStartSign().getString()),console.log("Productions"),M.productions.forEach(function(t){console.log(t.getHeadString()+"->"+t.getBodyString())});var U="";M.getNonterminals().forEach(function(t){U+=t.getString()+" "}),console.log("Nonterminals: "+U);var J="";M.getTerminals().forEach(function(t){J+=t.getString()+" "}),console.log("Terminals: "+J),this.eliminateLeftRecursionGrammar=this.eliminatingLeftRecursion(this.eliminatingCyclesGrammar),console.log("æ¶é¤å·¦éå½åçææ³");var V=this.eliminateLeftRecursionGrammar;console.log("Start symbol: "+V.getStartSign().getString()),console.log("Productions"),V.productions.forEach(function(t){console.log(t.getHeadString()+"->"+t.getBodyString())});var $="";V.getNonterminals().forEach(function(t){$+=t.getString()+" "}),console.log("Nonterminals: "+$);var z="";V.getTerminals().forEach(function(t){z+=t.getString()+" "}),console.log("Terminals: "+z)}else if(0!==this.immedationRecursion.length){this.eliminateLeftRecursionGrammar=this.eliminatingImmedationRecursion(this.grammar),console.log("æ¶é¤å·¦éå½åçææ³");var K=this.eliminateLeftRecursionGrammar;console.log("Start symbol: "+K.getStartSign().getString()),console.log("Productions"),K.productions.forEach(function(t){console.log(t.getHeadString()+"->"+t.getBodyString())});var Q="";K.getNonterminals().forEach(function(t){Q+=t.getString()+" "}),console.log("Nonterminals: "+Q);var W="";K.getTerminals().forEach(function(t){W+=t.getString()+" "}),console.log("Terminals: "+W)}else this.eliminateLeftRecursionGrammar=this.grammar}return Object(c.a)(t,[{key:"scanImmedationLeftRecursion",value:function(t){for(var e=[],i=0;i<t.length;i++)this.productionIsImmedationLeftRecursion(t[i])&&e.push(t[i]);return e}},{key:"productionIsImmedationLeftRecursion",value:function(t){return t.getHead()===t.getBody()[0]&&t.getBody().length>1}},{key:"productionIsCycle",value:function(t){return t.getHead()===t.getBody()[0]&&1===t.getBody().length}},{key:"scanIndirectLeftRecursion",value:function(t,e){console.log("-----------------------------------");var n=t.getData(),r=!0,o=!1,l=void 0;try{for(var c,h=n[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){for(var i=c.value,y="",d=0;d<i.productions.length;d++)y+=i.productions[d].getString()+", ";console.log(y+i.index.toString()+", "+i.bodySymbolIndex.toString())}}catch(t){o=!0,l=t}finally{try{r||null==h.return||h.return()}finally{if(o)throw l}}console.log("************************************");var f=e.getData(),v="",m=!0,S=!1,x=void 0;try{for(var w,k=f[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var B=w.value;v+=void 0!==B?B.getString()+", ":"undefined, "}}catch(t){S=!0,x=t}finally{try{m||null==k.return||k.return()}finally{if(S)throw x}}v=v.slice(0,-2),console.log(v),console.log("-----------------------------------");var P=t.bottom();if(P.index!==P.productions.length){var E=t.pop();if(E.index>=E.productions.length){var R=t.pop();return R.index++,R.bodySymbolIndex=0,e.pop(),e.pop(),e.push(R.productions[R.index]),t.push(R),this.scanIndirectLeftRecursion(t,e)}if(this.hasLeftRecursionInDerivationStack(e)&&!e.top().getBody()[0].isEmpty())return E.index++,e.pop(),e.push(E.productions[E.index]),t.push(E),this.scanIndirectLeftRecursion(t,e);var I=E.productions[E.index];if(E.bodySymbolIndex===I.getBody().length)return E.index++,E.bodySymbolIndex=0,e.pop(),e.push(E.productions[E.index]),t.push(E),this.scanIndirectLeftRecursion(t,e);var O=I.getBody()[E.bodySymbolIndex];if(O.isTerminal())return E.index++,E.bodySymbolIndex=0,e.pop(),e.push(E.productions[E.index]),t.push(E),this.scanIndirectLeftRecursion(t,e);if(O.isNonterminal()){for(var T={productions:Array.of(),index:0,bodySymbolIndex:0},j=this.grammar.getDerivations(O),N=0;N<j.length;N++)this.immedationRecursion.includes(j[N])||this.productionIsCycle(j[N])||T.productions.push(j[N]);return 0===T.productions.length?(E.index++,E.bodySymbolIndex=0,e.pop(),e.push(E.productions[E.index]),t.push(E),this.scanIndirectLeftRecursion(t,e)):(t.push(E),t.push(T),e.push(T.productions[T.index]),this.scanIndirectLeftRecursion(t,e))}if(O.isEmpty())for(var data=t.getData(),L=1,D=data.length-1;D>=0;D--){var G=data[D],body=G.productions[G.index].getBody();if(!body[G.bodySymbolIndex].isEmpty()){if(G.bodySymbolIndex++,G.bodySymbolIndex===body.length){for(var H=1;H<L;H++)t.pop();for(var A=0;A<L;A++)e.pop();var C=t.pop();return C.index++,C.bodySymbolIndex=0,e.pop(),e.push(C.productions[C.index]),t.push(C),this.scanIndirectLeftRecursion(t,e)}var F=body[G.bodySymbolIndex],M=this.grammar.getDerivations(F);if(0===M.length){for(var U=1;U<L;U++)t.pop();for(var J=0;J<L;J++)e.pop();var V=t.pop();return V.index++,V.bodySymbolIndex=0,e.pop(),e.push(V.productions[V.index]),t.push(V),this.scanIndirectLeftRecursion(t,e)}var $={productions:Array.of(),index:0,bodySymbolIndex:0},z=!0,K=!1,Q=void 0;try{for(var W,X=M[Symbol.iterator]();!(z=(W=X.next()).done);z=!0){var Y=W.value;this.immedationRecursion.includes(Y)||this.productionIsCycle(Y)||$.productions.push(Y)}}catch(t){K=!0,Q=t}finally{try{z||null==X.return||X.return()}finally{if(K)throw Q}}if(0===$.productions.length){for(var Z=1;Z<L;Z++)t.pop();for(var _=0;_<L;_++)e.pop();var tt=t.pop();return tt.index++,tt.bodySymbolIndex=0,e.pop(),e.push(tt.productions[tt.index]),t.push(tt),this.scanIndirectLeftRecursion(t,e)}return t.push(E),t.push($),e.push($.productions[$.index]),this.scanIndirectLeftRecursion(t,e)}L++}}}},{key:"hasLeftRecursionInDerivationStack",value:function(t){var data=t.getData(),e=t.top().getBody()[0];if(e.isEmpty()){for(var n=data.length-1,r=0;n>=0&&data[n].getBody()[0].isEmpty();n--)r++;if(n<0)return!1;var o=data[n];if(r===o.getBody().length)return!1;e=o.getBody()[r];for(var i=n;i>=0;i--){if(data[i].getHead()===e){for(var l=Array.of(),c=i;c<data.length;c++)l.push(data[c]);return this.indirectRecursion.push(l),!0}}return!1}for(var h=data.length-1;h>=0;h--){if(data[h].getHead()===e){for(var y=Array.of(),d=h;d<data.length;d++)y.push(data[d]);return this.indirectRecursion.push(y),!0}}return!1}},{key:"findnullableNonterminals",value:function(t){for(var e=!1,n=[];!e;){e=!0;var r=t.getNonterminals(),o=!0,l=!1,c=void 0;try{for(var h,y=r[Symbol.iterator]();!(o=(h=y.next()).done);o=!0){var d=h.value,f=t.getDerivations(d),v=!0,m=!1,S=void 0;try{for(var x,w=f[Symbol.iterator]();!(v=(x=w.next()).done);v=!0){var body=x.value.getBody(),k=!0,B=!1,P=void 0;try{for(var E,R=body[Symbol.iterator]();!(k=(E=R.next()).done);k=!0){var symbol=E.value;if(!symbol.isEmpty()&&!n.includes(symbol))break;body.indexOf(symbol)!==body.length-1||n.includes(d)||(n.push(d),e=!1)}}catch(t){B=!0,P=t}finally{try{k||null==R.return||R.return()}finally{if(B)throw P}}}}catch(t){m=!0,S=t}finally{try{v||null==w.return||w.return()}finally{if(m)throw S}}}}catch(t){l=!0,c=t}finally{try{o||null==y.return||y.return()}finally{if(l)throw c}}}return n}},{key:"eliminatingEmptyProduction",value:function(t){var e=new d.a;e.setStartSign(e.getSign(t.getStartSign()));var n=this.findnullableNonterminals(t),r=t.getProductions(),o=!0,l=!1,c=void 0;try{for(var h,y=r[Symbol.iterator]();!(o=(h=y.next()).done);o=!0){var v=h.value,m=e.getSign(v.getHead()),S=v.getBody();if(!S[0].isEmpty())if(this.allBodySymbolNotNullable(t,S)){var x=[],w=!0,k=!1,B=void 0;try{for(var P,E=S[Symbol.iterator]();!(w=(P=E.next()).done);w=!0){var symbol=P.value;x.push(e.getSign(symbol))}}catch(t){k=!0,B=t}finally{try{w||null==E.return||E.return()}finally{if(k)throw B}}var R=new f.a(m,x);!this.existTheProduction(e,R)&&x.length>0&&e.addProduction(m,x)}else{for(var I=0,O=[],i=0;i<S.length;i++)n.includes(S[i])&&(O.push(i),I++);I=Math.pow(2,I);for(var T=0;T<I;T++){for(var j=T,N=O.length,L=[],D=0,G=O;D<G.length;D++){var H={position:G[D],value:0};L.push(H)}for(;j;){var A=j%2;L[N-1].value=A,N--,j=Math.floor(j/2)}for(var C="[",F=0,M=L;F<M.length;F++){var U=M[F];C+="{"+U.position.toString()+","+U.value.toString()+"}"+", "}C=C.slice(0,-2),C+="]";var J=[],V=!0,$=!1,z=void 0;try{for(var K,Q=S[Symbol.iterator]();!(V=(K=Q.next()).done);V=!0){var W=K.value;J.push(e.getSign(W))}}catch(t){$=!0,z=t}finally{try{V||null==Q.return||Q.return()}finally{if($)throw z}}for(var X=0,Y=L;X<Y.length;X++){var Z=Y[X];0===Z.value&&J.splice(Z.position,1,0)}for(var _=[],tt=0,et=J;tt<et.length;tt++){var nt=et[tt];0!==nt&&_.push(e.getSign(nt))}var it=new f.a(m,_);0===_.length||this.existTheProduction(e,it)||e.addProduction(m,_)}}}}catch(t){l=!0,c=t}finally{try{o||null==y.return||y.return()}finally{if(l)throw c}}if(n.includes(t.getStartSign())){var head=e.getStartSign(),body=[e.getEmptySign()];e.addProduction(head,body)}return e}},{key:"existTheProduction",value:function(t,e){var n=t.getProductions(),r=!0,o=!1,l=void 0;try{for(var c,h=n[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){if(c.value.getString()===e.getString())return!0}}catch(t){o=!0,l=t}finally{try{r||null==h.return||h.return()}finally{if(o)throw l}}return!1}},{key:"allBodySymbolNotNullable",value:function(t,body){var e=this.findnullableNonterminals(t),n=!0,r=!1,o=void 0;try{for(var l,c=body[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var symbol=l.value;if(e.includes(symbol))return!1}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return!0}},{key:"eliminatingCycles",value:function(t){var e=new d.a,n=t;e.setStartSign(e.getSign(n.getStartSign()));var o=new Set,l=n.getProductions(),c=!0,h=!1,y=void 0;try{for(var v,m=l[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){var S=v.value;o.add(S.getHead())}}catch(t){h=!0,y=t}finally{try{c||null==m.return||m.return()}finally{if(h)throw y}}o=Object(r.a)(o);var x=[],w=!0,k=!1,B=void 0;try{for(var P,E=o[Symbol.iterator]();!(w=(P=E.next()).done);w=!0){var R={head:P.value,body:[],done:!1};x.push(R)}}catch(t){k=!0,B=t}finally{try{w||null==E.return||E.return()}finally{if(k)throw B}}for(var I=0,O=x;I<O.length;I++){var T=O[I],j=!0,N=!1,L=void 0;try{for(var D,G=l[Symbol.iterator]();!(j=(D=G.next()).done);j=!0){var H=D.value;H.getHead()===T.head&&1===H.getBody().length&&H.getBody()[0].isNonterminal()&&T.body.push(H.getBody()[0])}}catch(t){N=!0,L=t}finally{try{j||null==G.return||G.return()}finally{if(N)throw L}}if(T.body.length>0)for(;!T.done;){T.done=!0;var A=!0,C=!1,F=void 0;try{for(var M,U=T.body[Symbol.iterator]();!(A=(M=U.next()).done);A=!0){var symbol=M.value,J=!0,V=!1,$=void 0;try{for(var z,K=l[Symbol.iterator]();!(J=(z=K.next()).done);J=!0){var Q=z.value;Q.getHead()===symbol&&1===Q.getBody().length&&Q.getBody()[0].isNonterminal()&&(T.body.includes(Q.getBody()[0])||(T.body.push(Q.getBody()[0]),T.done=!1))}}catch(t){V=!0,$=t}finally{try{J||null==K.return||K.return()}finally{if(V)throw $}}}}catch(t){C=!0,F=t}finally{try{A||null==U.return||U.return()}finally{if(C)throw F}}}else T.done=!0}for(var W=0,X=x;W<X.length;W++){var Y=X[W],Z=e.getSign(Y.head),_=n.getDerivations(Z),tt=!0,et=!1,nt=void 0;try{for(var it,ot=_[Symbol.iterator]();!(tt=(it=ot.next()).done);tt=!0){var at=it.value;if(at.getBody().length>1||1===at.getBody().length&&!at.getBody()[0].isNonterminal()){var lt=[],st=!0,ut=!1,ct=void 0;try{for(var ht,gt=at.getBody()[Symbol.iterator]();!(st=(ht=gt.next()).done);st=!0){var yt=ht.value;lt.push(e.getSign(yt))}}catch(t){ut=!0,ct=t}finally{try{st||null==gt.return||gt.return()}finally{if(ut)throw ct}}var ft=new f.a(Z,lt);!this.existTheProduction(e,ft)&&lt.length>0&&e.addProduction(Z,lt)}}}catch(t){et=!0,nt=t}finally{try{tt||null==ot.return||ot.return()}finally{if(et)throw nt}}var body=Y.body,vt=!0,mt=!1,St=void 0;try{for(var pt,bt=body[Symbol.iterator]();!(vt=(pt=bt.next()).done);vt=!0){var xt=pt.value,wt=n.getDerivations(xt),kt=!0,Bt=!1,Pt=void 0;try{for(var Et,Rt=wt[Symbol.iterator]();!(kt=(Et=Rt.next()).done);kt=!0){var It=Et.value;if(It.getBody().length>1||1===It.getBody().length&&!It.getBody()[0].isNonterminal()){var Ot=[],Tt=It.getBody(),jt=!0,Nt=!1,Lt=void 0;try{for(var Dt,Gt=Tt[Symbol.iterator]();!(jt=(Dt=Gt.next()).done);jt=!0){var Ht=Dt.value;Ot.push(e.getSign(Ht))}}catch(t){Nt=!0,Lt=t}finally{try{jt||null==Gt.return||Gt.return()}finally{if(Nt)throw Lt}}var At=new f.a(Z,Ot);!this.existTheProduction(e,At)&&Ot.length>0&&e.addProduction(Z,Ot)}}}catch(t){Bt=!0,Pt=t}finally{try{kt||null==Rt.return||Rt.return()}finally{if(Bt)throw Pt}}}}catch(t){mt=!0,St=t}finally{try{vt||null==bt.return||bt.return()}finally{if(mt)throw St}}}return e}},{key:"eliminatingLeftRecursion",value:function(t){var e=new d.a;if(0===this.immedationRecursion.length&&0===this.indirectRecursion.length){e.setStartSign(e.getSign(t.getStartSign()));var n=!0,r=!1,o=void 0;try{for(var l,c=t.getProductions()[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value,head=e.getSign(h.getHead()),body=h.getBody().map(function(t){return e.getSign(t)});e.addProduction(head,body)}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}else{e.setStartSign(e.getSign(t.getStartSign()));var y=!0,v=!1,m=void 0;try{for(var S,x=t.getTerminals()[Symbol.iterator]();!(y=(S=x.next()).done);y=!0){var w=S.value;e.getSign(w)}}catch(t){v=!0,m=t}finally{try{y||null==x.return||x.return()}finally{if(v)throw m}}var k=!0,B=!1,P=void 0;try{for(var E,R=t.getNonterminals()[Symbol.iterator]();!(k=(E=R.next()).done);k=!0){var I=E.value;e.getSign(I)}}catch(t){B=!0,P=t}finally{try{k||null==R.return||R.return()}finally{if(B)throw P}}for(var O=t.getNonterminals(),i=0;i<O.length;i++){var T=t.getDerivations(O[i]),j=[];if(0===i){var N=!0,L=!1,D=void 0;try{for(var G,H=T[Symbol.iterator]();!(N=(G=H.next()).done);N=!0){var A=G.value;j.push(A)}}catch(t){L=!0,D=t}finally{try{N||null==H.return||H.return()}finally{if(L)throw D}}}else{var C=!0,F=!1,M=void 0;try{for(var U,J=T[Symbol.iterator]();!(C=(U=J.next()).done);C=!0){for(var V=U.value,$=!1,z=0;z<i;z++)if(V.getBody()[0]===O[z]){$=!0;var K=O[i],Q=t.getDerivations(O[z]),W=!0,X=!1,Y=void 0;try{for(var Z,_=Q[Symbol.iterator]();!(W=(Z=_.next()).done);W=!0){var tt=Z.value,et=[],nt=!0,it=!1,ot=void 0;try{for(var at,lt=tt.getBody()[Symbol.iterator]();!(nt=(at=lt.next()).done);nt=!0){var symbol=at.value;et.push(symbol)}}catch(t){it=!0,ot=t}finally{try{nt||null==lt.return||lt.return()}finally{if(it)throw ot}}for(var st=1;st<V.getBody().length;st++)et.push(V.getBody()[st]);var ut=new f.a(K,et);j.push(ut)}}catch(t){X=!0,Y=t}finally{try{W||null==_.return||_.return()}finally{if(X)throw Y}}break}$||j.push(V)}}catch(t){F=!0,M=t}finally{try{C||null==J.return||J.return()}finally{if(F)throw M}}}var ct=this.scanImmedationLeftRecursion(j);if(ct.length>0){var ht=e.getSignUnusedAlias(O[i]);if(j.length===ct.length){var gt=e.getSign(O[i].getString()),yt=[ht],ft=new f.a(gt,yt);!this.existTheProduction(e,ft)&&yt.length>0&&e.addProduction(gt,yt)}for(var vt=0,mt=j;vt<mt.length;vt++){var St=mt[vt];if(ct.includes(St)){for(var pt=ht,bt=[],xt=1;xt<St.getBody().length;xt++)bt.push(e.getSign(St.getBody()[xt]));bt.push(ht);var wt=new f.a(pt,bt);!this.existTheProduction(e,wt)&&bt.length>0&&e.addProduction(pt,bt)}else{var kt=e.getSign(St.getHead()),Bt=[],Pt=!0,Et=!1,Rt=void 0;try{for(var It,Ot=St.getBody()[Symbol.iterator]();!(Pt=(It=Ot.next()).done);Pt=!0){var Tt=It.value;Bt.push(e.getSign(Tt))}}catch(t){Et=!0,Rt=t}finally{try{Pt||null==Ot.return||Ot.return()}finally{if(Et)throw Rt}}Bt.push(ht);var jt=new f.a(kt,Bt);!this.existTheProduction(e,jt)&&Bt.length>0&&e.addProduction(kt,Bt)}}var Nt=ht,Lt=[e.getEmptySign()],Dt=new f.a(Nt,Lt);!this.existTheProduction(e,Dt)&&Lt.length>0&&e.addProduction(Nt,Lt)}else for(var Gt=0,Ht=j;Gt<Ht.length;Gt++){var At=Ht[Gt],Ct=e.getSign(At.getHead()),qt=[],Ft=!0,Mt=!1,Ut=void 0;try{for(var Jt,Vt=At.getBody()[Symbol.iterator]();!(Ft=(Jt=Vt.next()).done);Ft=!0){var $t=Jt.value;qt.push(e.getSign($t))}}catch(t){Mt=!0,Ut=t}finally{try{Ft||null==Vt.return||Vt.return()}finally{if(Mt)throw Ut}}var zt=new f.a(Ct,qt);!this.existTheProduction(e,zt)&&qt.length>0&&e.addProduction(Ct,qt)}}}return e}},{key:"eliminatingImmedationRecursion",value:function(t){var e=new d.a;e.setStartSign(e.getSign(t.getStartSign()));var n=!0,r=!1,o=void 0;try{for(var l,c=t.getTerminals()[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value;e.getSign(h)}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}var y=!0,v=!1,m=void 0;try{for(var S,x=t.getNonterminals()[Symbol.iterator]();!(y=(S=x.next()).done);y=!0){var w=S.value;e.getSign(w)}}catch(t){v=!0,m=t}finally{try{y||null==x.return||x.return()}finally{if(v)throw m}}var k=!0,B=!1,P=void 0;try{for(var E,R=t.getNonterminals()[Symbol.iterator]();!(k=(E=R.next()).done);k=!0){var I=E.value,O=t.getDerivations(I);if(0!==O.length){var T=this.scanImmedationLeftRecursion(O);if(T.length>0){var j=e.getSignUnusedAlias(I);if(T.length===O.length){var N=e.getSign(I),L=[j],D=new f.a(N,L);!this.existTheProduction(e,D)&&L.length>0&&e.addProduction(N,L)}var G=!0,H=!1,A=void 0;try{for(var C,F=O[Symbol.iterator]();!(G=(C=F.next()).done);G=!0){var M=C.value;if(T.includes(M)){for(var U=j,J=[],i=1;i<M.getBody().length;i++)J.push(e.getSign(M.getBody()[i]));J.push(j);var V=new f.a(U,J);!this.existTheProduction(e,V)&&J.length>0&&e.addProduction(U,J)}else{var $=e.getSign(M.getHead()),z=[],K=!0,Q=!1,W=void 0;try{for(var X,Y=M.getBody()[Symbol.iterator]();!(K=(X=Y.next()).done);K=!0){var symbol=X.value;z.push(e.getSign(symbol))}}catch(t){Q=!0,W=t}finally{try{K||null==Y.return||Y.return()}finally{if(Q)throw W}}z.push(j);var Z=new f.a($,z);!this.existTheProduction(e,Z)&&z.length>0&&e.addProduction($,z)}}}catch(t){H=!0,A=t}finally{try{G||null==F.return||F.return()}finally{if(H)throw A}}var head=j,body=[e.getEmptySign()],_=new f.a(head,body);!this.existTheProduction(e,_)&&body.length>0&&e.addProduction(head,body)}else{var tt=!0,et=!1,nt=void 0;try{for(var it,ot=O[Symbol.iterator]();!(tt=(it=ot.next()).done);tt=!0){var at=it.value,lt=e.getSign(at.getHead()),st=[],ut=!0,ct=!1,ht=void 0;try{for(var gt,yt=at.getBody()[Symbol.iterator]();!(ut=(gt=yt.next()).done);ut=!0){var ft=gt.value;st.push(e.getSign(ft))}}catch(t){ct=!0,ht=t}finally{try{ut||null==yt.return||yt.return()}finally{if(ct)throw ht}}var vt=new f.a(lt,st);!this.existTheProduction(e,vt)&&st.length>0&&e.addProduction(lt,st)}}catch(t){et=!0,nt=t}finally{try{tt||null==ot.return||ot.return()}finally{if(et)throw nt}}}}}}catch(t){B=!0,P=t}finally{try{k||null==R.return||R.return()}finally{if(B)throw P}}return e}}]),t}();e.a=function(t){var e=new m(t);return{immedationRecursion:e.immedationRecursion,indirectRecursion:e.indirectRecursion,eliminatingEmptyGrammar:e.eliminatingEmptyGrammar,eliminatingCyclesGrammar:e.eliminatingCyclesGrammar,eliminateLeftRecursionGrammar:e.eliminateLeftRecursionGrammar}}}}]);